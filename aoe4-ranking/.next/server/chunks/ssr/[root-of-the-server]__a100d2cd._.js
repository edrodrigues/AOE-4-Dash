module.exports=[54799,(a,b,c)=>{b.exports=a.x("crypto",()=>require("crypto"))},41335,(a,b,c)=>{"use strict";var d,e,f;Object.defineProperty(c,"__esModule",{value:!0}),c.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=c.DEFAULT_MAX_SEND_MESSAGE_LENGTH=c.Propagate=c.LogVerbosity=c.Status=void 0,function(a){a[a.OK=0]="OK",a[a.CANCELLED=1]="CANCELLED",a[a.UNKNOWN=2]="UNKNOWN",a[a.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",a[a.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",a[a.NOT_FOUND=5]="NOT_FOUND",a[a.ALREADY_EXISTS=6]="ALREADY_EXISTS",a[a.PERMISSION_DENIED=7]="PERMISSION_DENIED",a[a.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",a[a.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",a[a.ABORTED=10]="ABORTED",a[a.OUT_OF_RANGE=11]="OUT_OF_RANGE",a[a.UNIMPLEMENTED=12]="UNIMPLEMENTED",a[a.INTERNAL=13]="INTERNAL",a[a.UNAVAILABLE=14]="UNAVAILABLE",a[a.DATA_LOSS=15]="DATA_LOSS",a[a.UNAUTHENTICATED=16]="UNAUTHENTICATED"}(d||(c.Status=d={})),function(a){a[a.DEBUG=0]="DEBUG",a[a.INFO=1]="INFO",a[a.ERROR=2]="ERROR",a[a.NONE=3]="NONE"}(e||(c.LogVerbosity=e={})),function(a){a[a.DEADLINE=1]="DEADLINE",a[a.CENSUS_STATS_CONTEXT=2]="CENSUS_STATS_CONTEXT",a[a.CENSUS_TRACING_CONTEXT=4]="CENSUS_TRACING_CONTEXT",a[a.CANCELLATION=8]="CANCELLATION",a[a.DEFAULTS=65535]="DEFAULTS"}(f||(c.Propagate=f={})),c.DEFAULT_MAX_SEND_MESSAGE_LENGTH=-1,c.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=4194304},5365,(a,b,c)=>{b.exports=a.x("process",()=>require("process"))},36526,a=>{a.v({name:"@grpc/grpc-js",version:"1.9.15",description:"gRPC Library for Node - pure JS implementation",homepage:"https://grpc.io/",repository:"https://github.com/grpc/grpc-node/tree/master/packages/grpc-js",main:"build/src/index.js",engines:{node:"^8.13.0 || >=10.10.0"},keywords:[],author:{name:"Google Inc."},types:"build/src/index.d.ts",license:"Apache-2.0",devDependencies:{"@types/gulp":"^4.0.6","@types/gulp-mocha":"0.0.32","@types/lodash":"^4.14.186","@types/mocha":"^5.2.6","@types/ncp":"^2.0.1","@types/pify":"^3.0.2","@types/semver":"^7.3.9","@typescript-eslint/eslint-plugin":"^5.59.11","@typescript-eslint/parser":"^5.59.11","@typescript-eslint/typescript-estree":"^5.59.11","clang-format":"^1.0.55",eslint:"^8.42.0","eslint-config-prettier":"^8.8.0","eslint-plugin-node":"^11.1.0","eslint-plugin-prettier":"^4.2.1",execa:"^2.0.3",gulp:"^4.0.2","gulp-mocha":"^6.0.0",lodash:"^4.17.4",madge:"^5.0.1","mocha-jenkins-reporter":"^0.4.1",ncp:"^2.0.0",pify:"^4.0.1",prettier:"^2.8.8",rimraf:"^3.0.2",semver:"^7.3.5","ts-node":"^10.9.1",typescript:"^5.1.3"},contributors:[{name:"Google Inc."}],scripts:{build:"npm run compile",clean:"rimraf ./build",compile:"tsc -p .",format:'clang-format -i -style="{Language: JavaScript, BasedOnStyle: Google, ColumnLimit: 80}" src/*.ts test/*.ts',lint:"eslint src/*.ts test/*.ts",prepare:"npm run generate-types && npm run compile",test:"gulp test",check:"npm run lint",fix:"eslint --fix src/*.ts test/*.ts",pretest:"npm run generate-types && npm run generate-test-types && npm run compile",posttest:"npm run check && madge -c ./build/src","generate-types":"proto-loader-gen-types --keepCase --longs String --enums String --defaults --oneofs --includeComments --includeDirs proto/ --include-dirs test/fixtures/ -O src/generated/ --grpcLib ../index channelz.proto","generate-test-types":"proto-loader-gen-types --keepCase --longs String --enums String --defaults --oneofs --includeComments --include-dirs test/fixtures/ -O test/generated/ --grpcLib ../../src/index test_service.proto"},dependencies:{"@grpc/proto-loader":"^0.7.8","@types/node":">=12.12.47"},files:["src/**/*.ts","build/src/**/*.{js,d.ts,js.map}","proto/*.proto","LICENSE","deps/envoy-api/envoy/api/v2/**/*.proto","deps/envoy-api/envoy/config/**/*.proto","deps/envoy-api/envoy/service/**/*.proto","deps/envoy-api/envoy/type/**/*.proto","deps/udpa/udpa/**/*.proto","deps/googleapis/google/api/*.proto","deps/googleapis/google/rpc/*.proto","deps/protoc-gen-validate/validate/**/*.proto"]})},77497,(a,b,c)=>{"use strict";var d,e,f,g;Object.defineProperty(c,"__esModule",{value:!0}),c.isTracerEnabled=c.trace=c.log=c.setLoggerVerbosity=c.setLogger=c.getLogger=void 0;let h=a.r(41335),i=a.r(5365),j=a.r(36526).version,k={error:(a,...b)=>{console.error("E "+a,...b)},info:(a,...b)=>{console.error("I "+a,...b)},debug:(a,...b)=>{console.error("D "+a,...b)}},l=h.LogVerbosity.ERROR;switch((null!=(e=null!=(d=process.env.GRPC_NODE_VERBOSITY)?d:process.env.GRPC_VERBOSITY)?e:"").toUpperCase()){case"DEBUG":l=h.LogVerbosity.DEBUG;break;case"INFO":l=h.LogVerbosity.INFO;break;case"ERROR":l=h.LogVerbosity.ERROR;break;case"NONE":l=h.LogVerbosity.NONE}c.getLogger=()=>k,c.setLogger=a=>{k=a},c.setLoggerVerbosity=a=>{l=a},c.log=(a,...b)=>{let c;if(a>=l){switch(a){case h.LogVerbosity.DEBUG:c=k.debug;break;case h.LogVerbosity.INFO:c=k.info;break;case h.LogVerbosity.ERROR:c=k.error}c||(c=k.error),c&&c.bind(k)(...b)}};let m=null!=(g=null!=(f=process.env.GRPC_NODE_TRACE)?f:process.env.GRPC_TRACE)?g:"",n=new Set,o=new Set;for(let a of m.split(","))a.startsWith("-")?o.add(a.substring(1)):n.add(a);let p=n.has("all");function q(a,b,d){r(b)&&(0,c.log)(a,new Date().toISOString()+" | v"+j+" "+i.pid+" | "+b+" | "+d)}function r(a){return!o.has(a)&&(p||n.has(a))}c.trace=q,c.isTracerEnabled=r},77474,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.getErrorCode=c.getErrorMessage=void 0,c.getErrorMessage=function(a){return a instanceof Error?a.message:String(a)},c.getErrorCode=function(a){return"object"==typeof a&&null!==a&&"code"in a&&"number"==typeof a.code?a.code:null}},60803,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.Metadata=void 0;let d=a.r(77497),e=a.r(41335),f=a.r(77474),g=/^[0-9a-z_.-]+$/,h=/^[ -~]*$/;function i(a){return g.test(a)}function j(a){return h.test(a)}function k(a){return a.endsWith("-bin")}function l(a){return!a.startsWith("grpc-")}function m(a){return a.toLowerCase()}function n(a,b){if(!i(a))throw Error('Metadata key "'+a+'" contains illegal characters');if(null!=b)if(k(a)){if(!Buffer.isBuffer(b))throw Error("keys that end with '-bin' must have Buffer values")}else{if(Buffer.isBuffer(b))throw Error("keys that don't end with '-bin' must have String values");if(!j(b))throw Error('Metadata string value "'+b+'" contains illegal characters')}}class o{constructor(a={}){this.internalRepr=new Map,this.options=a}set(a,b){n(a=m(a),b),this.internalRepr.set(a,[b])}add(a,b){n(a=m(a),b);let c=this.internalRepr.get(a);void 0===c?this.internalRepr.set(a,[b]):c.push(b)}remove(a){a=m(a),this.internalRepr.delete(a)}get(a){return a=m(a),this.internalRepr.get(a)||[]}getMap(){let a={};for(let[b,c]of this.internalRepr)if(c.length>0){let d=c[0];a[b]=Buffer.isBuffer(d)?Buffer.from(d):d}return a}clone(){let a=new o(this.options),b=a.internalRepr;for(let[a,c]of this.internalRepr){let d=c.map(a=>Buffer.isBuffer(a)?Buffer.from(a):a);b.set(a,d)}return a}merge(a){for(let[b,c]of a.internalRepr){let a=(this.internalRepr.get(b)||[]).concat(c);this.internalRepr.set(b,a)}}setOptions(a){this.options=a}getOptions(){return this.options}toHttp2Headers(){let a={};for(let[b,c]of this.internalRepr)a[b]=c.map(p);return a}toJSON(){let a={};for(let[b,c]of this.internalRepr)a[b]=c;return a}static fromHttp2Headers(a){let b=new o;for(let c of Object.keys(a)){if(":"===c.charAt(0))continue;let g=a[c];try{k(c)?Array.isArray(g)?g.forEach(a=>{b.add(c,Buffer.from(a,"base64"))}):void 0!==g&&(l(c)?g.split(",").forEach(a=>{b.add(c,Buffer.from(a.trim(),"base64"))}):b.add(c,Buffer.from(g,"base64"))):Array.isArray(g)?g.forEach(a=>{b.add(c,a)}):void 0!==g&&b.add(c,g)}catch(b){let a=`Failed to add metadata entry ${c}: ${g}. ${(0,f.getErrorMessage)(b)}. For more information see https://github.com/grpc/grpc-node/issues/1173`;(0,d.log)(e.LogVerbosity.ERROR,a)}}return b}}c.Metadata=o;let p=a=>Buffer.isBuffer(a)?a.toString("base64"):a},11914,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.CallCredentials=void 0;let d=a.r(60803);function e(a){return"getRequestHeaders"in a&&"function"==typeof a.getRequestHeaders}class f{static createFromMetadataGenerator(a){return new h(a)}static createFromGoogleCredential(a){return f.createFromMetadataGenerator((b,c)=>{let f;(f=e(a)?a.getRequestHeaders(b.service_url):new Promise((c,d)=>{a.getRequestMetadata(b.service_url,(a,b)=>{a?d(a):b?c(b):d(Error("Headers not set by metadata plugin"))})})).then(a=>{let b=new d.Metadata;for(let c of Object.keys(a))b.add(c,a[c]);c(null,b)},a=>{c(a)})})}static createEmpty(){return new i}}c.CallCredentials=f;class g extends f{constructor(a){super(),this.creds=a}async generateMetadata(a){let b=new d.Metadata;for(let c of(await Promise.all(this.creds.map(b=>b.generateMetadata(a)))))b.merge(c);return b}compose(a){return new g(this.creds.concat([a]))}_equals(a){return this===a||a instanceof g&&this.creds.every((b,c)=>b._equals(a.creds[c]))}}class h extends f{constructor(a){super(),this.metadataGenerator=a}generateMetadata(a){return new Promise((b,c)=>{this.metadataGenerator(a,(a,d)=>{void 0!==d?b(d):c(a)})})}compose(a){return new g([this,a])}_equals(a){return this===a||a instanceof h&&this.metadataGenerator===a.metadataGenerator}}class i extends f{generateMetadata(a){return Promise.resolve(new d.Metadata)}compose(a){return a}_equals(a){return a instanceof i}}},55004,(a,b,c)=>{b.exports=a.x("tls",()=>require("tls"))},22734,(a,b,c)=>{b.exports=a.x("fs",()=>require("fs"))},53343,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.getDefaultRootsData=c.CIPHER_SUITES=void 0;let d=a.r(22734);c.CIPHER_SUITES=process.env.GRPC_SSL_CIPHER_SUITES;let e=process.env.GRPC_DEFAULT_SSL_ROOTS_FILE_PATH,f=null;c.getDefaultRootsData=function(){return e?(null===f&&(f=d.readFileSync(e)),f):null}},11457,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ChannelCredentials=void 0;let d=a.r(55004),e=a.r(11914),f=a.r(53343);function g(a,b){if(a&&!(a instanceof Buffer))throw TypeError(`${b}, if provided, must be a Buffer.`)}class h{constructor(a){this.callCredentials=a||e.CallCredentials.createEmpty()}_getCallCredentials(){return this.callCredentials}static createSsl(a,b,c,e){var h;if(g(a,"Root certificate"),g(b,"Private key"),g(c,"Certificate chain"),b&&!c)throw Error("Private key must be given with accompanying certificate chain");if(!b&&c)throw Error("Certificate chain must be given with accompanying private key");return new j((0,d.createSecureContext)({ca:null!=(h=null!=a?a:(0,f.getDefaultRootsData)())?h:void 0,key:null!=b?b:void 0,cert:null!=c?c:void 0,ciphers:f.CIPHER_SUITES}),null!=e?e:{})}static createFromSecureContext(a,b){return new j(a,null!=b?b:{})}static createInsecure(){return new i}}c.ChannelCredentials=h;class i extends h{constructor(a){super(a)}compose(a){throw Error("Cannot compose insecure credentials")}_getConnectionOptions(){return null}_isSecure(){return!1}_equals(a){return a instanceof i}}class j extends h{constructor(a,b){super(),this.secureContext=a,this.verifyOptions=b,this.connectionOptions={secureContext:a},(null==b?void 0:b.checkServerIdentity)&&(this.connectionOptions.checkServerIdentity=b.checkServerIdentity)}compose(a){return new k(this,this.callCredentials.compose(a))}_getConnectionOptions(){return Object.assign({},this.connectionOptions)}_isSecure(){return!0}_equals(a){return this===a||a instanceof j&&this.secureContext===a.secureContext&&this.verifyOptions.checkServerIdentity===a.verifyOptions.checkServerIdentity}}class k extends h{constructor(a,b){super(b),this.channelCredentials=a}compose(a){let b=this.callCredentials.compose(a);return new k(this.channelCredentials,b)}_getConnectionOptions(){return this.channelCredentials._getConnectionOptions()}_isSecure(){return!0}_equals(a){return this===a||a instanceof k&&this.channelCredentials._equals(a.channelCredentials)&&this.callCredentials._equals(a.callCredentials)}}},77704,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.validateLoadBalancingConfig=c.getFirstUsableConfig=c.isLoadBalancerNameRegistered=c.createLoadBalancer=c.registerDefaultLoadBalancerType=c.registerLoadBalancerType=c.createChildChannelControlHelper=void 0,c.createChildChannelControlHelper=function(a,b){var c,d,e,f,g,h,i,j,k,l;return{createSubchannel:null!=(d=null==(c=b.createSubchannel)?void 0:c.bind(b))?d:a.createSubchannel.bind(a),updateState:null!=(f=null==(e=b.updateState)?void 0:e.bind(b))?f:a.updateState.bind(a),requestReresolution:null!=(h=null==(g=b.requestReresolution)?void 0:g.bind(b))?h:a.requestReresolution.bind(a),addChannelzChild:null!=(j=null==(i=b.addChannelzChild)?void 0:i.bind(b))?j:a.addChannelzChild.bind(a),removeChannelzChild:null!=(l=null==(k=b.removeChannelzChild)?void 0:k.bind(b))?l:a.removeChannelzChild.bind(a)}};let d={},e=null;c.registerLoadBalancerType=function(a,b,c){d[a]={LoadBalancer:b,LoadBalancingConfig:c}},c.registerDefaultLoadBalancerType=function(a){e=a},c.createLoadBalancer=function(a,b){let c=a.getLoadBalancerName();return c in d?new d[c].LoadBalancer(b):null},c.isLoadBalancerNameRegistered=function(a){return a in d},c.getFirstUsableConfig=function(a,b=!1){for(let b of a)if(b.getLoadBalancerName()in d)return b;return b&&e?new d[e].LoadBalancingConfig:null},c.validateLoadBalancingConfig=function(a){if(null===a||"object"!=typeof a)throw Error("Load balancing config must be an object");let b=Object.keys(a);if(1!==b.length)throw Error("Provided load balancing config has multiple conflicting entries");let c=b[0];if(c in d)return d[c].LoadBalancingConfig.createFromJson(a[c]);throw Error(`Unrecognized load balancing config name ${c}`)}},46786,(a,b,c)=>{b.exports=a.x("os",()=>require("os"))},96812,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.extractAndSelectServiceConfig=c.validateServiceConfig=c.validateRetryThrottling=void 0;let d=a.r(46786),e=a.r(41335),f=a.r(77704),g=/^\d+(\.\d{1,9})?s$/,h="node";function i(a){if("service"in a&&""!==a.service){if("string"!=typeof a.service)throw Error(`Invalid method config name: invalid service: expected type string, got ${typeof a.service}`);if(!("method"in a)||""===a.method)return{service:a.service};if("string"!=typeof a.method)throw Error(`Invalid method config name: invalid method: expected type string, got ${typeof a.service}`);return{service:a.service,method:a.method}}if("method"in a&&void 0!==a.method)throw Error("Invalid method config name: method set with empty or unset service");return{}}function j(a){if(!("maxAttempts"in a)||!Number.isInteger(a.maxAttempts)||a.maxAttempts<2)throw Error("Invalid method config retry policy: maxAttempts must be an integer at least 2");if(!("initialBackoff"in a)||"string"!=typeof a.initialBackoff||!g.test(a.initialBackoff))throw Error("Invalid method config retry policy: initialBackoff must be a string consisting of a positive integer followed by s");if(!("maxBackoff"in a)||"string"!=typeof a.maxBackoff||!g.test(a.maxBackoff))throw Error("Invalid method config retry policy: maxBackoff must be a string consisting of a positive integer followed by s");if(!("backoffMultiplier"in a)||"number"!=typeof a.backoffMultiplier||a.backoffMultiplier<=0)throw Error("Invalid method config retry policy: backoffMultiplier must be a number greater than 0");if(!("retryableStatusCodes"in a&&Array.isArray(a.retryableStatusCodes)))throw Error("Invalid method config retry policy: retryableStatusCodes is required");if(0===a.retryableStatusCodes.length)throw Error("Invalid method config retry policy: retryableStatusCodes must be non-empty");for(let b of a.retryableStatusCodes)if("number"==typeof b){if(!Object.values(e.Status).includes(b))throw Error("Invalid method config retry policy: retryableStatusCodes value not in status code range")}else if("string"==typeof b){if(!Object.values(e.Status).includes(b.toUpperCase()))throw Error("Invalid method config retry policy: retryableStatusCodes value not a status code name")}else throw Error("Invalid method config retry policy: retryableStatusCodes value must be a string or number");return{maxAttempts:a.maxAttempts,initialBackoff:a.initialBackoff,maxBackoff:a.maxBackoff,backoffMultiplier:a.backoffMultiplier,retryableStatusCodes:a.retryableStatusCodes}}function k(a){if(!("maxAttempts"in a)||!Number.isInteger(a.maxAttempts)||a.maxAttempts<2)throw Error("Invalid method config hedging policy: maxAttempts must be an integer at least 2");if("hedgingDelay"in a&&("string"!=typeof a.hedgingDelay||!g.test(a.hedgingDelay)))throw Error("Invalid method config hedging policy: hedgingDelay must be a string consisting of a positive integer followed by s");if("nonFatalStatusCodes"in a&&Array.isArray(a.nonFatalStatusCodes))for(let b of a.nonFatalStatusCodes)if("number"==typeof b){if(!Object.values(e.Status).includes(b))throw Error("Invlid method config hedging policy: nonFatalStatusCodes value not in status code range")}else if("string"==typeof b){if(!Object.values(e.Status).includes(b.toUpperCase()))throw Error("Invlid method config hedging policy: nonFatalStatusCodes value not a status code name")}else throw Error("Invlid method config hedging policy: nonFatalStatusCodes value must be a string or number");let b={maxAttempts:a.maxAttempts};return a.hedgingDelay&&(b.hedgingDelay=a.hedgingDelay),a.nonFatalStatusCodes&&(b.nonFatalStatusCodes=a.nonFatalStatusCodes),b}function l(a){var b;let c={name:[]};if(!("name"in a)||!Array.isArray(a.name))throw Error("Invalid method config: invalid name array");for(let b of a.name)c.name.push(i(b));if("waitForReady"in a){if("boolean"!=typeof a.waitForReady)throw Error("Invalid method config: invalid waitForReady");c.waitForReady=a.waitForReady}if("timeout"in a)if("object"==typeof a.timeout){if(!("seconds"in a.timeout)||"number"!=typeof a.timeout.seconds)throw Error("Invalid method config: invalid timeout.seconds");if(!("nanos"in a.timeout)||"number"!=typeof a.timeout.nanos)throw Error("Invalid method config: invalid timeout.nanos");c.timeout=a.timeout}else if("string"==typeof a.timeout&&g.test(a.timeout)){let d=a.timeout.substring(0,a.timeout.length-1).split(".");c.timeout={seconds:0|d[0],nanos:(null!=(b=d[1])?b:0)|0}}else throw Error("Invalid method config: invalid timeout");if("maxRequestBytes"in a){if("number"!=typeof a.maxRequestBytes)throw Error("Invalid method config: invalid maxRequestBytes");c.maxRequestBytes=a.maxRequestBytes}if("maxResponseBytes"in a){if("number"!=typeof a.maxResponseBytes)throw Error("Invalid method config: invalid maxRequestBytes");c.maxResponseBytes=a.maxResponseBytes}if("retryPolicy"in a)if("hedgingPolicy"in a)throw Error("Invalid method config: retryPolicy and hedgingPolicy cannot both be specified");else c.retryPolicy=j(a.retryPolicy);else"hedgingPolicy"in a&&(c.hedgingPolicy=k(a.hedgingPolicy));return c}function m(a){if(!("maxTokens"in a)||"number"!=typeof a.maxTokens||a.maxTokens<=0||a.maxTokens>1e3)throw Error("Invalid retryThrottling: maxTokens must be a number in (0, 1000]");if(!("tokenRatio"in a)||"number"!=typeof a.tokenRatio||a.tokenRatio<=0)throw Error("Invalid retryThrottling: tokenRatio must be a number greater than 0");return{maxTokens:+a.maxTokens.toFixed(3),tokenRatio:+a.tokenRatio.toFixed(3)}}function n(a){let b={loadBalancingConfig:[],methodConfig:[]};if("loadBalancingPolicy"in a)if("string"==typeof a.loadBalancingPolicy)b.loadBalancingPolicy=a.loadBalancingPolicy;else throw Error("Invalid service config: invalid loadBalancingPolicy");if("loadBalancingConfig"in a)if(Array.isArray(a.loadBalancingConfig))for(let c of a.loadBalancingConfig)b.loadBalancingConfig.push((0,f.validateLoadBalancingConfig)(c));else throw Error("Invalid service config: invalid loadBalancingConfig");if("methodConfig"in a&&Array.isArray(a.methodConfig))for(let c of a.methodConfig)b.methodConfig.push(l(c));"retryThrottling"in a&&(b.retryThrottling=m(a.retryThrottling));let c=[];for(let a of b.methodConfig)for(let b of a.name){for(let a of c)if(b.service===a.service&&b.method===a.method)throw Error(`Invalid service config: duplicate name ${b.service}/${b.method}`);c.push(b)}return b}function o(a){if(!("serviceConfig"in a))throw Error("Invalid service config choice: missing service config");let b={serviceConfig:n(a.serviceConfig)};if("clientLanguage"in a)if(Array.isArray(a.clientLanguage))for(let c of(b.clientLanguage=[],a.clientLanguage))if("string"==typeof c)b.clientLanguage.push(c);else throw Error("Invalid service config choice: invalid clientLanguage");else throw Error("Invalid service config choice: invalid clientLanguage");if("clientHostname"in a)if(Array.isArray(a.clientHostname))for(let c of(b.clientHostname=[],a.clientHostname))if("string"==typeof c)b.clientHostname.push(c);else throw Error("Invalid service config choice: invalid clientHostname");else throw Error("Invalid service config choice: invalid clientHostname");if("percentage"in a)if("number"==typeof a.percentage&&0<=a.percentage&&a.percentage<=100)b.percentage=a.percentage;else throw Error("Invalid service config choice: invalid percentage");let c=["clientLanguage","percentage","clientHostname","serviceConfig"];for(let b in a)if(!c.includes(b))throw Error(`Invalid service config choice: unexpected field ${b}`);return b}function p(a,b){if(!Array.isArray(a))throw Error("Invalid service config list");for(let c of a){let a=o(c);if("number"!=typeof a.percentage||!(b>a.percentage)){if(Array.isArray(a.clientHostname)){let b=!1;for(let c of a.clientHostname)c===d.hostname()&&(b=!0);if(!b)continue}if(Array.isArray(a.clientLanguage)){let b=!1;for(let c of a.clientLanguage)c===h&&(b=!0);if(!b)continue}return a.serviceConfig}}throw Error("No matching service config found")}c.validateRetryThrottling=m,c.validateServiceConfig=n,c.extractAndSelectServiceConfig=function(a,b){for(let c of a)if(c.length>0&&c[0].startsWith("grpc_config="))return p(JSON.parse(c.join("").substring(12)),b);return null}},3682,(a,b,c)=>{"use strict";var d;Object.defineProperty(c,"__esModule",{value:!0}),c.ConnectivityState=void 0,function(a){a[a.IDLE=0]="IDLE",a[a.CONNECTING=1]="CONNECTING",a[a.READY=2]="READY",a[a.TRANSIENT_FAILURE=3]="TRANSIENT_FAILURE",a[a.SHUTDOWN=4]="SHUTDOWN"}(d||(c.ConnectivityState=d={}))},24223,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.uriToString=c.splitHostPort=c.parseUri=void 0;let d=/^(?:([A-Za-z0-9+.-]+):)?(?:\/\/([^/]*)\/)?(.+)$/;c.parseUri=function(a){let b=d.exec(a);return null===b?null:{scheme:b[1],authority:b[2],path:b[3]}};let e=/^\d+$/;c.splitHostPort=function(a){if(a.startsWith("[")){let b=a.indexOf("]");if(-1===b)return null;let c=a.substring(1,b);if(-1===c.indexOf(":"))return null;if(!(a.length>b+1))return{host:c};if(":"!==a[b+1])return null;{let d=a.substring(b+2);return e.test(d)?{host:c,port:+d}:null}}{let b=a.split(":");return 2!==b.length?{host:a}:e.test(b[1])?{host:b[0],port:+b[1]}:null}},c.uriToString=function(a){let b="";return void 0!==a.scheme&&(b+=a.scheme+":"),void 0!==a.authority&&(b+="//"+a.authority+"/"),b+=a.path}},88858,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.mapUriDefaultScheme=c.getDefaultAuthority=c.createResolver=c.registerDefaultScheme=c.registerResolver=void 0;let d=a.r(24223),e={},f=null;c.registerResolver=function(a,b){e[a]=b},c.registerDefaultScheme=function(a){f=a},c.createResolver=function(a,b,c){if(void 0!==a.scheme&&a.scheme in e)return new e[a.scheme](a,b,c);throw Error(`No resolver could be created for target ${(0,d.uriToString)(a)}`)},c.getDefaultAuthority=function(a){if(void 0!==a.scheme&&a.scheme in e)return e[a.scheme].getDefaultAuthority(a);throw Error(`Invalid target ${(0,d.uriToString)(a)}`)},c.mapUriDefaultScheme=function(a){if(void 0===a.scheme||!(a.scheme in e))if(null!==f)return{scheme:f,authority:void 0,path:(0,d.uriToString)(a)};else return null;return a}},90104,(a,b,c)=>{"use strict";var d;Object.defineProperty(c,"__esModule",{value:!0}),c.QueuePicker=c.UnavailablePicker=c.PickResultType=void 0;let e=a.r(60803),f=a.r(41335);!function(a){a[a.COMPLETE=0]="COMPLETE",a[a.QUEUE=1]="QUEUE",a[a.TRANSIENT_FAILURE=2]="TRANSIENT_FAILURE",a[a.DROP=3]="DROP"}(d||(c.PickResultType=d={}));class g{constructor(a){this.status=Object.assign({code:f.Status.UNAVAILABLE,details:"No connection established",metadata:new e.Metadata},a)}pick(a){return{pickResultType:d.TRANSIENT_FAILURE,subchannel:null,status:this.status,onCallStarted:null,onCallEnded:null}}}c.UnavailablePicker=g;class h{constructor(a){this.loadBalancer=a,this.calledExitIdle=!1}pick(a){return this.calledExitIdle||(process.nextTick(()=>{this.loadBalancer.exitIdle()}),this.calledExitIdle=!0),{pickResultType:d.QUEUE,subchannel:null,status:null,onCallStarted:null,onCallEnded:null}}}c.QueuePicker=h},82645,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.BackoffTimeout=void 0;let d=1e3,e=1.6,f=12e4,g=.2;function h(a,b){return Math.random()*(b-a)+a}class i{constructor(a,b){this.callback=a,this.initialDelay=d,this.multiplier=e,this.maxDelay=f,this.jitter=g,this.running=!1,this.hasRef=!0,this.startTime=new Date,this.endTime=new Date,b&&(b.initialDelay&&(this.initialDelay=b.initialDelay),b.multiplier&&(this.multiplier=b.multiplier),b.jitter&&(this.jitter=b.jitter),b.maxDelay&&(this.maxDelay=b.maxDelay)),this.nextDelay=this.initialDelay,this.timerId=setTimeout(()=>{},0),clearTimeout(this.timerId)}runTimer(a){var b,c;this.endTime=this.startTime,this.endTime.setMilliseconds(this.endTime.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),this.timerId=setTimeout(()=>{this.callback(),this.running=!1},a),this.hasRef||null==(c=(b=this.timerId).unref)||c.call(b)}runOnce(){this.running=!0,this.startTime=new Date,this.runTimer(this.nextDelay);let a=Math.min(this.nextDelay*this.multiplier,this.maxDelay),b=a*this.jitter;this.nextDelay=a+h(-b,b)}stop(){clearTimeout(this.timerId),this.running=!1}reset(){if(this.nextDelay=this.initialDelay,this.running){let a=new Date,b=this.startTime;b.setMilliseconds(b.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),a<b?this.runTimer(b.getTime()-a.getTime()):this.running=!1}}isRunning(){return this.running}ref(){var a,b;this.hasRef=!0,null==(b=(a=this.timerId).ref)||b.call(a)}unref(){var a,b;this.hasRef=!1,null==(b=(a=this.timerId).unref)||b.call(a)}getEndTime(){return this.endTime}}c.BackoffTimeout=i},73164,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ChildLoadBalancerHandler=void 0;let d=a.r(77704),e=a.r(3682),f="child_load_balancer_helper";class g{constructor(a){this.channelControlHelper=a,this.currentChild=null,this.pendingChild=null,this.latestConfig=null,this.ChildPolicyHelper=class{constructor(a){this.parent=a,this.child=null}createSubchannel(a,b){return this.parent.channelControlHelper.createSubchannel(a,b)}updateState(a,b){var c;if(this.calledByPendingChild()){if(a===e.ConnectivityState.CONNECTING)return;null==(c=this.parent.currentChild)||c.destroy(),this.parent.currentChild=this.parent.pendingChild,this.parent.pendingChild=null}else if(!this.calledByCurrentChild())return;this.parent.channelControlHelper.updateState(a,b)}requestReresolution(){var a;let b=null!=(a=this.parent.pendingChild)?a:this.parent.currentChild;this.child===b&&this.parent.channelControlHelper.requestReresolution()}setChild(a){this.child=a}addChannelzChild(a){this.parent.channelControlHelper.addChannelzChild(a)}removeChannelzChild(a){this.parent.channelControlHelper.removeChannelzChild(a)}calledByPendingChild(){return this.child===this.parent.pendingChild}calledByCurrentChild(){return this.child===this.parent.currentChild}}}configUpdateRequiresNewPolicyInstance(a,b){return a.getLoadBalancerName()!==b.getLoadBalancerName()}updateAddressList(a,b,c){let e;if(null===this.currentChild||null===this.latestConfig||this.configUpdateRequiresNewPolicyInstance(this.latestConfig,b)){let a=new this.ChildPolicyHelper(this),c=(0,d.createLoadBalancer)(b,a);a.setChild(c),null===this.currentChild?(this.currentChild=c,e=this.currentChild):(this.pendingChild&&this.pendingChild.destroy(),this.pendingChild=c,e=this.pendingChild)}else e=null===this.pendingChild?this.currentChild:this.pendingChild;this.latestConfig=b,e.updateAddressList(a,b,c)}exitIdle(){this.currentChild&&(this.currentChild.exitIdle(),this.pendingChild&&this.pendingChild.exitIdle())}resetBackoff(){this.currentChild&&(this.currentChild.resetBackoff(),this.pendingChild&&this.pendingChild.resetBackoff())}destroy(){this.currentChild&&(this.currentChild.destroy(),this.currentChild=null),this.pendingChild&&(this.pendingChild.destroy(),this.pendingChild=null)}getTypeName(){return f}}c.ChildLoadBalancerHandler=g},17431,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ResolvingLoadBalancer=void 0;let d=a.r(77704),e=a.r(96812),f=a.r(3682),g=a.r(88858),h=a.r(90104),i=a.r(82645),j=a.r(41335),k=a.r(60803),l=a.r(77497),m=a.r(41335),n=a.r(24223),o=a.r(73164),p="resolving_load_balancer";function q(a){l.trace(m.LogVerbosity.DEBUG,p,a)}let r=["SERVICE_AND_METHOD","SERVICE","EMPTY"];function s(a,b,c,d){for(let e of c.name)switch(d){case"EMPTY":if(!e.service&&!e.method)return!0;break;case"SERVICE":if(e.service===a&&!e.method)return!0;break;case"SERVICE_AND_METHOD":if(e.service===a&&e.method===b)return!0}return!1}function t(a,b,c,d){for(let e of c)if(s(a,b,e,d))return e;return null}function u(a){return function(b,c){var d,e;let f=b.split("/").filter(a=>a.length>0),g=null!=(d=f[0])?d:"",h=null!=(e=f[1])?e:"";if(a&&a.methodConfig)for(let b of r){let c=t(g,h,a.methodConfig,b);if(c)return{methodConfig:c,pickInformation:{},status:j.Status.OK,dynamicFilterFactories:[]}}return{methodConfig:{name:[]},pickInformation:{},status:j.Status.OK,dynamicFilterFactories:[]}}}class v{constructor(a,b,c,l,m){this.target=a,this.channelControlHelper=b,this.onSuccessfulResolution=l,this.onFailedResolution=m,this.latestChildState=f.ConnectivityState.IDLE,this.latestChildPicker=new h.QueuePicker(this),this.currentState=f.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1,c["grpc.service_config"]?this.defaultServiceConfig=(0,e.validateServiceConfig)(JSON.parse(c["grpc.service_config"])):this.defaultServiceConfig={loadBalancingConfig:[],methodConfig:[]},this.updateState(f.ConnectivityState.IDLE,new h.QueuePicker(this)),this.childLoadBalancer=new o.ChildLoadBalancerHandler({createSubchannel:b.createSubchannel.bind(b),requestReresolution:()=>{this.backoffTimeout.isRunning()?(q("requestReresolution delayed by backoff timer until "+this.backoffTimeout.getEndTime().toISOString()),this.continueResolving=!0):this.updateResolution()},updateState:(a,b)=>{this.latestChildState=a,this.latestChildPicker=b,this.updateState(a,b)},addChannelzChild:b.addChannelzChild.bind(b),removeChannelzChild:b.removeChannelzChild.bind(b)}),this.innerResolver=(0,g.createResolver)(a,{onSuccessfulResolution:(a,b,c,e,f)=>{var g;this.backoffTimeout.stop(),this.backoffTimeout.reset();let h=null;null===b?null===c?(this.previousServiceConfig=null,h=this.defaultServiceConfig):null===this.previousServiceConfig?this.handleResolutionFailure(c):h=this.previousServiceConfig:(h=b,this.previousServiceConfig=b);let i=null!=(g=null==h?void 0:h.loadBalancingConfig)?g:[],l=(0,d.getFirstUsableConfig)(i,!0);if(null===l)return void this.handleResolutionFailure({code:j.Status.UNAVAILABLE,details:"All load balancer options in service config are not compatible",metadata:new k.Metadata});this.childLoadBalancer.updateAddressList(a,l,f);let m=null!=h?h:this.defaultServiceConfig;this.onSuccessfulResolution(m,null!=e?e:u(m))},onError:a=>{this.handleResolutionFailure(a)}},c);const n={initialDelay:c["grpc.initial_reconnect_backoff_ms"],maxDelay:c["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new i.BackoffTimeout(()=>{this.continueResolving?(this.updateResolution(),this.continueResolving=!1):this.updateState(this.latestChildState,this.latestChildPicker)},n),this.backoffTimeout.unref()}updateResolution(){this.innerResolver.updateResolution(),this.currentState===f.ConnectivityState.IDLE&&this.updateState(f.ConnectivityState.CONNECTING,new h.QueuePicker(this)),this.backoffTimeout.runOnce()}updateState(a,b){q((0,n.uriToString)(this.target)+" "+f.ConnectivityState[this.currentState]+" -> "+f.ConnectivityState[a]),a===f.ConnectivityState.IDLE&&(b=new h.QueuePicker(this)),this.currentState=a,this.channelControlHelper.updateState(a,b)}handleResolutionFailure(a){this.latestChildState===f.ConnectivityState.IDLE&&(this.updateState(f.ConnectivityState.TRANSIENT_FAILURE,new h.UnavailablePicker(a)),this.onFailedResolution(a))}exitIdle(){(this.currentState===f.ConnectivityState.IDLE||this.currentState===f.ConnectivityState.TRANSIENT_FAILURE)&&(this.backoffTimeout.isRunning()?this.continueResolving=!0:this.updateResolution()),this.childLoadBalancer.exitIdle()}updateAddressList(a,b){throw Error("updateAddressList not supported on ResolvingLoadBalancer")}resetBackoff(){this.backoffTimeout.reset(),this.childLoadBalancer.resetBackoff()}destroy(){this.childLoadBalancer.destroy(),this.innerResolver.destroy(),this.backoffTimeout.reset(),this.backoffTimeout.stop(),this.latestChildState=f.ConnectivityState.IDLE,this.latestChildPicker=new h.QueuePicker(this),this.currentState=f.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1}getTypeName(){return"resolving_load_balancer"}}c.ResolvingLoadBalancer=v},71593,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.channelOptionsEqual=c.recognizedOptions=void 0,c.recognizedOptions={"grpc.ssl_target_name_override":!0,"grpc.primary_user_agent":!0,"grpc.secondary_user_agent":!0,"grpc.default_authority":!0,"grpc.keepalive_time_ms":!0,"grpc.keepalive_timeout_ms":!0,"grpc.keepalive_permit_without_calls":!0,"grpc.service_config":!0,"grpc.max_concurrent_streams":!0,"grpc.initial_reconnect_backoff_ms":!0,"grpc.max_reconnect_backoff_ms":!0,"grpc.use_local_subchannel_pool":!0,"grpc.max_send_message_length":!0,"grpc.max_receive_message_length":!0,"grpc.enable_http_proxy":!0,"grpc.enable_channelz":!0,"grpc.dns_min_time_between_resolutions_ms":!0,"grpc.enable_retries":!0,"grpc.per_rpc_retry_buffer_size":!0,"grpc.retry_buffer_size":!0,"grpc.max_connection_age_ms":!0,"grpc.max_connection_age_grace_ms":!0,"grpc-node.max_session_memory":!0,"grpc.service_config_disable_resolution":!0,"grpc.client_idle_timeout_ms":!0,"grpc-node.tls_enable_trace":!0},c.channelOptionsEqual=function(a,b){let c=Object.keys(a).sort(),d=Object.keys(b).sort();if(c.length!==d.length)return!1;for(let e=0;e<c.length;e+=1)if(c[e]!==d[e]||a[c[e]]!==b[d[e]])return!1;return!0}},4446,(a,b,c)=>{b.exports=a.x("net",()=>require("net"))},86361,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.stringToSubchannelAddress=c.subchannelAddressToString=c.subchannelAddressEqual=c.isTcpSubchannelAddress=void 0;let d=a.r(4446);function e(a){return"port"in a}c.isTcpSubchannelAddress=e,c.subchannelAddressEqual=function(a,b){return!a&&!b||!!a&&!!b&&(e(a)?e(b)&&a.host===b.host&&a.port===b.port:!e(b)&&a.path===b.path)},c.subchannelAddressToString=function(a){return e(a)?a.host+":"+a.port:a.path};let f=443;c.stringToSubchannelAddress=function(a,b){return(0,d.isIP)(a)?{host:a,port:null!=b?b:f}:{path:a}}},83084,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.addAdminServicesToServer=c.registerAdminService=void 0;let d=[];c.registerAdminService=function(a,b){d.push({getServiceDefinition:a,getHandlers:b})},c.addAdminServicesToServer=function(a){for(let{getServiceDefinition:b,getHandlers:c}of d)a.addService(b(),c())}},27699,(a,b,c)=>{b.exports=a.x("events",()=>require("events"))},88947,(a,b,c)=>{b.exports=a.x("stream",()=>require("stream"))},4352,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ClientDuplexStreamImpl=c.ClientWritableStreamImpl=c.ClientReadableStreamImpl=c.ClientUnaryCallImpl=c.callErrorFromStatus=void 0;let d=a.r(27699),e=a.r(88947),f=a.r(41335);c.callErrorFromStatus=function(a,b){let c=`${a.code} ${f.Status[a.code]}: ${a.details}`,d=Error(c),e=`${d.stack}
for call at
${b}`;return Object.assign(Error(c),a,{stack:e})};class g extends d.EventEmitter{constructor(){super()}cancel(){var a;null==(a=this.call)||a.cancelWithStatus(f.Status.CANCELLED,"Cancelled on client")}getPeer(){var a,b;return null!=(b=null==(a=this.call)?void 0:a.getPeer())?b:"unknown"}}c.ClientUnaryCallImpl=g;class h extends e.Readable{constructor(a){super({objectMode:!0}),this.deserialize=a}cancel(){var a;null==(a=this.call)||a.cancelWithStatus(f.Status.CANCELLED,"Cancelled on client")}getPeer(){var a,b;return null!=(b=null==(a=this.call)?void 0:a.getPeer())?b:"unknown"}_read(a){var b;null==(b=this.call)||b.startRead()}}c.ClientReadableStreamImpl=h;class i extends e.Writable{constructor(a){super({objectMode:!0}),this.serialize=a}cancel(){var a;null==(a=this.call)||a.cancelWithStatus(f.Status.CANCELLED,"Cancelled on client")}getPeer(){var a,b;return null!=(b=null==(a=this.call)?void 0:a.getPeer())?b:"unknown"}_write(a,b,c){var d;let e={callback:c},f=Number(b);Number.isNaN(f)||(e.flags=f),null==(d=this.call)||d.sendMessageWithContext(e,a)}_final(a){var b;null==(b=this.call)||b.halfClose(),a()}}c.ClientWritableStreamImpl=i;class j extends e.Duplex{constructor(a,b){super({objectMode:!0}),this.serialize=a,this.deserialize=b}cancel(){var a;null==(a=this.call)||a.cancelWithStatus(f.Status.CANCELLED,"Cancelled on client")}getPeer(){var a,b;return null!=(b=null==(a=this.call)?void 0:a.getPeer())?b:"unknown"}_read(a){var b;null==(b=this.call)||b.startRead()}_write(a,b,c){var d;let e={callback:c},f=Number(b);Number.isNaN(f)||(e.flags=f),null==(d=this.call)||d.sendMessageWithContext(e,a)}_final(a){var b;null==(b=this.call)||b.halfClose(),a()}}c.ClientDuplexStreamImpl=j},73434,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.InterceptingListenerImpl=c.isInterceptingListener=void 0,c.isInterceptingListener=function(a){return void 0!==a.onReceiveMetadata&&1===a.onReceiveMetadata.length};class d{constructor(a,b){this.listener=a,this.nextListener=b,this.processingMetadata=!1,this.hasPendingMessage=!1,this.processingMessage=!1,this.pendingStatus=null}processPendingMessage(){this.hasPendingMessage&&(this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=!1)}processPendingStatus(){this.pendingStatus&&this.nextListener.onReceiveStatus(this.pendingStatus)}onReceiveMetadata(a){this.processingMetadata=!0,this.listener.onReceiveMetadata(a,a=>{this.processingMetadata=!1,this.nextListener.onReceiveMetadata(a),this.processPendingMessage(),this.processPendingStatus()})}onReceiveMessage(a){this.processingMessage=!0,this.listener.onReceiveMessage(a,a=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessage=a,this.hasPendingMessage=!0):(this.nextListener.onReceiveMessage(a),this.processPendingStatus())})}onReceiveStatus(a){this.listener.onReceiveStatus(a,a=>{this.processingMetadata||this.processingMessage?this.pendingStatus=a:this.nextListener.onReceiveStatus(a)})}}c.InterceptingListenerImpl=d},16678,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.getInterceptingCall=c.InterceptingCall=c.RequesterBuilder=c.ListenerBuilder=c.InterceptorConfigurationError=void 0;let d=a.r(60803),e=a.r(73434),f=a.r(41335),g=a.r(77474);class h extends Error{constructor(a){super(a),this.name="InterceptorConfigurationError",Error.captureStackTrace(this,h)}}c.InterceptorConfigurationError=h;class i{constructor(){this.metadata=void 0,this.message=void 0,this.status=void 0}withOnReceiveMetadata(a){return this.metadata=a,this}withOnReceiveMessage(a){return this.message=a,this}withOnReceiveStatus(a){return this.status=a,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveStatus:this.status}}}c.ListenerBuilder=i;class j{constructor(){this.start=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withStart(a){return this.start=a,this}withSendMessage(a){return this.message=a,this}withHalfClose(a){return this.halfClose=a,this}withCancel(a){return this.cancel=a,this}build(){return{start:this.start,sendMessage:this.message,halfClose:this.halfClose,cancel:this.cancel}}}c.RequesterBuilder=j;let k=(a,b)=>{b(a)},l=(a,b)=>{b(a)},m=(a,b)=>{b(a)},n={start:(a,b,c)=>{c(a,b)},sendMessage:(a,b)=>{b(a)},halfClose:a=>{a()},cancel:a=>{a()}};class o{constructor(a,b){var c,d,e,f;this.nextCall=a,this.processingMetadata=!1,this.pendingMessageContext=null,this.processingMessage=!1,this.pendingHalfClose=!1,b?this.requester={start:null!=(c=b.start)?c:n.start,sendMessage:null!=(d=b.sendMessage)?d:n.sendMessage,halfClose:null!=(e=b.halfClose)?e:n.halfClose,cancel:null!=(f=b.cancel)?f:n.cancel}:this.requester=n}cancelWithStatus(a,b){this.requester.cancel(()=>{this.nextCall.cancelWithStatus(a,b)})}getPeer(){return this.nextCall.getPeer()}processPendingMessage(){this.pendingMessageContext&&(this.nextCall.sendMessageWithContext(this.pendingMessageContext,this.pendingMessage),this.pendingMessageContext=null,this.pendingMessage=null)}processPendingHalfClose(){this.pendingHalfClose&&this.nextCall.halfClose()}start(a,b){var c,d,f,g,h,i;let j={onReceiveMetadata:null!=(d=null==(c=null==b?void 0:b.onReceiveMetadata)?void 0:c.bind(b))?d:a=>{},onReceiveMessage:null!=(g=null==(f=null==b?void 0:b.onReceiveMessage)?void 0:f.bind(b))?g:a=>{},onReceiveStatus:null!=(i=null==(h=null==b?void 0:b.onReceiveStatus)?void 0:h.bind(b))?i:a=>{}};this.processingMetadata=!0,this.requester.start(a,j,(a,b)=>{var c,d,f;let g;if(this.processingMetadata=!1,(0,e.isInterceptingListener)(b))g=b;else{let a={onReceiveMetadata:null!=(c=b.onReceiveMetadata)?c:k,onReceiveMessage:null!=(d=b.onReceiveMessage)?d:l,onReceiveStatus:null!=(f=b.onReceiveStatus)?f:m};g=new e.InterceptingListenerImpl(a,j)}this.nextCall.start(a,g),this.processPendingMessage(),this.processPendingHalfClose()})}sendMessageWithContext(a,b){this.processingMessage=!0,this.requester.sendMessage(b,c=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessageContext=a,this.pendingMessage=b):(this.nextCall.sendMessageWithContext(a,c),this.processPendingHalfClose())})}sendMessage(a){this.sendMessageWithContext({},a)}startRead(){this.nextCall.startRead()}halfClose(){this.requester.halfClose(()=>{this.processingMetadata||this.processingMessage?this.pendingHalfClose=!0:this.nextCall.halfClose()})}}function p(a,b,c){var d,e;let f=null!=(d=c.deadline)?d:1/0,g=c.host,h=null!=(e=c.parent)?e:null,i=c.propagate_flags,j=c.credentials,k=a.createCall(b,f,g,h,i);return j&&k.setCredentials(j),k}c.InterceptingCall=o;class q{constructor(a,b){this.call=a,this.methodDefinition=b}cancelWithStatus(a,b){this.call.cancelWithStatus(a,b)}getPeer(){return this.call.getPeer()}sendMessageWithContext(a,b){let c;try{c=this.methodDefinition.requestSerialize(b)}catch(a){this.call.cancelWithStatus(f.Status.INTERNAL,`Request message serialization failure: ${(0,g.getErrorMessage)(a)}`);return}this.call.sendMessageWithContext(a,c)}sendMessage(a){this.sendMessageWithContext({},a)}start(a,b){let c=null;this.call.start(a,{onReceiveMetadata:a=>{var c;null==(c=null==b?void 0:b.onReceiveMetadata)||c.call(b,a)},onReceiveMessage:a=>{var e;let h;try{h=this.methodDefinition.responseDeserialize(a)}catch(a){c={code:f.Status.INTERNAL,details:`Response message parsing error: ${(0,g.getErrorMessage)(a)}`,metadata:new d.Metadata},this.call.cancelWithStatus(c.code,c.details);return}null==(e=null==b?void 0:b.onReceiveMessage)||e.call(b,h)},onReceiveStatus:a=>{var d,e;c?null==(d=null==b?void 0:b.onReceiveStatus)||d.call(b,c):null==(e=null==b?void 0:b.onReceiveStatus)||e.call(b,a)}})}startRead(){this.call.startRead()}halfClose(){this.call.halfClose()}}class r extends q{constructor(a,b){super(a,b)}start(a,b){var c,d;let e=!1,f={onReceiveMetadata:null!=(d=null==(c=null==b?void 0:b.onReceiveMetadata)?void 0:c.bind(b))?d:a=>{},onReceiveMessage:a=>{var c;e=!0,null==(c=null==b?void 0:b.onReceiveMessage)||c.call(b,a)},onReceiveStatus:a=>{var c,d;e||null==(c=null==b?void 0:b.onReceiveMessage)||c.call(b,null),null==(d=null==b?void 0:b.onReceiveStatus)||d.call(b,a)}};super.start(a,f),this.call.startRead()}}class s extends q{}function t(a,b,c){let d=p(a,c.path,b);return c.responseStream?new s(d,c):new r(d,c)}c.getInterceptingCall=function(a,b,c,d){if(a.clientInterceptors.length>0&&a.clientInterceptorProviders.length>0)throw new h("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(a.callInterceptors.length>0&&a.callInterceptorProviders.length>0)throw new h("Both interceptors and interceptor_providers were passed as call options. Only one of these is allowed.");let e=[];e=a.callInterceptors.length>0||a.callInterceptorProviders.length>0?[].concat(a.callInterceptors,a.callInterceptorProviders.map(a=>a(b))).filter(a=>a):[].concat(a.clientInterceptors,a.clientInterceptorProviders.map(a=>a(b))).filter(a=>a);let f=Object.assign({},c,{method_definition:b});return e.reduceRight((a,b)=>c=>b(c,a),a=>t(d,a,b))(f)}},88105,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.Client=void 0;let d=a.r(4352),e=a.r(78096),f=a.r(3682),g=a.r(41335),h=a.r(60803),i=a.r(16678),j=Symbol(),k=Symbol(),l=Symbol(),m=Symbol();function n(a){return"function"==typeof a}function o(a){return a.stack.split("\n").slice(1).join("\n")}class p{constructor(a,b,c={}){var d,f;if(c=Object.assign({},c),this[k]=null!=(d=c.interceptors)?d:[],delete c.interceptors,this[l]=null!=(f=c.interceptor_providers)?f:[],delete c.interceptor_providers,this[k].length>0&&this[l].length>0)throw Error("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(this[m]=c.callInvocationTransformer,delete c.callInvocationTransformer,c.channelOverride)this[j]=c.channelOverride;else if(c.channelFactoryOverride){const d=c.channelFactoryOverride;delete c.channelFactoryOverride,this[j]=d(a,b,c)}else this[j]=new e.ChannelImplementation(a,b,c)}close(){this[j].close()}getChannel(){return this[j]}waitForReady(a,b){let c=d=>{let e;if(d)return void b(Error("Failed to connect before the deadline"));try{e=this[j].getConnectivityState(!0)}catch(a){b(Error("The channel has been closed"));return}if(e===f.ConnectivityState.READY)b();else try{this[j].watchConnectivityState(e,a,c)}catch(a){b(Error("The channel has been closed"))}};setImmediate(c)}checkOptionalUnaryResponseArguments(a,b,c){if(n(a))return{metadata:new h.Metadata,options:{},callback:a};if(n(b))if(a instanceof h.Metadata)return{metadata:a,options:{},callback:b};else return{metadata:new h.Metadata,options:a,callback:b};if(!(a instanceof h.Metadata&&b instanceof Object&&n(c)))throw Error("Incorrect arguments passed");return{metadata:a,options:b,callback:c}}makeUnaryRequest(a,b,c,e,f,h,n){var p,q;let r=this.checkOptionalUnaryResponseArguments(f,h,n),s={path:a,requestStream:!1,responseStream:!1,requestSerialize:b,responseDeserialize:c},t={argument:e,metadata:r.metadata,call:new d.ClientUnaryCallImpl,channel:this[j],methodDefinition:s,callOptions:r.options,callback:r.callback};this[m]&&(t=this[m](t));let u=t.call,v={clientInterceptors:this[k],clientInterceptorProviders:this[l],callInterceptors:null!=(p=t.callOptions.interceptors)?p:[],callInterceptorProviders:null!=(q=t.callOptions.interceptor_providers)?q:[]},w=(0,i.getInterceptingCall)(v,t.methodDefinition,t.callOptions,t.channel);u.call=w;let x=null,y=!1,z=Error();return w.start(t.metadata,{onReceiveMetadata:a=>{u.emit("metadata",a)},onReceiveMessage(a){null!==x&&w.cancelWithStatus(g.Status.INTERNAL,"Too many responses received"),x=a},onReceiveStatus(a){if(!y){if(y=!0,a.code===g.Status.OK)if(null===x){let b=o(z);t.callback((0,d.callErrorFromStatus)({code:g.Status.INTERNAL,details:"No message received",metadata:a.metadata},b))}else t.callback(null,x);else{let b=o(z);t.callback((0,d.callErrorFromStatus)(a,b))}z=null,u.emit("status",a)}}}),w.sendMessage(e),w.halfClose(),u}makeClientStreamRequest(a,b,c,e,f,h){var n,p;let q=this.checkOptionalUnaryResponseArguments(e,f,h),r={path:a,requestStream:!0,responseStream:!1,requestSerialize:b,responseDeserialize:c},s={metadata:q.metadata,call:new d.ClientWritableStreamImpl(b),channel:this[j],methodDefinition:r,callOptions:q.options,callback:q.callback};this[m]&&(s=this[m](s));let t=s.call,u={clientInterceptors:this[k],clientInterceptorProviders:this[l],callInterceptors:null!=(n=s.callOptions.interceptors)?n:[],callInterceptorProviders:null!=(p=s.callOptions.interceptor_providers)?p:[]},v=(0,i.getInterceptingCall)(u,s.methodDefinition,s.callOptions,s.channel);t.call=v;let w=null,x=!1,y=Error();return v.start(s.metadata,{onReceiveMetadata:a=>{t.emit("metadata",a)},onReceiveMessage(a){null!==w&&v.cancelWithStatus(g.Status.INTERNAL,"Too many responses received"),w=a},onReceiveStatus(a){if(!x){if(x=!0,a.code===g.Status.OK)if(null===w){let b=o(y);s.callback((0,d.callErrorFromStatus)({code:g.Status.INTERNAL,details:"No message received",metadata:a.metadata},b))}else s.callback(null,w);else{let b=o(y);s.callback((0,d.callErrorFromStatus)(a,b))}y=null,t.emit("status",a)}}}),t}checkMetadataAndOptions(a,b){let c,d;return a instanceof h.Metadata?(c=a,d=b||{}):(d=a||{},c=new h.Metadata),{metadata:c,options:d}}makeServerStreamRequest(a,b,c,e,f,h){var n,p;let q=this.checkMetadataAndOptions(f,h),r={path:a,requestStream:!1,responseStream:!0,requestSerialize:b,responseDeserialize:c},s={argument:e,metadata:q.metadata,call:new d.ClientReadableStreamImpl(c),channel:this[j],methodDefinition:r,callOptions:q.options};this[m]&&(s=this[m](s));let t=s.call,u={clientInterceptors:this[k],clientInterceptorProviders:this[l],callInterceptors:null!=(n=s.callOptions.interceptors)?n:[],callInterceptorProviders:null!=(p=s.callOptions.interceptor_providers)?p:[]},v=(0,i.getInterceptingCall)(u,s.methodDefinition,s.callOptions,s.channel);t.call=v;let w=!1,x=Error();return v.start(s.metadata,{onReceiveMetadata(a){t.emit("metadata",a)},onReceiveMessage(a){t.push(a)},onReceiveStatus(a){if(!w){if(w=!0,t.push(null),a.code!==g.Status.OK){let b=o(x);t.emit("error",(0,d.callErrorFromStatus)(a,b))}x=null,t.emit("status",a)}}}),v.sendMessage(e),v.halfClose(),t}makeBidiStreamRequest(a,b,c,e,f){var h,n;let p=this.checkMetadataAndOptions(e,f),q={path:a,requestStream:!0,responseStream:!0,requestSerialize:b,responseDeserialize:c},r={metadata:p.metadata,call:new d.ClientDuplexStreamImpl(b,c),channel:this[j],methodDefinition:q,callOptions:p.options};this[m]&&(r=this[m](r));let s=r.call,t={clientInterceptors:this[k],clientInterceptorProviders:this[l],callInterceptors:null!=(h=r.callOptions.interceptors)?h:[],callInterceptorProviders:null!=(n=r.callOptions.interceptor_providers)?n:[]},u=(0,i.getInterceptingCall)(t,r.methodDefinition,r.callOptions,r.channel);s.call=u;let v=!1,w=Error();return u.start(r.metadata,{onReceiveMetadata(a){s.emit("metadata",a)},onReceiveMessage(a){s.push(a)},onReceiveStatus(a){if(!v){if(v=!0,s.push(null),a.code!==g.Status.OK){let b=o(w);s.emit("error",(0,d.callErrorFromStatus)(a,b))}w=null,s.emit("status",a)}}}),s}}c.Client=p},61595,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.loadPackageDefinition=c.makeClientConstructor=void 0;let d=a.r(88105),e={unary:d.Client.prototype.makeUnaryRequest,server_stream:d.Client.prototype.makeServerStreamRequest,client_stream:d.Client.prototype.makeClientStreamRequest,bidi:d.Client.prototype.makeBidiStreamRequest};function f(a){return["__proto__","prototype","constructor"].includes(a)}function g(a,b,c){c||(c={});class g extends d.Client{}return Object.keys(a).forEach(b=>{let c;if(f(b))return;let d=a[b];if("string"==typeof b&&"$"===b.charAt(0))throw Error("Method names cannot start with $");c=d.requestStream?d.responseStream?"bidi":"client_stream":d.responseStream?"server_stream":"unary";let i=d.requestSerialize,j=d.responseDeserialize,k=h(e[c],d.path,i,j);g.prototype[b]=k,Object.assign(g.prototype[b],d),d.originalName&&!f(d.originalName)&&(g.prototype[d.originalName]=g.prototype[b])}),g.service=a,g.serviceName=b,g}function h(a,b,c,d){return function(...e){return a.call(this,b,c,d,...e)}}function i(a){return"format"in a}c.makeClientConstructor=g,c.loadPackageDefinition=function(a){let b={};for(let c in a)if(Object.prototype.hasOwnProperty.call(a,c)){let d=a[c],e=c.split(".");if(e.some(a=>f(a)))continue;let h=e[e.length-1],j=b;for(let a of e.slice(0,-1))j[a]||(j[a]={}),j=j[a];i(d)?j[h]=d:j[h]=g(d,h,{})}return b}},63888,(a,b,c)=>{var d=1/0,e="[object Symbol]",f=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,g=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,h="\\ud800-\\udfff",i="\\u0300-\\u036f\\ufe20-\\ufe23",j="\\u20d0-\\u20f0",k="\\u2700-\\u27bf",l="a-z\\xdf-\\xf6\\xf8-\\xff",m="A-Z\\xc0-\\xd6\\xd8-\\xde",n="\\ufe0e\\ufe0f",o="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",p="[']",q="["+h+"]",r="["+o+"]",s="["+i+j+"]",t="\\d+",u="["+k+"]",v="["+l+"]",w="[^"+h+o+t+k+l+m+"]",x="\\ud83c[\\udffb-\\udfff]",y="[^"+h+"]",z="(?:\\ud83c[\\udde6-\\uddff]){2}",A="[\\ud800-\\udbff][\\udc00-\\udfff]",B="["+m+"]",C="\\u200d",D="(?:"+v+"|"+w+")",E="(?:"+B+"|"+w+")",F="(?:"+p+"(?:d|ll|m|re|s|t|ve))?",G="(?:"+p+"(?:D|LL|M|RE|S|T|VE))?",H="(?:"+s+"|"+x+")?",I="["+n+"]?",J="(?:"+C+"(?:"+[y,z,A].join("|")+")"+I+H+")*",K=I+H+J,L="(?:"+[u,z,A].join("|")+")"+K,M="(?:"+[y+s+"?",s,z,A,q].join("|")+")",N=RegExp(p,"g"),O=RegExp(s,"g"),P=RegExp(x+"(?="+x+")|"+M+K,"g"),Q=RegExp([B+"?"+v+"+"+F+"(?="+[r,B,"$"].join("|")+")",E+"+"+G+"(?="+[r,B+D,"$"].join("|")+")",B+"?"+D+"+"+F,B+"+"+G,t,L].join("|"),"g"),R=RegExp("["+C+h+i+j+n+"]"),S=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,T={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"ss"},U=a.g&&a.g.Object===Object&&a.g,V="object"==typeof self&&self&&self.Object===Object&&self,W=U||V||Function("return this")();function X(a,b,c,d){var e=-1,f=a?a.length:0;for(d&&f&&(c=a[++e]);++e<f;)c=b(c,a[e],e,a);return c}function Y(a){return a.split("")}function Z(a){return a.match(f)||[]}var $=function(a){return function(b){return null==a?void 0:a[b]}}(T);function _(a){return R.test(a)}function aa(a){return S.test(a)}function ab(a){return _(a)?ac(a):Y(a)}function ac(a){return a.match(P)||[]}function ad(a){return a.match(Q)||[]}var ae=Object.prototype.toString,af=W.Symbol,ag=af?af.prototype:void 0,ah=ag?ag.toString:void 0;function ai(a,b,c){var d=-1,e=a.length;b<0&&(b=-b>e?0:e+b),(c=c>e?e:c)<0&&(c+=e),e=b>c?0:c-b>>>0,b>>>=0;for(var f=Array(e);++d<e;)f[d]=a[d+b];return f}function aj(a){if("string"==typeof a)return a;if(an(a))return ah?ah.call(a):"";var b=a+"";return"0"==b&&1/a==-d?"-0":b}function ak(a,b,c){var d=a.length;return c=void 0===c?d:c,!b&&c>=d?a:ai(a,b,c)}function al(a){return function(b){var c=_(b=ao(b))?ab(b):void 0,d=c?c[0]:b.charAt(0),e=c?ak(c,1).join(""):b.slice(1);return d[a]()+e}}function am(a){return!!a&&"object"==typeof a}function an(a){return"symbol"==typeof a||am(a)&&ae.call(a)==e}function ao(a){return null==a?"":aj(a)}var ap=function(a){return function(b){return X(at(ar(b).replace(N,"")),a,"")}}(function(a,b,c){return b=b.toLowerCase(),a+(c?aq(b):b)});function aq(a){return as(ao(a).toLowerCase())}function ar(a){return(a=ao(a))&&a.replace(g,$).replace(O,"")}var as=al("toUpperCase");function at(a,b,c){return(a=ao(a),void 0===(b=c?void 0:b))?aa(a)?ad(a):Z(a):a.match(b)||[]}b.exports=ap},11542,(a,b,c)=>{"use strict";b.exports=function a(a,b){for(var c=Array(arguments.length-1),d=0,e=2,f=!0;e<arguments.length;)c[d++]=arguments[e++];return new Promise(function(e,g){c[d]=function(a){if(f)if(f=!1,a)g(a);else{for(var b=Array(arguments.length-1),c=0;c<b.length;)b[c++]=arguments[c];e.apply(null,b)}};try{a.apply(b||null,c)}catch(a){f&&(f=!1,g(a))}})}},51433,(a,b,c)=>{"use strict";var d=c;d.length=function(a){var b=a.length;if(!b)return 0;for(var c=0;--b%4>1&&"="===a.charAt(b);)++c;return Math.ceil(3*a.length)/4-c};for(var e=Array(64),f=Array(123),g=0;g<64;)f[e[g]=g<26?g+65:g<52?g+71:g<62?g-4:g-59|43]=g++;d.encode=function(a,b,c){for(var d,f=null,g=[],h=0,i=0;b<c;){var j=a[b++];switch(i){case 0:g[h++]=e[j>>2],d=(3&j)<<4,i=1;break;case 1:g[h++]=e[d|j>>4],d=(15&j)<<2,i=2;break;case 2:g[h++]=e[d|j>>6],g[h++]=e[63&j],i=0}h>8191&&((f||(f=[])).push(String.fromCharCode.apply(String,g)),h=0)}return(i&&(g[h++]=e[d],g[h++]=61,1===i&&(g[h++]=61)),f)?(h&&f.push(String.fromCharCode.apply(String,g.slice(0,h))),f.join("")):String.fromCharCode.apply(String,g.slice(0,h))};var h="invalid encoding";d.decode=function(a,b,c){for(var d,e=c,g=0,i=0;i<a.length;){var j=a.charCodeAt(i++);if(61===j&&g>1)break;if(void 0===(j=f[j]))throw Error(h);switch(g){case 0:d=j,g=1;break;case 1:b[c++]=d<<2|(48&j)>>4,d=j,g=2;break;case 2:b[c++]=(15&d)<<4|(60&j)>>2,d=j,g=3;break;case 3:b[c++]=(3&d)<<6|j,g=0}}if(1===g)throw Error(h);return c-e},d.test=function(a){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(a)}},92057,(a,b,c)=>{"use strict";function d(){this._listeners={}}b.exports=d,d.prototype.on=function(a,b,c){return(this._listeners[a]||(this._listeners[a]=[])).push({fn:b,ctx:c||this}),this},d.prototype.off=function(a,b){if(void 0===a)this._listeners={};else if(void 0===b)this._listeners[a]=[];else for(var c=this._listeners[a],d=0;d<c.length;)c[d].fn===b?c.splice(d,1):++d;return this},d.prototype.emit=function(a){var b=this._listeners[a];if(b){for(var c=[],d=1;d<arguments.length;)c.push(arguments[d++]);for(d=0;d<b.length;)b[d].fn.apply(b[d++].ctx,c)}return this}},64760,(a,b,c)=>{"use strict";function d(a){return"u">typeof Float32Array?!function(){var b=new Float32Array([-0]),c=new Uint8Array(b.buffer),d=128===c[3];function e(a,d,e){b[0]=a,d[e]=c[0],d[e+1]=c[1],d[e+2]=c[2],d[e+3]=c[3]}function f(a,d,e){b[0]=a,d[e]=c[3],d[e+1]=c[2],d[e+2]=c[1],d[e+3]=c[0]}function g(a,d){return c[0]=a[d],c[1]=a[d+1],c[2]=a[d+2],c[3]=a[d+3],b[0]}function h(a,d){return c[3]=a[d],c[2]=a[d+1],c[1]=a[d+2],c[0]=a[d+3],b[0]}a.writeFloatLE=d?e:f,a.writeFloatBE=d?f:e,a.readFloatLE=d?g:h,a.readFloatBE=d?h:g}():!function(){function b(a,b,c,d){var e=+(b<0);if(e&&(b=-b),0===b)a(1/b>0?0:0x80000000,c,d);else if(isNaN(b))a(0x7fc00000,c,d);else if(b>34028234663852886e22)a((e<<31|0x7f800000)>>>0,c,d);else if(b<11754943508222875e-54)a((e<<31|Math.round(b/1401298464324817e-60))>>>0,c,d);else{var f=Math.floor(Math.log(b)/Math.LN2),g=8388607&Math.round(b*Math.pow(2,-f)*8388608);a((e<<31|f+127<<23|g)>>>0,c,d)}}function c(a,b,c){var d=a(b,c),e=(d>>31)*2+1,f=d>>>23&255,g=8388607&d;return 255===f?g?NaN:1/0*e:0===f?1401298464324817e-60*e*g:e*Math.pow(2,f-150)*(g+8388608)}a.writeFloatLE=b.bind(null,e),a.writeFloatBE=b.bind(null,f),a.readFloatLE=c.bind(null,g),a.readFloatBE=c.bind(null,h)}(),"u">typeof Float64Array?!function(){var b=new Float64Array([-0]),c=new Uint8Array(b.buffer),d=128===c[7];function e(a,d,e){b[0]=a,d[e]=c[0],d[e+1]=c[1],d[e+2]=c[2],d[e+3]=c[3],d[e+4]=c[4],d[e+5]=c[5],d[e+6]=c[6],d[e+7]=c[7]}function f(a,d,e){b[0]=a,d[e]=c[7],d[e+1]=c[6],d[e+2]=c[5],d[e+3]=c[4],d[e+4]=c[3],d[e+5]=c[2],d[e+6]=c[1],d[e+7]=c[0]}function g(a,d){return c[0]=a[d],c[1]=a[d+1],c[2]=a[d+2],c[3]=a[d+3],c[4]=a[d+4],c[5]=a[d+5],c[6]=a[d+6],c[7]=a[d+7],b[0]}function h(a,d){return c[7]=a[d],c[6]=a[d+1],c[5]=a[d+2],c[4]=a[d+3],c[3]=a[d+4],c[2]=a[d+5],c[1]=a[d+6],c[0]=a[d+7],b[0]}a.writeDoubleLE=d?e:f,a.writeDoubleBE=d?f:e,a.readDoubleLE=d?g:h,a.readDoubleBE=d?h:g}():!function(){function b(a,b,c,d,e,f){var g,h=+(d<0);if(h&&(d=-d),0===d)a(0,e,f+b),a(1/d>0?0:0x80000000,e,f+c);else if(isNaN(d))a(0,e,f+b),a(0x7ff80000,e,f+c);else if(d>17976931348623157e292)a(0,e,f+b),a((h<<31|0x7ff00000)>>>0,e,f+c);else if(d<22250738585072014e-324)a((g=d/5e-324)>>>0,e,f+b),a((h<<31|g/0x100000000)>>>0,e,f+c);else{var i=Math.floor(Math.log(d)/Math.LN2);1024===i&&(i=1023),a(0x10000000000000*(g=d*Math.pow(2,-i))>>>0,e,f+b),a((h<<31|i+1023<<20|1048576*g&1048575)>>>0,e,f+c)}}function c(a,b,c,d,e){var f=a(d,e+b),g=a(d,e+c),h=(g>>31)*2+1,i=g>>>20&2047,j=0x100000000*(1048575&g)+f;return 2047===i?j?NaN:1/0*h:0===i?5e-324*h*j:h*Math.pow(2,i-1075)*(j+0x10000000000000)}a.writeDoubleLE=b.bind(null,e,0,4),a.writeDoubleBE=b.bind(null,f,4,0),a.readDoubleLE=c.bind(null,g,0,4),a.readDoubleBE=c.bind(null,h,4,0)}(),a}function e(a,b,c){b[c]=255&a,b[c+1]=a>>>8&255,b[c+2]=a>>>16&255,b[c+3]=a>>>24}function f(a,b,c){b[c]=a>>>24,b[c+1]=a>>>16&255,b[c+2]=a>>>8&255,b[c+3]=255&a}function g(a,b){return(a[b]|a[b+1]<<8|a[b+2]<<16|a[b+3]<<24)>>>0}function h(a,b){return(a[b]<<24|a[b+1]<<16|a[b+2]<<8|a[b+3])>>>0}b.exports=d(d)},51898,(__turbopack_context__,module,exports)=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},20517,(a,b,c)=>{"use strict";var d=c;d.length=function(a){for(var b=0,c=0,d=0;d<a.length;++d)(c=a.charCodeAt(d))<128?b+=1:c<2048?b+=2:(64512&c)==55296&&(64512&a.charCodeAt(d+1))==56320?(++d,b+=4):b+=3;return b},d.read=function(a,b,c){if(c-b<1)return"";for(var d,e=null,f=[],g=0;b<c;)(d=a[b++])<128?f[g++]=d:d>191&&d<224?f[g++]=(31&d)<<6|63&a[b++]:d>239&&d<365?(d=((7&d)<<18|(63&a[b++])<<12|(63&a[b++])<<6|63&a[b++])-65536,f[g++]=55296+(d>>10),f[g++]=56320+(1023&d)):f[g++]=(15&d)<<12|(63&a[b++])<<6|63&a[b++],g>8191&&((e||(e=[])).push(String.fromCharCode.apply(String,f)),g=0);return e?(g&&e.push(String.fromCharCode.apply(String,f.slice(0,g))),e.join("")):String.fromCharCode.apply(String,f.slice(0,g))},d.write=function(a,b,c){for(var d,e,f=c,g=0;g<a.length;++g)(d=a.charCodeAt(g))<128?b[c++]=d:(d<2048?b[c++]=d>>6|192:((64512&d)==55296&&(64512&(e=a.charCodeAt(g+1)))==56320?(d=65536+((1023&d)<<10)+(1023&e),++g,b[c++]=d>>18|240,b[c++]=d>>12&63|128):b[c++]=d>>12|224,b[c++]=d>>6&63|128),b[c++]=63&d|128);return c-f}},96054,(a,b,c)=>{"use strict";b.exports=function a(a,b,c){var d=c||8192,e=d>>>1,f=null,g=d;return function(c){if(c<1||c>e)return a(c);g+c>d&&(f=a(d),g=0);var h=b.call(f,g,g+=c);return 7&g&&(g=(7|g)+1),h}}},13439,(a,b,c)=>{"use strict";b.exports=e;var d=a.r(55204);function e(a,b){this.lo=a>>>0,this.hi=b>>>0}var f=e.zero=new e(0,0);f.toNumber=function(){return 0},f.zzEncode=f.zzDecode=function(){return this},f.length=function(){return 1};var g=e.zeroHash="\0\0\0\0\0\0\0\0";e.fromNumber=function(a){if(0===a)return f;var b=a<0;b&&(a=-a);var c=a>>>0,d=(a-c)/0x100000000>>>0;return b&&(d=~d>>>0,c=~c>>>0,++c>0xffffffff&&(c=0,++d>0xffffffff&&(d=0))),new e(c,d)},e.from=function(a){if("number"==typeof a)return e.fromNumber(a);if(d.isString(a))if(!d.Long)return e.fromNumber(parseInt(a,10));else a=d.Long.fromString(a);return a.low||a.high?new e(a.low>>>0,a.high>>>0):f},e.prototype.toNumber=function(a){if(!a&&this.hi>>>31){var b=~this.lo+1>>>0,c=~this.hi>>>0;return b||(c=c+1>>>0),-(b+0x100000000*c)}return this.lo+0x100000000*this.hi},e.prototype.toLong=function(a){return d.Long?new d.Long(0|this.lo,0|this.hi,!!a):{low:0|this.lo,high:0|this.hi,unsigned:!!a}};var h=String.prototype.charCodeAt;e.fromHash=function(a){return a===g?f:new e((h.call(a,0)|h.call(a,1)<<8|h.call(a,2)<<16|h.call(a,3)<<24)>>>0,(h.call(a,4)|h.call(a,5)<<8|h.call(a,6)<<16|h.call(a,7)<<24)>>>0)},e.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},e.prototype.zzEncode=function(){var a=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^a)>>>0,this.lo=(this.lo<<1^a)>>>0,this},e.prototype.zzDecode=function(){var a=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^a)>>>0,this.hi=(this.hi>>>1^a)>>>0,this},e.prototype.length=function(){var a=this.lo,b=(this.lo>>>28|this.hi<<4)>>>0,c=this.hi>>>24;return 0===c?0===b?a<16384?a<128?1:2:a<2097152?3:4:b<16384?b<128?5:6:b<2097152?7:8:c<128?9:10}},55204,(a,b,c)=>{"use strict";var d=c;function e(a,b,c){for(var d=Object.keys(b),e=0;e<d.length;++e)void 0!==a[d[e]]&&c||(a[d[e]]=b[d[e]]);return a}function f(a){function b(a,c){if(!(this instanceof b))return new b(a,c);Object.defineProperty(this,"message",{get:function(){return a}}),Error.captureStackTrace?Error.captureStackTrace(this,b):Object.defineProperty(this,"stack",{value:Error().stack||""}),c&&e(this,c)}return b.prototype=Object.create(Error.prototype,{constructor:{value:b,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return a},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),b}d.asPromise=a.r(11542),d.base64=a.r(51433),d.EventEmitter=a.r(92057),d.float=a.r(64760),d.inquire=a.r(51898),d.utf8=a.r(20517),d.pool=a.r(96054),d.LongBits=a.r(13439),d.isNode=!!(a.g&&a.g.process&&a.g.process.versions&&a.g.process.versions.node),d.global=d.isNode&&a.g||"u">typeof self&&self||a.e,d.emptyArray=Object.freeze?Object.freeze([]):[],d.emptyObject=Object.freeze?Object.freeze({}):{},d.isInteger=Number.isInteger||function(a){return"number"==typeof a&&isFinite(a)&&Math.floor(a)===a},d.isString=function(a){return"string"==typeof a||a instanceof String},d.isObject=function(a){return a&&"object"==typeof a},d.isset=d.isSet=function(a,b){var c=a[b];return!!(null!=c&&a.hasOwnProperty(b))&&("object"!=typeof c||(Array.isArray(c)?c.length:Object.keys(c).length)>0)},d.Buffer=function(){try{var a=d.inquire("buffer").Buffer;return a.prototype.utf8Write?a:null}catch(a){return null}}(),d._Buffer_from=null,d._Buffer_allocUnsafe=null,d.newBuffer=function(a){return"number"==typeof a?d.Buffer?d._Buffer_allocUnsafe(a):new d.Array(a):d.Buffer?d._Buffer_from(a):"u"<typeof Uint8Array?a:new Uint8Array(a)},d.Array="u">typeof Uint8Array?Uint8Array:Array,d.Long=d.global.dcodeIO&&d.global.dcodeIO.Long||d.global.Long||d.inquire("long"),d.key2Re=/^true|false|0|1$/,d.key32Re=/^-?(?:0|[1-9][0-9]*)$/,d.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,d.longToHash=function(a){return a?d.LongBits.from(a).toHash():d.LongBits.zeroHash},d.longFromHash=function(a,b){var c=d.LongBits.fromHash(a);return d.Long?d.Long.fromBits(c.lo,c.hi,b):c.toNumber(!!b)},d.merge=e,d.lcFirst=function(a){return a.charAt(0).toLowerCase()+a.substring(1)},d.newError=f,d.ProtocolError=f("ProtocolError"),d.oneOfGetter=function(a){for(var b={},c=0;c<a.length;++c)b[a[c]]=1;return function(){for(var a=Object.keys(this),c=a.length-1;c>-1;--c)if(1===b[a[c]]&&void 0!==this[a[c]]&&null!==this[a[c]])return a[c]}},d.oneOfSetter=function(a){return function(b){for(var c=0;c<a.length;++c)a[c]!==b&&delete this[a[c]]}},d.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},d._configure=function(){var a=d.Buffer;if(!a){d._Buffer_from=d._Buffer_allocUnsafe=null;return}d._Buffer_from=a.from!==Uint8Array.from&&a.from||function(b,c){return new a(b,c)},d._Buffer_allocUnsafe=a.allocUnsafe||function(b){return new a(b)}}},89523,(a,b,c)=>{"use strict";b.exports={}},26123,(a,b,c)=>{"use strict";function d(a,b){"string"==typeof a&&(b=a,a=void 0);var c=[];function e(a){if("string"!=typeof a){var b=f();if(d.verbose&&console.log("codegen: "+b),b="return "+b,a){for(var g=Object.keys(a),h=Array(g.length+1),i=Array(g.length),j=0;j<g.length;)h[j]=g[j],i[j]=a[g[j++]];return h[j]=b,Function.apply(null,h).apply(null,i)}return Function(b)()}for(var k=Array(arguments.length-1),l=0;l<k.length;)k[l]=arguments[++l];if(l=0,a=a.replace(/%([%dfijs])/g,function(a,b){var c=k[l++];switch(b){case"d":case"f":return String(Number(c));case"i":return String(Math.floor(c));case"j":return JSON.stringify(c);case"s":return String(c)}return"%"}),l!==k.length)throw Error("parameter count mismatch");return c.push(a),e}function f(d){return"function "+(d||b||"")+"("+(a&&a.join(",")||"")+"){\n  "+c.join("\n  ")+"\n}"}return e.toString=f,e}b.exports=d,d.verbose=!1},60625,(a,b,c)=>{"use strict";b.exports=f;var d=a.r(11542),e=a.r(51898)("fs");function f(a,b,c){return("function"==typeof b?(c=b,b={}):b||(b={}),c)?!b.xhr&&e&&e.readFile?e.readFile(a,function(d,e){return d&&"u">typeof XMLHttpRequest?f.xhr(a,b,c):d?c(d):c(null,b.binary?e:e.toString("utf8"))}):f.xhr(a,b,c):d(f,this,a,b)}f.xhr=function(a,b,c){var d=new XMLHttpRequest;d.onreadystatechange=function(){if(4===d.readyState){if(0!==d.status&&200!==d.status)return c(Error("status "+d.status));if(b.binary){var a=d.response;if(!a){a=[];for(var e=0;e<d.responseText.length;++e)a.push(255&d.responseText.charCodeAt(e))}return c(null,"u">typeof Uint8Array?new Uint8Array(a):a)}return c(null,d.responseText)}},b.binary&&("overrideMimeType"in d&&d.overrideMimeType("text/plain; charset=x-user-defined"),d.responseType="arraybuffer"),d.open("GET",a),d.send()}},53215,(a,b,c)=>{"use strict";var d=c,e=d.isAbsolute=function(a){return/^(?:\/|\w+:)/.test(a)},f=d.normalize=function(a){var b=(a=a.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),c=e(a),d="";c&&(d=b.shift()+"/");for(var f=0;f<b.length;)".."===b[f]?f>0&&".."!==b[f-1]?b.splice(--f,2):c?b.splice(f,1):++f:"."===b[f]?b.splice(f,1):++f;return d+b.join("/")};d.resolve=function(a,b,c){return(c||(b=f(b)),e(b))?b:(c||(a=f(a)),(a=a.replace(/(?:\/|^)[^/]+$/,"")).length?f(a+"/"+b):b)}},7255,(a,b,c)=>{"use strict";b.exports=l;var d,e,f,g=a.r(35872);((l.prototype=Object.create(g.prototype)).constructor=l).className="Namespace";var h=a.r(98094),i=a.r(82888),j=a.r(15506);function k(a,b){if(a&&a.length){for(var c={},d=0;d<a.length;++d)c[a[d].name]=a[d].toJSON(b);return c}}function l(a,b){g.call(this,a,b),this.nested=void 0,this._nestedArray=null,this._lookupCache={},this._needsRecursiveFeatureResolution=!0,this._needsRecursiveResolve=!0}function m(a){a._nestedArray=null,a._lookupCache={};for(var b=a;b=b.parent;)b._lookupCache={};return a}l.fromJSON=function(a,b){return new l(a,b.options).addJSON(b.nested)},l.arrayToJSON=k,l.isReservedId=function(a,b){if(a){for(var c=0;c<a.length;++c)if("string"!=typeof a[c]&&a[c][0]<=b&&a[c][1]>b)return!0}return!1},l.isReservedName=function(a,b){if(a){for(var c=0;c<a.length;++c)if(a[c]===b)return!0}return!1},Object.defineProperty(l.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=i.toArray(this.nested))}}),l.prototype.toJSON=function(a){return i.toObject(["options",this.options,"nested",k(this.nestedArray,a)])},l.prototype.addJSON=function(a){var b=this;if(a)for(var c,g=Object.keys(a),i=0;i<g.length;++i)c=a[g[i]],b.add((void 0!==c.fields?d.fromJSON:void 0!==c.values?f.fromJSON:void 0!==c.methods?e.fromJSON:void 0!==c.id?h.fromJSON:l.fromJSON)(g[i],c));return this},l.prototype.get=function(a){return this.nested&&this.nested[a]||null},l.prototype.getEnum=function(a){if(this.nested&&this.nested[a]instanceof f)return this.nested[a].values;throw Error("no such enum: "+a)},l.prototype.add=function(a){if(!(a instanceof h&&void 0!==a.extend||a instanceof d||a instanceof j||a instanceof f||a instanceof e||a instanceof l))throw TypeError("object must be a valid nested object");if(this.nested){var b=this.get(a.name);if(b)if(b instanceof l&&a instanceof l&&!(b instanceof d||b instanceof e)){for(var c=b.nestedArray,g=0;g<c.length;++g)a.add(c[g]);this.remove(b),this.nested||(this.nested={}),a.setOptions(b.options,!0)}else throw Error("duplicate name '"+a.name+"' in "+this)}else this.nested={};this.nested[a.name]=a,this instanceof d||this instanceof e||this instanceof f||this instanceof h||a._edition||(a._edition=a._defaultEdition),this._needsRecursiveFeatureResolution=!0,this._needsRecursiveResolve=!0;for(var i=this;i=i.parent;)i._needsRecursiveFeatureResolution=!0,i._needsRecursiveResolve=!0;return a.onAdd(this),m(this)},l.prototype.remove=function(a){if(!(a instanceof g))throw TypeError("object must be a ReflectionObject");if(a.parent!==this)throw Error(a+" is not a member of "+this);return delete this.nested[a.name],Object.keys(this.nested).length||(this.nested=void 0),a.onRemove(this),m(this)},l.prototype.define=function(a,b){if(i.isString(a))a=a.split(".");else if(!Array.isArray(a))throw TypeError("illegal path");if(a&&a.length&&""===a[0])throw Error("path must be relative");for(var c=this;a.length>0;){var d=a.shift();if(c.nested&&c.nested[d]){if(!((c=c.nested[d])instanceof l))throw Error("path conflicts with non-namespace objects")}else c.add(c=new l(d))}return b&&c.addJSON(b),c},l.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;this._resolveFeaturesRecursive(this._edition);var a=this.nestedArray,b=0;for(this.resolve();b<a.length;)a[b]instanceof l?a[b++].resolveAll():a[b++].resolve();return this._needsRecursiveResolve=!1,this},l.prototype._resolveFeaturesRecursive=function(a){return this._needsRecursiveFeatureResolution&&(this._needsRecursiveFeatureResolution=!1,a=this._edition||a,g.prototype._resolveFeaturesRecursive.call(this,a),this.nestedArray.forEach(b=>{b._resolveFeaturesRecursive(a)})),this},l.prototype.lookup=function(a,b,c){if("boolean"==typeof b?(c=b,b=void 0):b&&!Array.isArray(b)&&(b=[b]),i.isString(a)&&a.length){if("."===a)return this.root;a=a.split(".")}else if(!a.length)return this;var d=a.join(".");if(""===a[0])return this.root.lookup(a.slice(1),b);var e=this.root._fullyQualifiedObjects&&this.root._fullyQualifiedObjects["."+d];if(e&&(!b||b.indexOf(e.constructor)>-1)||(e=this._lookupImpl(a,d))&&(!b||b.indexOf(e.constructor)>-1))return e;if(c)return null;for(var f=this;f.parent;){if((e=f.parent._lookupImpl(a,d))&&(!b||b.indexOf(e.constructor)>-1))return e;f=f.parent}return null},l.prototype._lookupImpl=function(a,b){if(Object.prototype.hasOwnProperty.call(this._lookupCache,b))return this._lookupCache[b];var c=this.get(a[0]),d=null;if(c)1===a.length?d=c:c instanceof l&&(a=a.slice(1),d=c._lookupImpl(a,a.join(".")));else for(var e=0;e<this.nestedArray.length;++e)this._nestedArray[e]instanceof l&&(c=this._nestedArray[e]._lookupImpl(a,b))&&(d=c);return this._lookupCache[b]=d,d},l.prototype.lookupType=function(a){var b=this.lookup(a,[d]);if(!b)throw Error("no such type: "+a);return b},l.prototype.lookupEnum=function(a){var b=this.lookup(a,[f]);if(!b)throw Error("no such Enum '"+a+"' in "+this);return b},l.prototype.lookupTypeOrEnum=function(a){var b=this.lookup(a,[d,f]);if(!b)throw Error("no such Type or Enum '"+a+"' in "+this);return b},l.prototype.lookupService=function(a){var b=this.lookup(a,[e]);if(!b)throw Error("no such Service '"+a+"' in "+this);return b},l._configure=function(a,b,c){d=a,e=b,f=c}},64089,(a,b,c)=>{"use strict";b.exports=g;var d=a.r(98094);((g.prototype=Object.create(d.prototype)).constructor=g).className="MapField";var e=a.r(29203),f=a.r(82888);function g(a,b,c,e,g,h){if(d.call(this,a,b,e,void 0,void 0,g,h),!f.isString(c))throw TypeError("keyType must be a string");this.keyType=c,this.resolvedKeyType=null,this.map=!0}g.fromJSON=function(a,b){return new g(a,b.id,b.keyType,b.type,b.options,b.comment)},g.prototype.toJSON=function(a){var b=!!a&&!!a.keepComments;return f.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",b?this.comment:void 0])},g.prototype.resolve=function(){if(this.resolved)return this;if(void 0===e.mapKey[this.keyType])throw Error("invalid key type: "+this.keyType);return d.prototype.resolve.call(this)},g.d=function(a,b,c){return"function"==typeof c?c=f.decorateType(c).name:c&&"object"==typeof c&&(c=f.decorateEnum(c).name),function(d,e){f.decorateType(d.constructor).add(new g(e,a,b,c))}}},68603,(a,b,c)=>{"use strict";b.exports=f;var d=a.r(35872);((f.prototype=Object.create(d.prototype)).constructor=f).className="Method";var e=a.r(82888);function f(a,b,c,f,g,h,i,j,k){if(e.isObject(g)?(i=g,g=h=void 0):e.isObject(h)&&(i=h,h=void 0),!(void 0===b||e.isString(b)))throw TypeError("type must be a string");if(!e.isString(c))throw TypeError("requestType must be a string");if(!e.isString(f))throw TypeError("responseType must be a string");d.call(this,a,i),this.type=b||"rpc",this.requestType=c,this.requestStream=!!g||void 0,this.responseType=f,this.responseStream=!!h||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=j,this.parsedOptions=k}f.fromJSON=function(a,b){return new f(a,b.type,b.requestType,b.responseType,b.requestStream,b.responseStream,b.options,b.comment,b.parsedOptions)},f.prototype.toJSON=function(a){var b=!!a&&!!a.keepComments;return e.toObject(["type","rpc"!==this.type&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",b?this.comment:void 0,"parsedOptions",this.parsedOptions])},f.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),d.prototype.resolve.call(this))}},51191,(a,b,c)=>{"use strict";b.exports=e;var d=a.r(55204);function e(a,b,c){if("function"!=typeof a)throw TypeError("rpcImpl must be a function");d.EventEmitter.call(this),this.rpcImpl=a,this.requestDelimited=!!b,this.responseDelimited=!!c}(e.prototype=Object.create(d.EventEmitter.prototype)).constructor=e,e.prototype.rpcCall=function a(b,c,e,f,g){if(!f)throw TypeError("request must be specified");var h=this;if(!g)return d.asPromise(a,h,b,c,e,f);if(!h.rpcImpl)return void setTimeout(function(){g(Error("already ended"))},0);try{return h.rpcImpl(b,c[h.requestDelimited?"encodeDelimited":"encode"](f).finish(),function(a,c){if(a)return h.emit("error",a,b),g(a);if(null===c)return void h.end(!0);if(!(c instanceof e))try{c=e[h.responseDelimited?"decodeDelimited":"decode"](c)}catch(a){return h.emit("error",a,b),g(a)}return h.emit("data",c,b),g(null,c)})}catch(a){h.emit("error",a,b),setTimeout(function(){g(a)},0);return}},e.prototype.end=function(a){return this.rpcImpl&&(a||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},28281,(a,b,c)=>{"use strict";c.Service=a.r(51191)},89328,(a,b,c)=>{"use strict";b.exports=h;var d=a.r(7255);((h.prototype=Object.create(d.prototype)).constructor=h).className="Service";var e=a.r(68603),f=a.r(82888),g=a.r(28281);function h(a,b){d.call(this,a,b),this.methods={},this._methodsArray=null}function i(a){return a._methodsArray=null,a}h.fromJSON=function(a,b){var c=new h(a,b.options);if(b.methods)for(var d=Object.keys(b.methods),f=0;f<d.length;++f)c.add(e.fromJSON(d[f],b.methods[d[f]]));return b.nested&&c.addJSON(b.nested),b.edition&&(c._edition=b.edition),c.comment=b.comment,c._defaultEdition="proto3",c},h.prototype.toJSON=function(a){var b=d.prototype.toJSON.call(this,a),c=!!a&&!!a.keepComments;return f.toObject(["edition",this._editionToJSON(),"options",b&&b.options||void 0,"methods",d.arrayToJSON(this.methodsArray,a)||{},"nested",b&&b.nested||void 0,"comment",c?this.comment:void 0])},Object.defineProperty(h.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=f.toArray(this.methods))}}),h.prototype.get=function(a){return this.methods[a]||d.prototype.get.call(this,a)},h.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;d.prototype.resolve.call(this);for(var a=this.methodsArray,b=0;b<a.length;++b)a[b].resolve();return this},h.prototype._resolveFeaturesRecursive=function(a){return this._needsRecursiveFeatureResolution&&(a=this._edition||a,d.prototype._resolveFeaturesRecursive.call(this,a),this.methodsArray.forEach(b=>{b._resolveFeaturesRecursive(a)})),this},h.prototype.add=function(a){if(this.get(a.name))throw Error("duplicate name '"+a.name+"' in "+this);return a instanceof e?(this.methods[a.name]=a,a.parent=this,i(this)):d.prototype.add.call(this,a)},h.prototype.remove=function(a){if(a instanceof e){if(this.methods[a.name]!==a)throw Error(a+" is not a member of "+this);return delete this.methods[a.name],a.parent=null,i(this)}return d.prototype.remove.call(this,a)},h.prototype.create=function(a,b,c){for(var d,e=new g.Service(a,b,c),h=0;h<this.methodsArray.length;++h){var i=f.lcFirst((d=this._methodsArray[h]).resolve().name).replace(/[^$\w_]/g,"");e[i]=f.codegen(["r","c"],f.isReserved(i)?i+"_":i)("return this.rpcCall(m,q,s,r,c)")({m:d,q:d.resolvedRequestType.ctor,s:d.resolvedResponseType.ctor})}return e}},24955,(a,b,c)=>{"use strict";b.exports=e;var d=a.r(55204);function e(a){if(a)for(var b=Object.keys(a),c=0;c<b.length;++c)this[b[c]]=a[b[c]]}e.create=function(a){return this.$type.create(a)},e.encode=function(a,b){return this.$type.encode(a,b)},e.encodeDelimited=function(a,b){return this.$type.encodeDelimited(a,b)},e.decode=function(a){return this.$type.decode(a)},e.decodeDelimited=function(a){return this.$type.decodeDelimited(a)},e.verify=function(a){return this.$type.verify(a)},e.fromObject=function(a){return this.$type.fromObject(a)},e.toObject=function(a,b){return this.$type.toObject(a,b)},e.prototype.toJSON=function(){return this.$type.toObject(this,d.toJSONOptions)}},10591,(a,b,c)=>{"use strict";b.exports=i;var d,e=a.r(55204),f=e.LongBits,g=e.utf8;function h(a,b){return RangeError("index out of range: "+a.pos+" + "+(b||1)+" > "+a.len)}function i(a){this.buf=a,this.pos=0,this.len=a.length}var j="u">typeof Uint8Array?function(a){if(a instanceof Uint8Array||Array.isArray(a))return new i(a);throw Error("illegal buffer")}:function(a){if(Array.isArray(a))return new i(a);throw Error("illegal buffer")},k=function(){return e.Buffer?function(a){return(i.create=function(a){return e.Buffer.isBuffer(a)?new d(a):j(a)})(a)}:j};function l(){var a=new f(0,0),b=0;if(this.len-this.pos>4){for(;b<4;++b)if(a.lo=(a.lo|(127&this.buf[this.pos])<<7*b)>>>0,this.buf[this.pos++]<128)return a;if(a.lo=(a.lo|(127&this.buf[this.pos])<<28)>>>0,a.hi=(a.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return a;b=0}else{for(;b<3;++b){if(this.pos>=this.len)throw h(this);if(a.lo=(a.lo|(127&this.buf[this.pos])<<7*b)>>>0,this.buf[this.pos++]<128)return a}return a.lo=(a.lo|(127&this.buf[this.pos++])<<7*b)>>>0,a}if(this.len-this.pos>4){for(;b<5;++b)if(a.hi=(a.hi|(127&this.buf[this.pos])<<7*b+3)>>>0,this.buf[this.pos++]<128)return a}else for(;b<5;++b){if(this.pos>=this.len)throw h(this);if(a.hi=(a.hi|(127&this.buf[this.pos])<<7*b+3)>>>0,this.buf[this.pos++]<128)return a}throw Error("invalid varint encoding")}function m(a,b){return(a[b-4]|a[b-3]<<8|a[b-2]<<16|a[b-1]<<24)>>>0}function n(){if(this.pos+8>this.len)throw h(this,8);return new f(m(this.buf,this.pos+=4),m(this.buf,this.pos+=4))}i.create=k(),i.prototype._slice=e.Array.prototype.subarray||e.Array.prototype.slice,i.prototype.uint32=function(){var a=0xffffffff;return function(){if(a=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(a=(a|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(a=(a|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(a=(a|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(a=(a|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return a;if((this.pos+=5)>this.len)throw this.pos=this.len,h(this,10);return a}}(),i.prototype.int32=function(){return 0|this.uint32()},i.prototype.sint32=function(){var a=this.uint32();return a>>>1^-(1&a)},i.prototype.bool=function(){return 0!==this.uint32()},i.prototype.fixed32=function(){if(this.pos+4>this.len)throw h(this,4);return m(this.buf,this.pos+=4)},i.prototype.sfixed32=function(){if(this.pos+4>this.len)throw h(this,4);return 0|m(this.buf,this.pos+=4)},i.prototype.float=function(){if(this.pos+4>this.len)throw h(this,4);var a=e.float.readFloatLE(this.buf,this.pos);return this.pos+=4,a},i.prototype.double=function(){if(this.pos+8>this.len)throw h(this,4);var a=e.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,a},i.prototype.bytes=function(){var a=this.uint32(),b=this.pos,c=this.pos+a;if(c>this.len)throw h(this,a);if(this.pos+=a,Array.isArray(this.buf))return this.buf.slice(b,c);if(b===c){var d=e.Buffer;return d?d.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,b,c)},i.prototype.string=function(){var a=this.bytes();return g.read(a,0,a.length)},i.prototype.skip=function(a){if("number"==typeof a){if(this.pos+a>this.len)throw h(this,a);this.pos+=a}else do if(this.pos>=this.len)throw h(this);while(128&this.buf[this.pos++])return this},i.prototype.skipType=function(a){switch(a){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(a=7&this.uint32());)this.skipType(a);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+a+" at offset "+this.pos)}return this},i._configure=function(a){d=a,i.create=k(),d._configure();var b=e.Long?"toLong":"toNumber";e.merge(i.prototype,{int64:function(){return l.call(this)[b](!1)},uint64:function(){return l.call(this)[b](!0)},sint64:function(){return l.call(this).zzDecode()[b](!1)},fixed64:function(){return n.call(this)[b](!0)},sfixed64:function(){return n.call(this)[b](!1)}})}},605,(a,b,c)=>{"use strict";b.exports=l;var d,e=a.r(55204),f=e.LongBits,g=e.base64,h=e.utf8;function i(a,b,c){this.fn=a,this.len=b,this.next=void 0,this.val=c}function j(){}function k(a){this.head=a.head,this.tail=a.tail,this.len=a.len,this.next=a.states}function l(){this.len=0,this.head=new i(j,0,0),this.tail=this.head,this.states=null}var m=function(){return e.Buffer?function(){return(l.create=function(){return new d})()}:function(){return new l}};function n(a,b,c){b[c]=255&a}function o(a,b,c){for(;a>127;)b[c++]=127&a|128,a>>>=7;b[c]=a}function p(a,b){this.len=a,this.next=void 0,this.val=b}function q(a,b,c){for(;a.hi;)b[c++]=127&a.lo|128,a.lo=(a.lo>>>7|a.hi<<25)>>>0,a.hi>>>=7;for(;a.lo>127;)b[c++]=127&a.lo|128,a.lo=a.lo>>>7;b[c++]=a.lo}function r(a,b,c){b[c]=255&a,b[c+1]=a>>>8&255,b[c+2]=a>>>16&255,b[c+3]=a>>>24}l.create=m(),l.alloc=function(a){return new e.Array(a)},e.Array!==Array&&(l.alloc=e.pool(l.alloc,e.Array.prototype.subarray)),l.prototype._push=function(a,b,c){return this.tail=this.tail.next=new i(a,b,c),this.len+=b,this},p.prototype=Object.create(i.prototype),p.prototype.fn=o,l.prototype.uint32=function(a){return this.len+=(this.tail=this.tail.next=new p((a>>>=0)<128?1:a<16384?2:a<2097152?3:a<0x10000000?4:5,a)).len,this},l.prototype.int32=function(a){return a<0?this._push(q,10,f.fromNumber(a)):this.uint32(a)},l.prototype.sint32=function(a){return this.uint32((a<<1^a>>31)>>>0)},l.prototype.uint64=function(a){var b=f.from(a);return this._push(q,b.length(),b)},l.prototype.int64=l.prototype.uint64,l.prototype.sint64=function(a){var b=f.from(a).zzEncode();return this._push(q,b.length(),b)},l.prototype.bool=function(a){return this._push(n,1,+!!a)},l.prototype.fixed32=function(a){return this._push(r,4,a>>>0)},l.prototype.sfixed32=l.prototype.fixed32,l.prototype.fixed64=function(a){var b=f.from(a);return this._push(r,4,b.lo)._push(r,4,b.hi)},l.prototype.sfixed64=l.prototype.fixed64,l.prototype.float=function(a){return this._push(e.float.writeFloatLE,4,a)},l.prototype.double=function(a){return this._push(e.float.writeDoubleLE,8,a)};var s=e.Array.prototype.set?function(a,b,c){b.set(a,c)}:function(a,b,c){for(var d=0;d<a.length;++d)b[c+d]=a[d]};l.prototype.bytes=function(a){var b=a.length>>>0;if(!b)return this._push(n,1,0);if(e.isString(a)){var c=l.alloc(b=g.length(a));g.decode(a,c,0),a=c}return this.uint32(b)._push(s,b,a)},l.prototype.string=function(a){var b=h.length(a);return b?this.uint32(b)._push(h.write,b,a):this._push(n,1,0)},l.prototype.fork=function(){return this.states=new k(this),this.head=this.tail=new i(j,0,0),this.len=0,this},l.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new i(j,0,0),this.len=0),this},l.prototype.ldelim=function(){var a=this.head,b=this.tail,c=this.len;return this.reset().uint32(c),c&&(this.tail.next=a.next,this.tail=b,this.len+=c),this},l.prototype.finish=function(){for(var a=this.head.next,b=this.constructor.alloc(this.len),c=0;a;)a.fn(a.val,b,c),c+=a.len,a=a.next;return b},l._configure=function(a){d=a,l.create=m(),d._configure()}},30722,(a,b,c)=>{"use strict";b.exports=h;var d=a.r(94859),e=a.r(29203),f=a.r(82888);function g(a){return"missing required '"+a.name+"'"}function h(a){for(var b=f.codegen(["r","l","e"],a.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(a.fieldsArray.filter(function(a){return a.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()")("if(t===e)")("break")("switch(t>>>3){"),c=0;c<a.fieldsArray.length;++c){var h=a._fieldsArray[c].resolve(),i=h.resolvedType instanceof d?"int32":h.type,j="m"+f.safeProp(h.name);b("case %i: {",h.id),h.map?(b("if(%s===util.emptyObject)",j)("%s={}",j)("var c2 = r.uint32()+r.pos"),void 0!==e.defaults[h.keyType]?b("k=%j",e.defaults[h.keyType]):b("k=null"),void 0!==e.defaults[i]?b("value=%j",e.defaults[i]):b("value=null"),b("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",h.keyType)("case 2:"),void 0===e.basic[i]?b("value=types[%i].decode(r,r.uint32())",c):b("value=r.%s()",i),b("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),void 0!==e.long[h.keyType]?b('%s[typeof k==="object"?util.longToHash(k):k]=value',j):b("%s[k]=value",j)):h.repeated?(b("if(!(%s&&%s.length))",j,j)("%s=[]",j),void 0!==e.packed[i]&&b("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",j,i)("}else"),void 0===e.basic[i]?b(h.delimited?"%s.push(types[%i].decode(r,undefined,((t&~7)|4)))":"%s.push(types[%i].decode(r,r.uint32()))",j,c):b("%s.push(r.%s())",j,i)):void 0===e.basic[i]?b(h.delimited?"%s=types[%i].decode(r,undefined,((t&~7)|4))":"%s=types[%i].decode(r,r.uint32())",j,c):b("%s=r.%s()",j,i),b("break")("}")}for(b("default:")("r.skipType(t&7)")("break")("}")("}"),c=0;c<a._fieldsArray.length;++c){var k=a._fieldsArray[c];k.required&&b("if(!m.hasOwnProperty(%j))",k.name)("throw util.ProtocolError(%j,{instance:m})",g(k))}return b("return m")}},4988,(a,b,c)=>{"use strict";b.exports=i;var d=a.r(94859),e=a.r(82888);function f(a,b){return a.name+": "+b+(a.repeated&&"array"!==b?"[]":a.map&&"object"!==b?"{k:"+a.keyType+"}":"")+" expected"}function g(a,b,c,e){if(b.resolvedType)if(b.resolvedType instanceof d){a("switch(%s){",e)("default:")("return%j",f(b,"enum value"));for(var g=Object.keys(b.resolvedType.values),h=0;h<g.length;++h)a("case %i:",b.resolvedType.values[g[h]]);a("break")("}")}else a("{")("var e=types[%i].verify(%s);",c,e)("if(e)")("return%j+e",b.name+".")("}");else switch(b.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":a("if(!util.isInteger(%s))",e)("return%j",f(b,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":a("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",e,e,e,e)("return%j",f(b,"integer|Long"));break;case"float":case"double":a('if(typeof %s!=="number")',e)("return%j",f(b,"number"));break;case"bool":a('if(typeof %s!=="boolean")',e)("return%j",f(b,"boolean"));break;case"string":a("if(!util.isString(%s))",e)("return%j",f(b,"string"));break;case"bytes":a('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',e,e,e)("return%j",f(b,"buffer"))}return a}function h(a,b,c){switch(b.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":a("if(!util.key32Re.test(%s))",c)("return%j",f(b,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":a("if(!util.key64Re.test(%s))",c)("return%j",f(b,"integer|Long key"));break;case"bool":a("if(!util.key2Re.test(%s))",c)("return%j",f(b,"boolean key"))}return a}function i(a){var b=e.codegen(["m"],a.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),c=a.oneofsArray,d={};c.length&&b("var p={}");for(var i=0;i<a.fieldsArray.length;++i){var j=a._fieldsArray[i].resolve(),k="m"+e.safeProp(j.name);if(j.optional&&b("if(%s!=null&&m.hasOwnProperty(%j)){",k,j.name),j.map)b("if(!util.isObject(%s))",k)("return%j",f(j,"object"))("var k=Object.keys(%s)",k)("for(var i=0;i<k.length;++i){"),h(b,j,"k[i]"),g(b,j,i,k+"[k[i]]")("}");else if(j.repeated)b("if(!Array.isArray(%s))",k)("return%j",f(j,"array"))("for(var i=0;i<%s.length;++i){",k),g(b,j,i,k+"[i]")("}");else{if(j.partOf){var l=e.safeProp(j.partOf.name);1===d[j.partOf.name]&&b("if(p%s===1)",l)("return%j",j.partOf.name+": multiple values"),d[j.partOf.name]=1,b("p%s=1",l)}g(b,j,i,k)}j.optional&&b("}")}return b("return null")}},83753,(a,b,c)=>{"use strict";var d=c,e=a.r(94859),f=a.r(82888);function g(a,b,c,d){var f=!1;if(b.resolvedType)if(b.resolvedType instanceof e){a("switch(d%s){",d);for(var g=b.resolvedType.values,h=Object.keys(g),i=0;i<h.length;++i)g[h[i]]!==b.typeDefault||f||(a("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',d,d,d),b.repeated||a("break"),f=!0),a("case%j:",h[i])("case %i:",g[h[i]])("m%s=%j",d,g[h[i]])("break");a("}")}else a('if(typeof d%s!=="object")',d)("throw TypeError(%j)",b.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",d,c,d);else{var j=!1;switch(b.type){case"double":case"float":a("m%s=Number(d%s)",d,d);break;case"uint32":case"fixed32":a("m%s=d%s>>>0",d,d);break;case"int32":case"sint32":case"sfixed32":a("m%s=d%s|0",d,d);break;case"uint64":j=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":a("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",d,d,j)('else if(typeof d%s==="string")',d)("m%s=parseInt(d%s,10)",d,d)('else if(typeof d%s==="number")',d)("m%s=d%s",d,d)('else if(typeof d%s==="object")',d)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",d,d,d,j?"true":"");break;case"bytes":a('if(typeof d%s==="string")',d)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",d,d,d)("else if(d%s.length >= 0)",d)("m%s=d%s",d,d);break;case"string":a("m%s=String(d%s)",d,d);break;case"bool":a("m%s=Boolean(d%s)",d,d)}}return a}function h(a,b,c,d){if(b.resolvedType)b.resolvedType instanceof e?a("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",d,c,d,d,c,d,d):a("d%s=types[%i].toObject(m%s,o)",d,c,d);else{var f=!1;switch(b.type){case"double":case"float":a("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",d,d,d,d);break;case"uint64":f=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":a('if(typeof m%s==="number")',d)("d%s=o.longs===String?String(m%s):m%s",d,d,d)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",d,d,d,d,f?"true":"",d);break;case"bytes":a("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",d,d,d,d,d);break;default:a("d%s=m%s",d,d)}}return a}d.fromObject=function(a){var b=a.fieldsArray,c=f.codegen(["d"],a.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!b.length)return c("return new this.ctor");c("var m=new this.ctor");for(var d=0;d<b.length;++d){var h=b[d].resolve(),i=f.safeProp(h.name);h.map?(c("if(d%s){",i)('if(typeof d%s!=="object")',i)("throw TypeError(%j)",h.fullName+": object expected")("m%s={}",i)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",i),g(c,h,d,i+"[ks[i]]")("}")("}")):h.repeated?(c("if(d%s){",i)("if(!Array.isArray(d%s))",i)("throw TypeError(%j)",h.fullName+": array expected")("m%s=[]",i)("for(var i=0;i<d%s.length;++i){",i),g(c,h,d,i+"[i]")("}")("}")):(h.resolvedType instanceof e||c("if(d%s!=null){",i),g(c,h,d,i),h.resolvedType instanceof e||c("}"))}return c("return m")},d.toObject=function(a){var b=a.fieldsArray.slice().sort(f.compareFieldsById);if(!b.length)return f.codegen()("return {}");for(var c=f.codegen(["m","o"],a.name+"$toObject")("if(!o)")("o={}")("var d={}"),d=[],g=[],i=[],j=0;j<b.length;++j)b[j].partOf||(b[j].resolve().repeated?d:b[j].map?g:i).push(b[j]);if(d.length){for(c("if(o.arrays||o.defaults){"),j=0;j<d.length;++j)c("d%s=[]",f.safeProp(d[j].name));c("}")}if(g.length){for(c("if(o.objects||o.defaults){"),j=0;j<g.length;++j)c("d%s={}",f.safeProp(g[j].name));c("}")}if(i.length){for(c("if(o.defaults){"),j=0;j<i.length;++j){var k=i[j],l=f.safeProp(k.name);if(k.resolvedType instanceof e)c("d%s=o.enums===String?%j:%j",l,k.resolvedType.valuesById[k.typeDefault],k.typeDefault);else if(k.long)c("if(util.Long){")("var n=new util.Long(%i,%i,%j)",k.typeDefault.low,k.typeDefault.high,k.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",l)("}else")("d%s=o.longs===String?%j:%i",l,k.typeDefault.toString(),k.typeDefault.toNumber());else if(k.bytes){var m="["+Array.prototype.slice.call(k.typeDefault).join(",")+"]";c("if(o.bytes===String)d%s=%j",l,String.fromCharCode.apply(String,k.typeDefault))("else{")("d%s=%s",l,m)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",l,l)("}")}else c("d%s=%j",l,k.typeDefault)}c("}")}var n=!1;for(j=0;j<b.length;++j){var k=b[j],o=a._fieldsArray.indexOf(k),l=f.safeProp(k.name);k.map?(n||(n=!0,c("var ks2")),c("if(m%s&&(ks2=Object.keys(m%s)).length){",l,l)("d%s={}",l)("for(var j=0;j<ks2.length;++j){"),h(c,k,o,l+"[ks2[j]]")("}")):k.repeated?(c("if(m%s&&m%s.length){",l,l)("d%s=[]",l)("for(var j=0;j<m%s.length;++j){",l),h(c,k,o,l+"[j]")("}")):(c("if(m%s!=null&&m.hasOwnProperty(%j)){",l,k.name),h(c,k,o,l),k.partOf&&c("if(o.oneofs)")("d%s=%j",f.safeProp(k.partOf.name),k.name)),c("}")}return c("return d")}},93055,(a,b,c)=>{"use strict";var d=c,e=a.r(24955);d[".google.protobuf.Any"]={fromObject:function(a){if(a&&a["@type"]){var b=a["@type"].substring(a["@type"].lastIndexOf("/")+1),c=this.lookup(b);if(c){var d="."===a["@type"].charAt(0)?a["@type"].slice(1):a["@type"];return -1===d.indexOf("/")&&(d="/"+d),this.create({type_url:d,value:c.encode(c.fromObject(a)).finish()})}}return this.fromObject(a)},toObject:function(a,b){var c="type.googleapis.com/",d="",f="";if(b&&b.json&&a.type_url&&a.value){f=a.type_url.substring(a.type_url.lastIndexOf("/")+1),d=a.type_url.substring(0,a.type_url.lastIndexOf("/")+1);var g=this.lookup(f);g&&(a=g.decode(a.value))}if(!(a instanceof this.ctor)&&a instanceof e){var h=a.$type.toObject(a,b),i="."===a.$type.fullName[0]?a.$type.fullName.slice(1):a.$type.fullName;return""===d&&(d=c),f=d+i,h["@type"]=f,h}return this.toObject(a,b)}}},87210,(a,b,c)=>{"use strict";b.exports=s;var d=a.r(7255);((s.prototype=Object.create(d.prototype)).constructor=s).className="Type";var e=a.r(94859),f=a.r(15506),g=a.r(98094),h=a.r(64089),i=a.r(89328),j=a.r(24955),k=a.r(10591),l=a.r(605),m=a.r(82888),n=a.r(2299),o=a.r(30722),p=a.r(4988),q=a.r(83753),r=a.r(93055);function s(a,b){d.call(this,a,b),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function t(a){return a._fieldsById=a._fieldsArray=a._oneofsArray=null,delete a.encode,delete a.decode,delete a.verify,a}Object.defineProperties(s.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var a=Object.keys(this.fields),b=0;b<a.length;++b){var c=this.fields[a[b]],d=c.id;if(this._fieldsById[d])throw Error("duplicate id "+d+" in "+this);this._fieldsById[d]=c}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=m.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=m.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=s.generateConstructor(this)())},set:function(a){var b=a.prototype;b instanceof j||((a.prototype=new j).constructor=a,m.merge(a.prototype,b)),a.$type=a.prototype.$type=this,m.merge(a,j,!0),this._ctor=a;for(var c=0;c<this.fieldsArray.length;++c)this._fieldsArray[c].resolve();var d={};for(c=0;c<this.oneofsArray.length;++c)d[this._oneofsArray[c].resolve().name]={get:m.oneOfGetter(this._oneofsArray[c].oneof),set:m.oneOfSetter(this._oneofsArray[c].oneof)};c&&Object.defineProperties(a.prototype,d)}}}),s.generateConstructor=function(a){for(var b,c=m.codegen(["p"],a.name),d=0;d<a.fieldsArray.length;++d)(b=a._fieldsArray[d]).map?c("this%s={}",m.safeProp(b.name)):b.repeated&&c("this%s=[]",m.safeProp(b.name));return c("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},s.fromJSON=function(a,b){var c=new s(a,b.options);c.extensions=b.extensions,c.reserved=b.reserved;for(var j=Object.keys(b.fields),k=0;k<j.length;++k)c.add((void 0!==b.fields[j[k]].keyType?h.fromJSON:g.fromJSON)(j[k],b.fields[j[k]]));if(b.oneofs)for(j=Object.keys(b.oneofs),k=0;k<j.length;++k)c.add(f.fromJSON(j[k],b.oneofs[j[k]]));if(b.nested)for(j=Object.keys(b.nested),k=0;k<j.length;++k){var l=b.nested[j[k]];c.add((void 0!==l.id?g.fromJSON:void 0!==l.fields?s.fromJSON:void 0!==l.values?e.fromJSON:void 0!==l.methods?i.fromJSON:d.fromJSON)(j[k],l))}return b.extensions&&b.extensions.length&&(c.extensions=b.extensions),b.reserved&&b.reserved.length&&(c.reserved=b.reserved),b.group&&(c.group=!0),b.comment&&(c.comment=b.comment),b.edition&&(c._edition=b.edition),c._defaultEdition="proto3",c},s.prototype.toJSON=function(a){var b=d.prototype.toJSON.call(this,a),c=!!a&&!!a.keepComments;return m.toObject(["edition",this._editionToJSON(),"options",b&&b.options||void 0,"oneofs",d.arrayToJSON(this.oneofsArray,a),"fields",d.arrayToJSON(this.fieldsArray.filter(function(a){return!a.declaringField}),a)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",b&&b.nested||void 0,"comment",c?this.comment:void 0])},s.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;d.prototype.resolveAll.call(this);var a=this.oneofsArray;for(c=0;c<a.length;)a[c++].resolve();for(var b=this.fieldsArray,c=0;c<b.length;)b[c++].resolve();return this},s.prototype._resolveFeaturesRecursive=function(a){return this._needsRecursiveFeatureResolution&&(a=this._edition||a,d.prototype._resolveFeaturesRecursive.call(this,a),this.oneofsArray.forEach(b=>{b._resolveFeatures(a)}),this.fieldsArray.forEach(b=>{b._resolveFeatures(a)})),this},s.prototype.get=function(a){return this.fields[a]||this.oneofs&&this.oneofs[a]||this.nested&&this.nested[a]||null},s.prototype.add=function(a){if(this.get(a.name))throw Error("duplicate name '"+a.name+"' in "+this);if(a instanceof g&&void 0===a.extend){if(this._fieldsById?this._fieldsById[a.id]:this.fieldsById[a.id])throw Error("duplicate id "+a.id+" in "+this);if(this.isReservedId(a.id))throw Error("id "+a.id+" is reserved in "+this);if(this.isReservedName(a.name))throw Error("name '"+a.name+"' is reserved in "+this);return a.parent&&a.parent.remove(a),this.fields[a.name]=a,a.message=this,a.onAdd(this),t(this)}return a instanceof f?(this.oneofs||(this.oneofs={}),this.oneofs[a.name]=a,a.onAdd(this),t(this)):d.prototype.add.call(this,a)},s.prototype.remove=function(a){if(a instanceof g&&void 0===a.extend){if(!this.fields||this.fields[a.name]!==a)throw Error(a+" is not a member of "+this);return delete this.fields[a.name],a.parent=null,a.onRemove(this),t(this)}if(a instanceof f){if(!this.oneofs||this.oneofs[a.name]!==a)throw Error(a+" is not a member of "+this);return delete this.oneofs[a.name],a.parent=null,a.onRemove(this),t(this)}return d.prototype.remove.call(this,a)},s.prototype.isReservedId=function(a){return d.isReservedId(this.reserved,a)},s.prototype.isReservedName=function(a){return d.isReservedName(this.reserved,a)},s.prototype.create=function(a){return new this.ctor(a)},s.prototype.setup=function(){for(var a=this.fullName,b=[],c=0;c<this.fieldsArray.length;++c)b.push(this._fieldsArray[c].resolve().resolvedType);this.encode=n(this)({Writer:l,types:b,util:m}),this.decode=o(this)({Reader:k,types:b,util:m}),this.verify=p(this)({types:b,util:m}),this.fromObject=q.fromObject(this)({types:b,util:m}),this.toObject=q.toObject(this)({types:b,util:m});var d=r[a];if(d){var e=Object.create(this);e.fromObject=this.fromObject,this.fromObject=d.fromObject.bind(e),e.toObject=this.toObject,this.toObject=d.toObject.bind(e)}return this},s.prototype.encode=function(a,b){return this.setup().encode(a,b)},s.prototype.encodeDelimited=function(a,b){return this.encode(a,b&&b.len?b.fork():b).ldelim()},s.prototype.decode=function(a,b){return this.setup().decode(a,b)},s.prototype.decodeDelimited=function(a){return a instanceof k||(a=k.create(a)),this.decode(a,a.uint32())},s.prototype.verify=function(a){return this.setup().verify(a)},s.prototype.fromObject=function(a){return this.setup().fromObject(a)},s.prototype.toObject=function(a,b){return this.setup().toObject(a,b)},s.d=function(a){return function(b){m.decorateType(b,a)}}},62272,(a,b,c)=>{"use strict";b.exports=l;var d,e,f,g=a.r(7255);((l.prototype=Object.create(g.prototype)).constructor=l).className="Root";var h=a.r(98094),i=a.r(94859),j=a.r(15506),k=a.r(82888);function l(a){g.call(this,"",a),this.deferred=[],this.files=[],this._edition="proto2",this._fullyQualifiedObjects={}}function m(){}l.fromJSON=function(a,b){return b||(b=new l),a.options&&b.setOptions(a.options),b.addJSON(a.nested).resolveAll()},l.prototype.resolvePath=k.path.resolve,l.prototype.fetch=k.fetch,l.prototype.load=function a(b,c,d){"function"==typeof c&&(d=c,c=void 0);var g=this;if(!d)return k.asPromise(a,g,b,c);var h=d===m;function i(a,b){if(d){if(h)throw a;b&&b.resolveAll();var c=d;d=null,c(a,b)}}function j(a){var b=a.lastIndexOf("google/protobuf/");if(b>-1){var c=a.substring(b);if(c in f)return c}return null}function l(a,b){try{if(k.isString(b)&&"{"===b.charAt(0)&&(b=JSON.parse(b)),k.isString(b)){e.filename=a;var d,f=e(b,g,c),l=0;if(f.imports)for(;l<f.imports.length;++l)(d=j(f.imports[l])||g.resolvePath(a,f.imports[l]))&&n(d);if(f.weakImports)for(l=0;l<f.weakImports.length;++l)(d=j(f.weakImports[l])||g.resolvePath(a,f.weakImports[l]))&&n(d,!0)}else g.setOptions(b.options).addJSON(b.nested)}catch(a){i(a)}h||o||i(null,g)}function n(a,b){if(a=j(a)||a,!(g.files.indexOf(a)>-1)){if(g.files.push(a),a in f)return void(h?l(a,f[a]):(++o,setTimeout(function(){--o,l(a,f[a])})));if(h){var c;try{c=k.fs.readFileSync(a).toString("utf8")}catch(a){b||i(a);return}l(a,c)}else++o,g.fetch(a,function(c,e){if(--o,d){if(c)return void(b?o||i(null,g):i(c));l(a,e)}})}}var o=0;k.isString(b)&&(b=[b]);for(var p,q=0;q<b.length;++q)(p=g.resolvePath("",b[q]))&&n(p);return h?g.resolveAll():o||i(null,g),g},l.prototype.loadSync=function(a,b){if(!k.isNode)throw Error("not supported");return this.load(a,b,m)},l.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(a){return"'extend "+a.extend+"' in "+a.parent.fullName}).join(", "));return g.prototype.resolveAll.call(this)};var n=/^[A-Z]/;function o(a,b){var c=b.parent.lookup(b.extend);if(c){var d=new h(b.fullName,b.id,b.type,b.rule,void 0,b.options);return!!c.get(d.name)||(d.declaringField=b,b.extensionField=d,c.add(d),!0)}return!1}l.prototype._handleAdd=function(a){if(a instanceof h)void 0===a.extend||a.extensionField||o(this,a)||this.deferred.push(a);else if(a instanceof i)n.test(a.name)&&(a.parent[a.name]=a.values);else if(!(a instanceof j)){if(a instanceof d)for(var b=0;b<this.deferred.length;)o(this,this.deferred[b])?this.deferred.splice(b,1):++b;for(var c=0;c<a.nestedArray.length;++c)this._handleAdd(a._nestedArray[c]);n.test(a.name)&&(a.parent[a.name]=a)}(a instanceof d||a instanceof i||a instanceof h)&&(this._fullyQualifiedObjects[a.fullName]=a)},l.prototype._handleRemove=function(a){if(a instanceof h){if(void 0!==a.extend)if(a.extensionField)a.extensionField.parent.remove(a.extensionField),a.extensionField=null;else{var b=this.deferred.indexOf(a);b>-1&&this.deferred.splice(b,1)}}else if(a instanceof i)n.test(a.name)&&delete a.parent[a.name];else if(a instanceof g){for(var c=0;c<a.nestedArray.length;++c)this._handleRemove(a._nestedArray[c]);n.test(a.name)&&delete a.parent[a.name]}delete this._fullyQualifiedObjects[a.fullName]},l._configure=function(a,b,c){d=a,e=b,f=c}},82888,(a,b,c)=>{"use strict";var d,e,f=b.exports=a.r(55204),g=a.r(89523);f.codegen=a.r(26123),f.fetch=a.r(60625),f.path=a.r(53215),f.fs=f.inquire("fs"),f.toArray=function(a){if(a){for(var b=Object.keys(a),c=Array(b.length),d=0;d<b.length;)c[d]=a[b[d++]];return c}return[]},f.toObject=function(a){for(var b={},c=0;c<a.length;){var d=a[c++],e=a[c++];void 0!==e&&(b[d]=e)}return b};var h=/\\/g,i=/"/g;f.isReserved=function(a){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(a)},f.safeProp=function(a){return!/^[$\w_]+$/.test(a)||f.isReserved(a)?'["'+a.replace(h,"\\\\").replace(i,'\\"')+'"]':"."+a},f.ucFirst=function(a){return a.charAt(0).toUpperCase()+a.substring(1)};var j=/_([a-z])/g;f.camelCase=function(a){return a.substring(0,1)+a.substring(1).replace(j,function(a,b){return b.toUpperCase()})},f.compareFieldsById=function(a,b){return a.id-b.id},f.decorateType=function(b,c){if(b.$type)return c&&b.$type.name!==c&&(f.decorateRoot.remove(b.$type),b.$type.name=c,f.decorateRoot.add(b.$type)),b.$type;d||(d=a.r(87210));var e=new d(c||b.name);return f.decorateRoot.add(e),e.ctor=b,Object.defineProperty(b,"$type",{value:e,enumerable:!1}),Object.defineProperty(b.prototype,"$type",{value:e,enumerable:!1}),e};var k=0;f.decorateEnum=function(b){if(b.$type)return b.$type;e||(e=a.r(94859));var c=new e("Enum"+k++,b);return f.decorateRoot.add(c),Object.defineProperty(b,"$type",{value:c,enumerable:!1}),c},f.setProperty=function(a,b,c,d){function e(a,b,c){var f=b.shift();if("__proto__"===f||"prototype"===f)return a;if(b.length>0)a[f]=e(a[f]||{},b,c);else{var g=a[f];if(g&&d)return a;g&&(c=[].concat(g).concat(c)),a[f]=c}return a}if("object"!=typeof a)throw TypeError("dst must be an object");if(!b)throw TypeError("path must be specified");return e(a,b=b.split("."),c)},Object.defineProperty(f,"decorateRoot",{get:function(){return g.decorated||(g.decorated=new(a.r(62272)))}})},29203,(a,b,c)=>{"use strict";var d=c,e=a.r(82888),f=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function g(a,b){var c=0,d={};for(b|=0;c<a.length;)d[f[c+b]]=a[c++];return d}d.basic=g([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),d.defaults=g([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",e.emptyArray,null]),d.long=g([0,0,0,1,1],7),d.mapKey=g([0,0,0,5,5,0,0,0,1,1,0,2],2),d.packed=g([1,5,0,0,0,5,5,0,0,0,1,1,0])},98094,(a,b,c)=>{"use strict";b.exports=j;var d,e=a.r(35872);((j.prototype=Object.create(e.prototype)).constructor=j).className="Field";var f=a.r(94859),g=a.r(29203),h=a.r(82888),i=/^required|optional|repeated$/;function j(a,b,c,d,f,j,k){if(h.isObject(d)?(k=f,j=d,d=f=void 0):h.isObject(f)&&(k=j,j=f,f=void 0),e.call(this,a,j),!h.isInteger(b)||b<0)throw TypeError("id must be a non-negative integer");if(!h.isString(c))throw TypeError("type must be a string");if(void 0!==d&&!i.test(d=d.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(void 0!==f&&!h.isString(f))throw TypeError("extend must be a string");"proto3_optional"===d&&(d="optional"),this.rule=d&&"optional"!==d?d:void 0,this.type=c,this.id=b,this.extend=f||void 0,this.repeated="repeated"===d,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!h.Long&&void 0!==g.long[c],this.bytes="bytes"===c,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this.comment=k}j.fromJSON=function(a,b){var c=new j(a,b.id,b.type,b.rule,b.extend,b.options,b.comment);return b.edition&&(c._edition=b.edition),c._defaultEdition="proto3",c},Object.defineProperty(j.prototype,"required",{get:function(){return"LEGACY_REQUIRED"===this._features.field_presence}}),Object.defineProperty(j.prototype,"optional",{get:function(){return!this.required}}),Object.defineProperty(j.prototype,"delimited",{get:function(){return this.resolvedType instanceof d&&"DELIMITED"===this._features.message_encoding}}),Object.defineProperty(j.prototype,"packed",{get:function(){return"PACKED"===this._features.repeated_field_encoding}}),Object.defineProperty(j.prototype,"hasPresence",{get:function(){return!this.repeated&&!this.map&&(this.partOf||this.declaringField||this.extensionField||"IMPLICIT"!==this._features.field_presence)}}),j.prototype.setOption=function(a,b,c){return e.prototype.setOption.call(this,a,b,c)},j.prototype.toJSON=function(a){var b=!!a&&!!a.keepComments;return h.toObject(["edition",this._editionToJSON(),"rule","optional"!==this.rule&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",b?this.comment:void 0])},j.prototype.resolve=function(){if(this.resolved)return this;if(void 0===(this.typeDefault=g.defaults[this.type])?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof d?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof f&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof f||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=h.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var a;h.base64.test(this.typeDefault)?h.base64.decode(this.typeDefault,a=h.newBuffer(h.base64.length(this.typeDefault)),0):h.utf8.write(this.typeDefault,a=h.newBuffer(h.utf8.length(this.typeDefault)),0),this.typeDefault=a}return this.map?this.defaultValue=h.emptyObject:this.repeated?this.defaultValue=h.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof d&&(this.parent.ctor.prototype[this.name]=this.defaultValue),e.prototype.resolve.call(this)},j.prototype._inferLegacyProtoFeatures=function(a){if("proto2"!==a&&"proto3"!==a)return{};var b={};if("required"===this.rule&&(b.field_presence="LEGACY_REQUIRED"),this.parent&&void 0===g.defaults[this.type]){var c=this.parent.get(this.type.split(".").pop());c&&c instanceof d&&c.group&&(b.message_encoding="DELIMITED")}return!0===this.getOption("packed")?b.repeated_field_encoding="PACKED":!1===this.getOption("packed")&&(b.repeated_field_encoding="EXPANDED"),b},j.prototype._resolveFeatures=function(a){return e.prototype._resolveFeatures.call(this,this._edition||a)},j.d=function(a,b,c,d){return"function"==typeof b?b=h.decorateType(b).name:b&&"object"==typeof b&&(b=h.decorateEnum(b).name),function(e,f){h.decorateType(e.constructor).add(new j(f,a,b,c,{default:d}))}},j._configure=function(a){d=a}},15506,(a,b,c)=>{"use strict";b.exports=g;var d=a.r(35872);((g.prototype=Object.create(d.prototype)).constructor=g).className="OneOf";var e=a.r(98094),f=a.r(82888);function g(a,b,c,e){if(Array.isArray(b)||(c=b,b=void 0),d.call(this,a,c),!(void 0===b||Array.isArray(b)))throw TypeError("fieldNames must be an Array");this.oneof=b||[],this.fieldsArray=[],this.comment=e}function h(a){if(a.parent)for(var b=0;b<a.fieldsArray.length;++b)a.fieldsArray[b].parent||a.parent.add(a.fieldsArray[b])}g.fromJSON=function(a,b){return new g(a,b.oneof,b.options,b.comment)},g.prototype.toJSON=function(a){var b=!!a&&!!a.keepComments;return f.toObject(["options",this.options,"oneof",this.oneof,"comment",b?this.comment:void 0])},g.prototype.add=function(a){if(!(a instanceof e))throw TypeError("field must be a Field");return a.parent&&a.parent!==this.parent&&a.parent.remove(a),this.oneof.push(a.name),this.fieldsArray.push(a),a.partOf=this,h(this),this},g.prototype.remove=function(a){if(!(a instanceof e))throw TypeError("field must be a Field");var b=this.fieldsArray.indexOf(a);if(b<0)throw Error(a+" is not a member of "+this);return this.fieldsArray.splice(b,1),(b=this.oneof.indexOf(a.name))>-1&&this.oneof.splice(b,1),a.partOf=null,this},g.prototype.onAdd=function(a){d.prototype.onAdd.call(this,a);for(var b=this,c=0;c<this.oneof.length;++c){var e=a.get(this.oneof[c]);e&&!e.partOf&&(e.partOf=b,b.fieldsArray.push(e))}h(this)},g.prototype.onRemove=function(a){for(var b,c=0;c<this.fieldsArray.length;++c)(b=this.fieldsArray[c]).parent&&b.parent.remove(b);d.prototype.onRemove.call(this,a)},Object.defineProperty(g.prototype,"isProto3Optional",{get:function(){if(null==this.fieldsArray||1!==this.fieldsArray.length)return!1;var a=this.fieldsArray[0];return null!=a.options&&!0===a.options.proto3_optional}}),g.d=function(){for(var a=Array(arguments.length),b=0;b<arguments.length;)a[b]=arguments[b++];return function(b,c){f.decorateType(b.constructor).add(new g(c,a)),Object.defineProperty(b,c,{get:f.oneOfGetter(a),set:f.oneOfSetter(a)})}}},35872,(a,b,c)=>{"use strict";b.exports=j,j.className="ReflectionObject";let d=a.r(15506);var e,f=a.r(82888),g={enum_type:"OPEN",field_presence:"EXPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY"},h={enum_type:"CLOSED",field_presence:"EXPLICIT",json_format:"LEGACY_BEST_EFFORT",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"EXPANDED",utf8_validation:"NONE"},i={enum_type:"OPEN",field_presence:"IMPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY"};function j(a,b){if(!f.isString(a))throw TypeError("name must be a string");if(b&&!f.isObject(b))throw TypeError("options must be an object");this.options=b,this.parsedOptions=null,this.name=a,this._edition=null,this._defaultEdition="proto2",this._features={},this._featuresResolved=!1,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(j.prototype,{root:{get:function(){for(var a=this;null!==a.parent;)a=a.parent;return a}},fullName:{get:function(){for(var a=[this.name],b=this.parent;b;)a.unshift(b.name),b=b.parent;return a.join(".")}}}),j.prototype.toJSON=function(){throw Error()},j.prototype.onAdd=function(a){this.parent&&this.parent!==a&&this.parent.remove(this),this.parent=a,this.resolved=!1;var b=a.root;b instanceof e&&b._handleAdd(this)},j.prototype.onRemove=function(a){var b=a.root;b instanceof e&&b._handleRemove(this),this.parent=null,this.resolved=!1},j.prototype.resolve=function(){return this.resolved||this.root instanceof e&&(this.resolved=!0),this},j.prototype._resolveFeaturesRecursive=function(a){return this._resolveFeatures(this._edition||a)},j.prototype._resolveFeatures=function(a){if(!this._featuresResolved){var b={};if(!a)throw Error("Unknown edition for "+this.fullName);var c=Object.assign(this.options?Object.assign({},this.options.features):{},this._inferLegacyProtoFeatures(a));if(this._edition){if("proto2"===a)b=Object.assign({},h);else if("proto3"===a)b=Object.assign({},i);else if("2023"===a)b=Object.assign({},g);else throw Error("Unknown edition: "+a);this._features=Object.assign(b,c||{}),this._featuresResolved=!0;return}if(this.partOf instanceof d){var e=Object.assign({},this.partOf._features);this._features=Object.assign(e,c||{})}else if(this.declaringField);else if(this.parent){var f=Object.assign({},this.parent._features);this._features=Object.assign(f,c||{})}else throw Error("Unable to find a parent for "+this.fullName);this.extensionField&&(this.extensionField._features=this._features),this._featuresResolved=!0}},j.prototype._inferLegacyProtoFeatures=function(){return{}},j.prototype.getOption=function(a){if(this.options)return this.options[a]},j.prototype.setOption=function(a,b,c){return this.options||(this.options={}),/^features\./.test(a)?f.setProperty(this.options,a,b,c):c&&void 0!==this.options[a]||(this.getOption(a)!==b&&(this.resolved=!1),this.options[a]=b),this},j.prototype.setParsedOption=function(a,b,c){this.parsedOptions||(this.parsedOptions=[]);var d=this.parsedOptions;if(c){var e=d.find(function(b){return Object.prototype.hasOwnProperty.call(b,a)});if(e){var g=e[a];f.setProperty(g,c,b)}else(e={})[a]=f.setProperty({},c,b),d.push(e)}else{var h={};h[a]=b,d.push(h)}return this},j.prototype.setOptions=function(a,b){if(a)for(var c=Object.keys(a),d=0;d<c.length;++d)this.setOption(c[d],a[c[d]],b);return this},j.prototype.toString=function(){var a=this.constructor.className,b=this.fullName;return b.length?a+" "+b:a},j.prototype._editionToJSON=function(){if(this._edition&&"proto3"!==this._edition)return this._edition},j._configure=function(a){e=a}},94859,(a,b,c)=>{"use strict";b.exports=g;var d=a.r(35872);((g.prototype=Object.create(d.prototype)).constructor=g).className="Enum";var e=a.r(7255),f=a.r(82888);function g(a,b,c,e,f,g){if(d.call(this,a,c),b&&"object"!=typeof b)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=e,this.comments=f||{},this.valuesOptions=g,this._valuesFeatures={},this.reserved=void 0,b)for(var h=Object.keys(b),i=0;i<h.length;++i)"number"==typeof b[h[i]]&&(this.valuesById[this.values[h[i]]=b[h[i]]]=h[i])}g.prototype._resolveFeatures=function(a){return a=this._edition||a,d.prototype._resolveFeatures.call(this,a),Object.keys(this.values).forEach(a=>{var b=Object.assign({},this._features);this._valuesFeatures[a]=Object.assign(b,this.valuesOptions&&this.valuesOptions[a]&&this.valuesOptions[a].features)}),this},g.fromJSON=function(a,b){var c=new g(a,b.values,b.options,b.comment,b.comments);return c.reserved=b.reserved,b.edition&&(c._edition=b.edition),c._defaultEdition="proto3",c},g.prototype.toJSON=function(a){var b=!!a&&!!a.keepComments;return f.toObject(["edition",this._editionToJSON(),"options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",b?this.comment:void 0,"comments",b?this.comments:void 0])},g.prototype.add=function(a,b,c,d){if(!f.isString(a))throw TypeError("name must be a string");if(!f.isInteger(b))throw TypeError("id must be an integer");if(void 0!==this.values[a])throw Error("duplicate name '"+a+"' in "+this);if(this.isReservedId(b))throw Error("id "+b+" is reserved in "+this);if(this.isReservedName(a))throw Error("name '"+a+"' is reserved in "+this);if(void 0!==this.valuesById[b]){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+b+" in "+this);this.values[a]=b}else this.valuesById[this.values[a]=b]=a;return d&&(void 0===this.valuesOptions&&(this.valuesOptions={}),this.valuesOptions[a]=d||null),this.comments[a]=c||null,this},g.prototype.remove=function(a){if(!f.isString(a))throw TypeError("name must be a string");var b=this.values[a];if(null==b)throw Error("name '"+a+"' does not exist in "+this);return delete this.valuesById[b],delete this.values[a],delete this.comments[a],this.valuesOptions&&delete this.valuesOptions[a],this},g.prototype.isReservedId=function(a){return e.isReservedId(this.reserved,a)},g.prototype.isReservedName=function(a){return e.isReservedName(this.reserved,a)}},2299,(a,b,c)=>{"use strict";b.exports=h;var d=a.r(94859),e=a.r(29203),f=a.r(82888);function g(a,b,c,d){return b.delimited?a("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",c,d,(b.id<<3|3)>>>0,(b.id<<3|4)>>>0):a("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",c,d,(b.id<<3|2)>>>0)}function h(a){for(var b,c,h=f.codegen(["m","w"],a.name+"$encode")("if(!w)")("w=Writer.create()"),i=a.fieldsArray.slice().sort(f.compareFieldsById),b=0;b<i.length;++b){var j=i[b].resolve(),k=a._fieldsArray.indexOf(j),l=j.resolvedType instanceof d?"int32":j.type,m=e.basic[l];c="m"+f.safeProp(j.name),j.map?(h("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",c,j.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",c)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(j.id<<3|2)>>>0,8|e.mapKey[j.keyType],j.keyType),void 0===m?h("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",k,c):h(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|m,l,c),h("}")("}")):j.repeated?(h("if(%s!=null&&%s.length){",c,c),j.packed&&void 0!==e.packed[l]?h("w.uint32(%i).fork()",(j.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",c)("w.%s(%s[i])",l,c)("w.ldelim()"):(h("for(var i=0;i<%s.length;++i)",c),void 0===m?g(h,j,k,c+"[i]"):h("w.uint32(%i).%s(%s[i])",(j.id<<3|m)>>>0,l,c)),h("}")):(j.optional&&h("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",c,j.name),void 0===m?g(h,j,k,c):h("w.uint32(%i).%s(%s)",(j.id<<3|m)>>>0,l,c))}return h("return w")}},30284,(a,b,c)=>{"use strict";b.exports=f;var d=a.r(605);(f.prototype=Object.create(d.prototype)).constructor=f;var e=a.r(55204);function f(){d.call(this)}function g(a,b,c){a.length<40?e.utf8.write(a,b,c):b.utf8Write?b.utf8Write(a,c):b.write(a,c)}f._configure=function(){f.alloc=e._Buffer_allocUnsafe,f.writeBytesBuffer=e.Buffer&&e.Buffer.prototype instanceof Uint8Array&&"set"===e.Buffer.prototype.set.name?function(a,b,c){b.set(a,c)}:function(a,b,c){if(a.copy)a.copy(b,c,0,a.length);else for(var d=0;d<a.length;)b[c++]=a[d++]}},f.prototype.bytes=function(a){e.isString(a)&&(a=e._Buffer_from(a,"base64"));var b=a.length>>>0;return this.uint32(b),b&&this._push(f.writeBytesBuffer,b,a),this},f.prototype.string=function(a){var b=e.Buffer.byteLength(a);return this.uint32(b),b&&this._push(g,b,a),this},f._configure()},16354,(a,b,c)=>{"use strict";b.exports=f;var d=a.r(10591);(f.prototype=Object.create(d.prototype)).constructor=f;var e=a.r(55204);function f(a){d.call(this,a)}f._configure=function(){e.Buffer&&(f.prototype._slice=e.Buffer.prototype.slice)},f.prototype.string=function(){var a=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+a,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+a,this.len))},f._configure()},50919,(a,b,c)=>{"use strict";var d=c;function e(){d.util._configure(),d.Writer._configure(d.BufferWriter),d.Reader._configure(d.BufferReader)}d.build="minimal",d.Writer=a.r(605),d.BufferWriter=a.r(30284),d.Reader=a.r(10591),d.BufferReader=a.r(16354),d.util=a.r(55204),d.rpc=a.r(28281),d.roots=a.r(89523),d.configure=e,e()},76099,(a,b,c)=>{"use strict";var d=b.exports=a.r(50919);function e(a,b,c){return"function"==typeof b?(c=b,b=new d.Root):b||(b=new d.Root),b.load(a,c)}function f(a,b){return b||(b=new d.Root),b.loadSync(a)}d.build="light",d.load=e,d.loadSync=f,d.encoder=a.r(2299),d.decoder=a.r(30722),d.verifier=a.r(4988),d.converter=a.r(83753),d.ReflectionObject=a.r(35872),d.Namespace=a.r(7255),d.Root=a.r(62272),d.Enum=a.r(94859),d.Type=a.r(87210),d.Field=a.r(98094),d.OneOf=a.r(15506),d.MapField=a.r(64089),d.Service=a.r(89328),d.Method=a.r(68603),d.Message=a.r(24955),d.wrappers=a.r(93055),d.types=a.r(29203),d.util=a.r(82888),d.ReflectionObject._configure(d.Root),d.Namespace._configure(d.Type,d.Service,d.Enum),d.Root._configure(d.Type),d.Field._configure(d.Type)},49905,(a,b,c)=>{"use strict";b.exports=n;var d=/[\s{}=;:[\],'"()<>]/g,e=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,f=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,g=/^ *[*/]+ */,h=/^\s*\*?\/*/,i=/\n/g,j=/\s/,k=/\\(.?)/g,l={0:"\0",r:"\r",n:"\n",t:"	"};function m(a){return a.replace(k,function(a,b){switch(b){case"\\":case"":return b;default:return l[b]||""}})}function n(a,b){a=a.toString();var c=0,k=a.length,l=1,n=0,o={},p=[],q=null;function r(a){return Error("illegal "+a+" (line "+l+")")}function s(){var b="'"===q?f:e;b.lastIndex=c-1;var d=b.exec(a);if(!d)throw r("string");return c=b.lastIndex,y(q),q=null,m(d[1])}function t(b){return a.charAt(b)}function u(c,d,e){var f,j={type:a.charAt(c++),lineEmpty:!1,leading:e},k=c-(b?2:3);do if(--k<0||"\n"===(f=a.charAt(k))){j.lineEmpty=!0;break}while(" "===f||"	"===f)for(var m=a.substring(c,d).split(i),p=0;p<m.length;++p)m[p]=m[p].replace(b?h:g,"").trim();j.text=m.join("\n").trim(),o[l]=j,n=l}function v(b){var c=w(b),d=a.substring(b,c);return/^\s*\/\//.test(d)}function w(a){for(var b=a;b<k&&"\n"!==t(b);)b++;return b}function x(){if(p.length>0)return p.shift();if(q)return s();var e,f,g,h,i,m=0===c;do{if(c===k)return null;for(e=!1;j.test(g=t(c));)if("\n"===g&&(m=!0,++l),++c===k)return null;if("/"===t(c)){if(++c===k)throw r("comment");if("/"===t(c))if(b){if(h=c,i=!1,v(c-1)){i=!0;do if((c=w(c))===k||(c++,!m))break;while(v(c))}else c=Math.min(k,w(c)+1);i&&(u(h,c,m),m=!0),l++,e=!0}else{for(i="/"===t(h=c+1);"\n"!==t(++c);)if(c===k)return null;++c,i&&(u(h,c-1,m),m=!0),++l,e=!0}else{if("*"!==(g=t(c)))return"/";h=c+1,i=b||"*"===t(h);do{if("\n"===g&&++l,++c===k)throw r("comment");f=g,g=t(c)}while("*"!==f||"/"!==g)++c,i&&(u(h,c-2,m),m=!0),e=!0}}}while(e)var n=c;if(d.lastIndex=0,!d.test(t(n++)))for(;n<k&&!d.test(t(n));)++n;var o=a.substring(c,c=n);return('"'===o||"'"===o)&&(q=o),o}function y(a){p.push(a)}function z(){if(!p.length){var a=x();if(null===a)return null;y(a)}return p[0]}function A(a,b){var c=z();if(c===a)return x(),!0;if(!b)throw r("token '"+c+"', '"+a+"' expected");return!1}function B(a){var c,d=null;return void 0===a?(c=o[l-1],delete o[l-1],c&&(b||"*"===c.type||c.lineEmpty)&&(d=c.leading?c.text:null)):(n<a&&z(),c=o[a],delete o[a],c&&!c.lineEmpty&&(b||"/"===c.type)&&(d=c.leading?null:c.text)),d}return Object.defineProperty({next:x,peek:z,push:y,skip:A,cmnt:B},"line",{get:function(){return l}})}n.unescape=m},79804,(a,b,c)=>{"use strict";b.exports=y,y.filename=null,y.defaults={keepCase:!1};var d=a.r(49905),e=a.r(62272),f=a.r(87210),g=a.r(98094),h=a.r(64089),i=a.r(15506),j=a.r(94859),k=a.r(89328),l=a.r(68603),m=a.r(35872),n=a.r(29203),o=a.r(82888),p=/^[1-9][0-9]*$/,q=/^-?[1-9][0-9]*$/,r=/^0[x][0-9a-fA-F]+$/,s=/^-?0[x][0-9a-fA-F]+$/,t=/^0[0-7]+$/,u=/^-?0[0-7]+$/,v=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,w=/^[a-zA-Z_][a-zA-Z_0-9]*$/,x=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/;function y(a,b,c){b instanceof e||(c=b,b=new e),c||(c=y.defaults);var z,A,B,C,D=c.preferTrailingComment||!1,E=d(a,c.alternateCommentMode||!1),F=E.next,G=E.push,H=E.peek,I=E.skip,J=E.cmnt,K=!0,L="proto2",M=b,N=[],O={},P=c.keepCase?function(a){return a}:o.camelCase;function Q(){N.forEach(a=>{a._edition=L,Object.keys(O).forEach(b=>{void 0===a.getOption(b)&&a.setOption(b,O[b],!0)})})}function R(a,b,c){var d=y.filename;return c||(y.filename=null),Error("illegal "+(b||"token")+" '"+a+"' ("+(d?d+", ":"")+"line "+E.line+")")}function S(){var a,b=[];do{if('"'!==(a=F())&&"'"!==a)throw R(a);b.push(F()),I(a),a=H()}while('"'===a||"'"===a)return b.join("")}function T(a){var b=F();switch(b){case"'":case'"':return G(b),S();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return V(b,!0)}catch(c){if(a&&x.test(b))return b;throw R(b,"value")}}function U(a,b){do if(b&&('"'===(c=H())||"'"===c)){var c,d,e=S();if(a.push(e),L>=2023)throw R(e,"id")}else try{a.push([d=W(F()),I("to",!0)?W(F()):d])}catch(d){if(b&&x.test(c)&&L>=2023)a.push(c);else throw d}while(I(",",!0))var f={options:void 0};f.setOption=function(a,b){void 0===this.options&&(this.options={}),this.options[a]=b},aa(f,function(a){if("option"===a)ai(f,a),I(";");else throw R(a)},function(){am(f)})}function V(a,b){var c=1;switch("-"===a.charAt(0)&&(c=-1,a=a.substring(1)),a){case"inf":case"INF":case"Inf":return 1/0*c;case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(p.test(a))return c*parseInt(a,10);if(r.test(a))return c*parseInt(a,16);if(t.test(a))return c*parseInt(a,8);if(v.test(a))return c*parseFloat(a);throw R(a,"number",b)}function W(a,b){switch(a){case"max":case"MAX":case"Max":return 0x1fffffff;case"0":return 0}if(!b&&"-"===a.charAt(0))throw R(a,"id");if(q.test(a))return parseInt(a,10);if(s.test(a))return parseInt(a,16);if(u.test(a))return parseInt(a,8);throw R(a,"id")}function X(){if(void 0!==A)throw R("package");if(A=F(),!x.test(A))throw R(A,"name");M=M.define(A),I(";")}function Y(){var a,b=H();switch(b){case"weak":a=C||(C=[]),F();break;case"public":F();default:a=B||(B=[])}b=S(),I(";"),a.push(b)}function Z(){if(I("="),(L=S())<2023)throw R(L,"syntax");I(";")}function $(){if(I("="),!["2023"].includes(L=S()))throw R(L,"edition");I(";")}function _(a,b){switch(b){case"option":return ai(a,b),I(";"),!0;case"message":return ab(a,b),!0;case"enum":return ag(a,b),!0;case"service":return an(a,b),!0;case"extend":return ap(a,b),!0}return!1}function aa(a,b,c){var d,e=E.line;if(a&&("string"!=typeof a.comment&&(a.comment=J()),a.filename=y.filename),I("{",!0)){for(;"}"!==(d=F());)b(d);I(";",!0)}else c&&c(),I(";"),a&&("string"!=typeof a.comment||D)&&(a.comment=J(e)||a.comment)}function ab(a,b){if(!w.test(b=F()))throw R(b,"type name");var c=new f(b);aa(c,function(a){if(!_(c,a))switch(a){case"map":ae(c,a);break;case"required":if("proto2"!==L)throw R(a);case"repeated":ac(c,a);break;case"optional":if("proto3"===L)ac(c,"proto3_optional");else if("proto2"!==L)throw R(a);else ac(c,"optional");break;case"oneof":af(c,a);break;case"extensions":U(c.extensions||(c.extensions=[]));break;case"reserved":U(c.reserved||(c.reserved=[]),!0);break;default:if("proto2"===L||!x.test(a))throw R(a);G(a),ac(c,"optional")}}),a.add(c),a===M&&N.push(c)}function ac(a,b,c){var d=F();if("group"===d)return void ad(a,b);for(;d.endsWith(".")||H().startsWith(".");)d+=F();if(!x.test(d))throw R(d,"type");var e=F();if(!w.test(e))throw R(e,"name");e=P(e),I("=");var f=new g(e,W(F()),d,b,c);if(aa(f,function(a){if("option"===a)ai(f,a),I(";");else throw R(a)},function(){am(f)}),"proto3_optional"===b){var h=new i("_"+e);f.setOption("proto3_optional",!0),h.add(f),a.add(h)}else a.add(f);a===M&&N.push(f)}function ad(a,b){if(L>=2023)throw R("group");var c=F();if(!w.test(c))throw R(c,"name");var d=o.lcFirst(c);c===d&&(c=o.ucFirst(c)),I("=");var e=W(F()),h=new f(c);h.group=!0;var i=new g(d,e,c,b);i.filename=y.filename,aa(h,function(a){switch(a){case"option":ai(h,a),I(";");break;case"required":case"repeated":ac(h,a);break;case"optional":"proto3"===L?ac(h,"proto3_optional"):ac(h,"optional");break;case"message":ab(h,a);break;case"enum":ag(h,a);break;case"reserved":U(h.reserved||(h.reserved=[]),!0);break;default:throw R(a)}}),a.add(h).add(i)}function ae(a){I("<");var b=F();if(void 0===n.mapKey[b])throw R(b,"type");I(",");var c=F();if(!x.test(c))throw R(c,"type");I(">");var d=F();if(!w.test(d))throw R(d,"name");I("=");var e=new h(P(d),W(F()),b,c);aa(e,function(a){if("option"===a)ai(e,a),I(";");else throw R(a)},function(){am(e)}),a.add(e)}function af(a,b){if(!w.test(b=F()))throw R(b,"name");var c=new i(P(b));aa(c,function(a){"option"===a?(ai(c,a),I(";")):(G(a),ac(c,"optional"))}),a.add(c)}function ag(a,b){if(!w.test(b=F()))throw R(b,"name");var c=new j(b);aa(c,function(a){switch(a){case"option":ai(c,a),I(";");break;case"reserved":U(c.reserved||(c.reserved=[]),!0),void 0===c.reserved&&(c.reserved=[]);break;default:ah(c,a)}}),a.add(c),a===M&&N.push(c)}function ah(a,b){if(!w.test(b))throw R(b,"name");I("=");var c=W(F(),!0),d={options:void 0};d.getOption=function(a){return this.options[a]},d.setOption=function(a,b){m.prototype.setOption.call(d,a,b)},d.setParsedOption=function(){},aa(d,function(a){if("option"===a)ai(d,a),I(";");else throw R(a)},function(){am(d)}),a.add(b,c,d.comment,d.parsedOptions||d.options)}function ai(a,b){var c,d,e=!0;for("option"===b&&(b=F());"="!==b;){if("("===b){var f=F();I(")"),b="("+f+")"}if(e){if(e=!1,b.includes(".")&&!b.includes("(")){var g=b.split(".");c=g[0]+".",b=g[1];continue}c=b}else d=d?d+=b:b;b=F()}var h=aj(a,d?c.concat(d):c);d=d&&"."===d[0]?d.slice(1):d,al(a,c=c&&"."===c[c.length-1]?c.slice(0,-1):c,h,d)}function aj(a,b){if(I("{",!0)){for(var c={};!I("}",!0);){if(!w.test(z=F()))throw R(z,"name");if(null===z)throw R(z,"end of input");var d,e,f=z;if(I(":",!0),"{"===H())d=aj(a,b+"."+z);else if("["===H()){if(d=[],I("[",!0)){do e=T(!0),d.push(e);while(I(",",!0))I("]"),void 0!==e&&ak(a,b+"."+z,e)}}else d=T(!0),ak(a,b+"."+z,d);var g=c[f];g&&(d=[].concat(g).concat(d)),c[f]=d,I(",",!0),I(";",!0)}return c}var h=T(!0);return ak(a,b,h),h}function ak(a,b,c){if(M===a&&/^features\./.test(b)){O[b]=c;return}a.setOption&&a.setOption(b,c)}function al(a,b,c,d){a.setParsedOption&&a.setParsedOption(b,c,d)}function am(a){if(I("[",!0)){do ai(a,"option");while(I(",",!0))I("]")}return a}function an(a,b){if(!w.test(b=F()))throw R(b,"service name");var c=new k(b);aa(c,function(a){if(!_(c,a))if("rpc"===a)ao(c,a);else throw R(a)}),a.add(c),a===M&&N.push(c)}function ao(a,b){var c=J(),d=b;if(!w.test(b=F()))throw R(b,"name");var e,f,g,h,i=b;if(I("("),I("stream",!0)&&(f=!0),!x.test(b=F())||(e=b,I(")"),I("returns"),I("("),I("stream",!0)&&(h=!0),!x.test(b=F())))throw R(b);g=b,I(")");var j=new l(i,d,e,g,f,h);j.comment=c,aa(j,function(a){if("option"===a)ai(j,a),I(";");else throw R(a)}),a.add(j)}function ap(a,b){if(!x.test(b=F()))throw R(b,"reference");var c=b;aa(null,function(b){switch(b){case"required":case"repeated":ac(a,b,c);break;case"optional":"proto3"===L?ac(a,"proto3_optional",c):ac(a,"optional",c);break;default:if("proto2"===L||!x.test(b))throw R(b);G(b),ac(a,"optional",c)}})}for(;null!==(z=F());)switch(z){case"package":if(!K)throw R(z);X();break;case"import":if(!K)throw R(z);Y();break;case"syntax":if(!K)throw R(z);Z();break;case"edition":if(!K)throw R(z);$();break;case"option":ai(M,z),I(";",!0);break;default:if(_(M,z)){K=!1;continue}throw R(z)}return Q(),y.filename=null,{package:A,imports:B,weakImports:C,root:b}}},74737,(a,b,c)=>{"use strict";b.exports=f;var d,e=/\/|\./;function f(a,b){e.test(a)||(a="google/protobuf/"+a+".proto",b={nested:{google:{nested:{protobuf:{nested:b}}}}}),f[a]=b}f("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}}),f("duration",{Duration:d={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),f("timestamp",{Timestamp:d}),f("empty",{Empty:{fields:{}}}),f("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),f("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),f("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),f.get=function(a){return f[a]||null}},86699,(a,b,c)=>{"use strict";var d=b.exports=a.r(76099);d.build="full",d.tokenize=a.r(49905),d.parse=a.r(79804),d.common=a.r(74737),d.Root._configure(d.Type,d.parse,d.common)},33366,(a,b,c)=>{"use strict";b.exports=a.r(86699)},50634,a=>{a.v(JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"options":{"go_package":"google.golang.org/protobuf/types/descriptorpb","java_package":"com.google.protobuf","java_outer_classname":"DescriptorProtos","csharp_namespace":"Google.Protobuf.Reflection","objc_class_prefix":"GPB","cc_enable_arenas":true,"optimize_for":"SPEED"},"nested":{"FileDescriptorSet":{"edition":"proto2","fields":{"file":{"rule":"repeated","type":"FileDescriptorProto","id":1}},"extensions":[[536000000,536000000]]},"Edition":{"edition":"proto2","values":{"EDITION_UNKNOWN":0,"EDITION_LEGACY":900,"EDITION_PROTO2":998,"EDITION_PROTO3":999,"EDITION_2023":1000,"EDITION_2024":1001,"EDITION_1_TEST_ONLY":1,"EDITION_2_TEST_ONLY":2,"EDITION_99997_TEST_ONLY":99997,"EDITION_99998_TEST_ONLY":99998,"EDITION_99999_TEST_ONLY":99999,"EDITION_MAX":2147483647}},"FileDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"package":{"type":"string","id":2},"dependency":{"rule":"repeated","type":"string","id":3},"publicDependency":{"rule":"repeated","type":"int32","id":10},"weakDependency":{"rule":"repeated","type":"int32","id":11},"optionDependency":{"rule":"repeated","type":"string","id":15},"messageType":{"rule":"repeated","type":"DescriptorProto","id":4},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":5},"service":{"rule":"repeated","type":"ServiceDescriptorProto","id":6},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":7},"options":{"type":"FileOptions","id":8},"sourceCodeInfo":{"type":"SourceCodeInfo","id":9},"syntax":{"type":"string","id":12},"edition":{"type":"Edition","id":14}}},"DescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"field":{"rule":"repeated","type":"FieldDescriptorProto","id":2},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":6},"nestedType":{"rule":"repeated","type":"DescriptorProto","id":3},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":4},"extensionRange":{"rule":"repeated","type":"ExtensionRange","id":5},"oneofDecl":{"rule":"repeated","type":"OneofDescriptorProto","id":8},"options":{"type":"MessageOptions","id":7},"reservedRange":{"rule":"repeated","type":"ReservedRange","id":9},"reservedName":{"rule":"repeated","type":"string","id":10},"visibility":{"type":"SymbolVisibility","id":11}},"nested":{"ExtensionRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2},"options":{"type":"ExtensionRangeOptions","id":3}}},"ReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"ExtensionRangeOptions":{"edition":"proto2","fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999},"declaration":{"rule":"repeated","type":"Declaration","id":2,"options":{"retention":"RETENTION_SOURCE"}},"features":{"type":"FeatureSet","id":50},"verification":{"type":"VerificationState","id":3,"options":{"default":"UNVERIFIED","retention":"RETENTION_SOURCE"}}},"extensions":[[1000,536870911]],"nested":{"Declaration":{"fields":{"number":{"type":"int32","id":1},"fullName":{"type":"string","id":2},"type":{"type":"string","id":3},"reserved":{"type":"bool","id":5},"repeated":{"type":"bool","id":6}},"reserved":[[4,4]]},"VerificationState":{"values":{"DECLARATION":0,"UNVERIFIED":1}}}},"FieldDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":3},"label":{"type":"Label","id":4},"type":{"type":"Type","id":5},"typeName":{"type":"string","id":6},"extendee":{"type":"string","id":2},"defaultValue":{"type":"string","id":7},"oneofIndex":{"type":"int32","id":9},"jsonName":{"type":"string","id":10},"options":{"type":"FieldOptions","id":8},"proto3Optional":{"type":"bool","id":17}},"nested":{"Type":{"values":{"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Label":{"values":{"LABEL_OPTIONAL":1,"LABEL_REPEATED":3,"LABEL_REQUIRED":2}}}},"OneofDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"options":{"type":"OneofOptions","id":2}}},"EnumDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"value":{"rule":"repeated","type":"EnumValueDescriptorProto","id":2},"options":{"type":"EnumOptions","id":3},"reservedRange":{"rule":"repeated","type":"EnumReservedRange","id":4},"reservedName":{"rule":"repeated","type":"string","id":5},"visibility":{"type":"SymbolVisibility","id":6}},"nested":{"EnumReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"EnumValueDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"type":"EnumValueOptions","id":3}}},"ServiceDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"method":{"rule":"repeated","type":"MethodDescriptorProto","id":2},"options":{"type":"ServiceOptions","id":3}}},"MethodDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"inputType":{"type":"string","id":2},"outputType":{"type":"string","id":3},"options":{"type":"MethodOptions","id":4},"clientStreaming":{"type":"bool","id":5},"serverStreaming":{"type":"bool","id":6}}},"FileOptions":{"edition":"proto2","fields":{"javaPackage":{"type":"string","id":1},"javaOuterClassname":{"type":"string","id":8},"javaMultipleFiles":{"type":"bool","id":10},"javaGenerateEqualsAndHash":{"type":"bool","id":20,"options":{"deprecated":true}},"javaStringCheckUtf8":{"type":"bool","id":27},"optimizeFor":{"type":"OptimizeMode","id":9,"options":{"default":"SPEED"}},"goPackage":{"type":"string","id":11},"ccGenericServices":{"type":"bool","id":16},"javaGenericServices":{"type":"bool","id":17},"pyGenericServices":{"type":"bool","id":18},"deprecated":{"type":"bool","id":23},"ccEnableArenas":{"type":"bool","id":31,"options":{"default":true}},"objcClassPrefix":{"type":"string","id":36},"csharpNamespace":{"type":"string","id":37},"swiftPrefix":{"type":"string","id":39},"phpClassPrefix":{"type":"string","id":40},"phpNamespace":{"type":"string","id":41},"phpMetadataNamespace":{"type":"string","id":44},"rubyPackage":{"type":"string","id":45},"features":{"type":"FeatureSet","id":50},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[42,42],[38,38],"php_generic_services"],"nested":{"OptimizeMode":{"values":{"SPEED":1,"CODE_SIZE":2,"LITE_RUNTIME":3}}}},"MessageOptions":{"edition":"proto2","fields":{"messageSetWireFormat":{"type":"bool","id":1},"noStandardDescriptorAccessor":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3},"mapEntry":{"type":"bool","id":7},"deprecatedLegacyJsonFieldConflicts":{"type":"bool","id":11,"options":{"deprecated":true}},"features":{"type":"FeatureSet","id":12},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4],[5,5],[6,6],[8,8],[9,9]]},"FieldOptions":{"edition":"proto2","fields":{"ctype":{"type":"CType","id":1,"options":{"default":"STRING"}},"packed":{"type":"bool","id":2},"jstype":{"type":"JSType","id":6,"options":{"default":"JS_NORMAL"}},"lazy":{"type":"bool","id":5},"unverifiedLazy":{"type":"bool","id":15},"deprecated":{"type":"bool","id":3},"weak":{"type":"bool","id":10,"options":{"deprecated":true}},"debugRedact":{"type":"bool","id":16},"retention":{"type":"OptionRetention","id":17},"targets":{"rule":"repeated","type":"OptionTargetType","id":19},"editionDefaults":{"rule":"repeated","type":"EditionDefault","id":20},"features":{"type":"FeatureSet","id":21},"featureSupport":{"type":"FeatureSupport","id":22},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4],[18,18]],"nested":{"CType":{"values":{"STRING":0,"CORD":1,"STRING_PIECE":2}},"JSType":{"values":{"JS_NORMAL":0,"JS_STRING":1,"JS_NUMBER":2}},"OptionRetention":{"values":{"RETENTION_UNKNOWN":0,"RETENTION_RUNTIME":1,"RETENTION_SOURCE":2}},"OptionTargetType":{"values":{"TARGET_TYPE_UNKNOWN":0,"TARGET_TYPE_FILE":1,"TARGET_TYPE_EXTENSION_RANGE":2,"TARGET_TYPE_MESSAGE":3,"TARGET_TYPE_FIELD":4,"TARGET_TYPE_ONEOF":5,"TARGET_TYPE_ENUM":6,"TARGET_TYPE_ENUM_ENTRY":7,"TARGET_TYPE_SERVICE":8,"TARGET_TYPE_METHOD":9}},"EditionDefault":{"fields":{"edition":{"type":"Edition","id":3},"value":{"type":"string","id":2}}},"FeatureSupport":{"fields":{"editionIntroduced":{"type":"Edition","id":1},"editionDeprecated":{"type":"Edition","id":2},"deprecationWarning":{"type":"string","id":3},"editionRemoved":{"type":"Edition","id":4}}}}},"OneofOptions":{"edition":"proto2","fields":{"features":{"type":"FeatureSet","id":1},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumOptions":{"edition":"proto2","fields":{"allowAlias":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3},"deprecatedLegacyJsonFieldConflicts":{"type":"bool","id":6,"options":{"deprecated":true}},"features":{"type":"FeatureSet","id":7},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[5,5]]},"EnumValueOptions":{"edition":"proto2","fields":{"deprecated":{"type":"bool","id":1},"features":{"type":"FeatureSet","id":2},"debugRedact":{"type":"bool","id":3},"featureSupport":{"type":"FieldOptions.FeatureSupport","id":4},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"ServiceOptions":{"edition":"proto2","fields":{"features":{"type":"FeatureSet","id":34},"deprecated":{"type":"bool","id":33},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"MethodOptions":{"edition":"proto2","fields":{"deprecated":{"type":"bool","id":33},"idempotencyLevel":{"type":"IdempotencyLevel","id":34,"options":{"default":"IDEMPOTENCY_UNKNOWN"}},"features":{"type":"FeatureSet","id":35},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"nested":{"IdempotencyLevel":{"values":{"IDEMPOTENCY_UNKNOWN":0,"NO_SIDE_EFFECTS":1,"IDEMPOTENT":2}}}},"UninterpretedOption":{"edition":"proto2","fields":{"name":{"rule":"repeated","type":"NamePart","id":2},"identifierValue":{"type":"string","id":3},"positiveIntValue":{"type":"uint64","id":4},"negativeIntValue":{"type":"int64","id":5},"doubleValue":{"type":"double","id":6},"stringValue":{"type":"bytes","id":7},"aggregateValue":{"type":"string","id":8}},"nested":{"NamePart":{"fields":{"namePart":{"rule":"required","type":"string","id":1},"isExtension":{"rule":"required","type":"bool","id":2}}}}},"FeatureSet":{"edition":"proto2","fields":{"fieldPresence":{"type":"FieldPresence","id":1,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_2023","edition_defaults.value":"EXPLICIT"}},"enumType":{"type":"EnumType","id":2,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"OPEN"}},"repeatedFieldEncoding":{"type":"RepeatedFieldEncoding","id":3,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"PACKED"}},"utf8Validation":{"type":"Utf8Validation","id":4,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"VERIFY"}},"messageEncoding":{"type":"MessageEncoding","id":5,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_LEGACY","edition_defaults.value":"LENGTH_PREFIXED"}},"jsonFormat":{"type":"JsonFormat","id":6,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"ALLOW"}},"enforceNamingStyle":{"type":"EnforceNamingStyle","id":7,"options":{"retention":"RETENTION_SOURCE","targets":"TARGET_TYPE_METHOD","feature_support.edition_introduced":"EDITION_2024","edition_defaults.edition":"EDITION_2024","edition_defaults.value":"STYLE2024"}},"defaultSymbolVisibility":{"type":"VisibilityFeature.DefaultSymbolVisibility","id":8,"options":{"retention":"RETENTION_SOURCE","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2024","edition_defaults.edition":"EDITION_2024","edition_defaults.value":"EXPORT_TOP_LEVEL"}}},"extensions":[[1000,9994],[9995,9999],[10000,10000]],"reserved":[[999,999]],"nested":{"FieldPresence":{"values":{"FIELD_PRESENCE_UNKNOWN":0,"EXPLICIT":1,"IMPLICIT":2,"LEGACY_REQUIRED":3}},"EnumType":{"values":{"ENUM_TYPE_UNKNOWN":0,"OPEN":1,"CLOSED":2}},"RepeatedFieldEncoding":{"values":{"REPEATED_FIELD_ENCODING_UNKNOWN":0,"PACKED":1,"EXPANDED":2}},"Utf8Validation":{"values":{"UTF8_VALIDATION_UNKNOWN":0,"VERIFY":2,"NONE":3}},"MessageEncoding":{"values":{"MESSAGE_ENCODING_UNKNOWN":0,"LENGTH_PREFIXED":1,"DELIMITED":2}},"JsonFormat":{"values":{"JSON_FORMAT_UNKNOWN":0,"ALLOW":1,"LEGACY_BEST_EFFORT":2}},"EnforceNamingStyle":{"values":{"ENFORCE_NAMING_STYLE_UNKNOWN":0,"STYLE2024":1,"STYLE_LEGACY":2}},"VisibilityFeature":{"fields":{},"reserved":[[1,536870911]],"nested":{"DefaultSymbolVisibility":{"values":{"DEFAULT_SYMBOL_VISIBILITY_UNKNOWN":0,"EXPORT_ALL":1,"EXPORT_TOP_LEVEL":2,"LOCAL_ALL":3,"STRICT":4}}}}}},"FeatureSetDefaults":{"edition":"proto2","fields":{"defaults":{"rule":"repeated","type":"FeatureSetEditionDefault","id":1},"minimumEdition":{"type":"Edition","id":4},"maximumEdition":{"type":"Edition","id":5}},"nested":{"FeatureSetEditionDefault":{"fields":{"edition":{"type":"Edition","id":3},"overridableFeatures":{"type":"FeatureSet","id":4},"fixedFeatures":{"type":"FeatureSet","id":5}},"reserved":[[1,1],[2,2],"features"]}}},"SourceCodeInfo":{"edition":"proto2","fields":{"location":{"rule":"repeated","type":"Location","id":1}},"extensions":[[536000000,536000000]],"nested":{"Location":{"fields":{"path":{"rule":"repeated","type":"int32","id":1,"options":{"packed":true}},"span":{"rule":"repeated","type":"int32","id":2,"options":{"packed":true}},"leadingComments":{"type":"string","id":3},"trailingComments":{"type":"string","id":4},"leadingDetachedComments":{"rule":"repeated","type":"string","id":6}}}}},"GeneratedCodeInfo":{"edition":"proto2","fields":{"annotation":{"rule":"repeated","type":"Annotation","id":1}},"nested":{"Annotation":{"fields":{"path":{"rule":"repeated","type":"int32","id":1,"options":{"packed":true}},"sourceFile":{"type":"string","id":2},"begin":{"type":"int32","id":3},"end":{"type":"int32","id":4},"semantic":{"type":"Semantic","id":5}},"nested":{"Semantic":{"values":{"NONE":0,"SET":1,"ALIAS":2}}}}}},"SymbolVisibility":{"edition":"proto2","values":{"VISIBILITY_UNSET":0,"VISIBILITY_LOCAL":1,"VISIBILITY_EXPORT":2}}}}}}}}'))},90723,(a,b,c)=>{"use strict";var d=a.r(33366);b.exports=c=d.descriptor=d.Root.fromJSON(a.r(50634)).lookup(".google.protobuf");var e=d.Namespace,f=d.Root,g=d.Enum,h=d.Type,i=d.Field,j=d.MapField,k=d.OneOf,l=d.Service,m=d.Method;function n(a,b,d){var j=c.FileDescriptorProto.create({name:a.filename||(a.fullName.substring(1).replace(/\./g,"_")||"root")+".proto"});E(d,j),a instanceof f||(j.package=a.fullName.substring(1));for(var k,m=0;m<a.nestedArray.length;++m)(k=a._nestedArray[m])instanceof h?j.messageType.push(k.toDescriptor(d)):k instanceof g?j.enumType.push(k.toDescriptor()):k instanceof i?j.extension.push(k.toDescriptor(d)):k instanceof l?j.service.push(k.toDescriptor()):k instanceof e&&n(k,b,d);j.options=A(a.options,c.FileOptions),j.messageType.length+j.enumType.length+j.extension.length+j.service.length&&b.push(j)}f.fromDescriptor=function(a){"number"==typeof a.length&&(a=c.FileDescriptorSet.decode(a));var b=new f;if(a.file)for(var d,e,j,k=0;k<a.file.length;++k){e=b,(d=a.file[k]).package&&d.package.length&&(e=b.define(d.package));var m=D(d);if(d.name&&d.name.length&&b.files.push(e.filename=d.name),d.messageType)for(j=0;j<d.messageType.length;++j)e.add(h.fromDescriptor(d.messageType[j],m));if(d.enumType)for(j=0;j<d.enumType.length;++j)e.add(g.fromDescriptor(d.enumType[j],m));if(d.extension)for(j=0;j<d.extension.length;++j)e.add(i.fromDescriptor(d.extension[j],m));if(d.service)for(j=0;j<d.service.length;++j)e.add(l.fromDescriptor(d.service[j],m));var n=y(d.options,c.FileOptions);if(n){var o=Object.keys(n);for(j=0;j<o.length;++j)e.setOption(o[j],n[o[j]])}}return b.resolveAll()},f.prototype.toDescriptor=function(a){var b=c.FileDescriptorSet.create();return n(this,b.file,a),b};var o=0;h.fromDescriptor=function(a,b,d){"number"==typeof a.length&&(a=c.DescriptorProto.decode(a));var e,f=new h(a.name.length?a.name:"Type"+o++,y(a.options,c.MessageOptions));if(d||(f._edition=b),a.oneofDecl)for(e=0;e<a.oneofDecl.length;++e)f.add(k.fromDescriptor(a.oneofDecl[e]));if(a.field)for(e=0;e<a.field.length;++e){var j=i.fromDescriptor(a.field[e],b,!0);f.add(j),a.field[e].hasOwnProperty("oneofIndex")&&f.oneofsArray[a.field[e].oneofIndex].add(j)}if(a.extension)for(e=0;e<a.extension.length;++e)f.add(i.fromDescriptor(a.extension[e],b,!0));if(a.nestedType)for(e=0;e<a.nestedType.length;++e)f.add(h.fromDescriptor(a.nestedType[e],b,!0)),a.nestedType[e].options&&a.nestedType[e].options.mapEntry&&f.setOption("map_entry",!0);if(a.enumType)for(e=0;e<a.enumType.length;++e)f.add(g.fromDescriptor(a.enumType[e],b,!0));if(a.extensionRange&&a.extensionRange.length)for(e=0,f.extensions=[];e<a.extensionRange.length;++e)f.extensions.push([a.extensionRange[e].start,a.extensionRange[e].end]);if(a.reservedRange&&a.reservedRange.length||a.reservedName&&a.reservedName.length){if(f.reserved=[],a.reservedRange)for(e=0;e<a.reservedRange.length;++e)f.reserved.push([a.reservedRange[e].start,a.reservedRange[e].end]);if(a.reservedName)for(e=0;e<a.reservedName.length;++e)f.reserved.push(a.reservedName[e])}return f},h.prototype.toDescriptor=function(a){var b,d,e=c.DescriptorProto.create({name:this.name});for(d=0;d<this.fieldsArray.length;++d)if(e.field.push(b=this._fieldsArray[d].toDescriptor(a)),this._fieldsArray[d]instanceof j){var f=w(this._fieldsArray[d].keyType,this._fieldsArray[d].resolvedKeyType,!1),k=w(this._fieldsArray[d].type,this._fieldsArray[d].resolvedType,!1),l=11===k||14===k?this._fieldsArray[d].resolvedType&&B(this.parent,this._fieldsArray[d].resolvedType)||this._fieldsArray[d].type:void 0;e.nestedType.push(c.DescriptorProto.create({name:b.typeName,field:[c.FieldDescriptorProto.create({name:"key",number:1,label:1,type:f}),c.FieldDescriptorProto.create({name:"value",number:2,label:1,type:k,typeName:l})],options:c.MessageOptions.create({mapEntry:!0})}))}for(d=0;d<this.oneofsArray.length;++d)e.oneofDecl.push(this._oneofsArray[d].toDescriptor());for(d=0;d<this.nestedArray.length;++d)this._nestedArray[d]instanceof i?e.field.push(this._nestedArray[d].toDescriptor(a)):this._nestedArray[d]instanceof h?e.nestedType.push(this._nestedArray[d].toDescriptor(a)):this._nestedArray[d]instanceof g&&e.enumType.push(this._nestedArray[d].toDescriptor());if(this.extensions)for(d=0;d<this.extensions.length;++d)e.extensionRange.push(c.DescriptorProto.ExtensionRange.create({start:this.extensions[d][0],end:this.extensions[d][1]}));if(this.reserved)for(d=0;d<this.reserved.length;++d)"string"==typeof this.reserved[d]?e.reservedName.push(this.reserved[d]):e.reservedRange.push(c.DescriptorProto.ReservedRange.create({start:this.reserved[d][0],end:this.reserved[d][1]}));return e.options=A(this.options,c.MessageOptions),e};var p=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/;i.fromDescriptor=function(a,b,d){if("number"==typeof a.length&&(a=c.DescriptorProto.decode(a)),"number"!=typeof a.number)throw Error("missing field id");switch(e=a.typeName&&a.typeName.length?a.typeName:u(a.type),a.label){case 1:f=void 0;break;case 2:f="required";break;case 3:f="repeated";break;default:throw Error("illegal label: "+a.label)}var e,f,g=a.extendee;void 0!==a.extendee&&(g=g.length?g:void 0);var h=new i(a.name.length?a.name:"field"+a.number,a.number,e,f,g);if(d||(h._edition=b),h.options=y(a.options,c.FieldOptions),a.proto3_optional&&(h.options.proto3_optional=!0),a.defaultValue&&a.defaultValue.length){var j=a.defaultValue;switch(j){case"true":case"TRUE":j=!0;break;case"false":case"FALSE":j=!1;break;default:p.exec(j)&&(j=parseInt(j))}h.setOption("default",j)}return v(a.type)&&("proto3"===b?a.options&&!a.options.packed&&h.setOption("packed",!1):(!b||"proto2"===b)&&a.options&&a.options.packed&&h.setOption("packed",!0)),h},i.prototype.toDescriptor=function(a){var b=c.FieldDescriptorProto.create({name:this.name,number:this.id});if(this.map)b.type=11,b.typeName=d.util.ucFirst(this.name),b.label=3;else{switch(b.type=w(this.type,this.resolve().resolvedType,this.delimited)){case 10:case 11:case 14:b.typeName=this.resolvedType?B(this.parent,this.resolvedType):this.type}"repeated"===this.rule?b.label=3:this.required&&"proto2"===a?b.label=2:b.label=1}if(b.extendee=this.extensionField?this.extensionField.parent.fullName:this.extend,this.partOf&&(b.oneofIndex=this.parent.oneofsArray.indexOf(this.partOf))<0)throw Error("missing oneof");return this.options&&(b.options=A(this.options,c.FieldOptions),null!=this.options.default&&(b.defaultValue=String(this.options.default)),this.options.proto3_optional&&(b.proto3_optional=!0)),"proto3"===a?this.packed||((b.options||(b.options=c.FieldOptions.create())).packed=!1):(!a||"proto2"===a)&&this.packed&&((b.options||(b.options=c.FieldOptions.create())).packed=!0),b};var q=0;g.fromDescriptor=function(a,b,d){"number"==typeof a.length&&(a=c.EnumDescriptorProto.decode(a));var e={};if(a.value)for(var f=0;f<a.value.length;++f){var h=a.value[f].name,i=a.value[f].number||0;e[h&&h.length?h:"NAME"+i]=i}var j=new g(a.name&&a.name.length?a.name:"Enum"+q++,e,y(a.options,c.EnumOptions));return d||(j._edition=b),j},g.prototype.toDescriptor=function(){for(var a=[],b=0,d=Object.keys(this.values);b<d.length;++b)a.push(c.EnumValueDescriptorProto.create({name:d[b],number:this.values[d[b]]}));return c.EnumDescriptorProto.create({name:this.name,value:a,options:A(this.options,c.EnumOptions)})};var r=0;k.fromDescriptor=function(a){return"number"==typeof a.length&&(a=c.OneofDescriptorProto.decode(a)),new k(a.name&&a.name.length?a.name:"oneof"+r++)},k.prototype.toDescriptor=function(){return c.OneofDescriptorProto.create({name:this.name})};var s=0;l.fromDescriptor=function(a,b,d){"number"==typeof a.length&&(a=c.ServiceDescriptorProto.decode(a));var e=new l(a.name&&a.name.length?a.name:"Service"+s++,y(a.options,c.ServiceOptions));if(d||(e._edition=b),a.method)for(var f=0;f<a.method.length;++f)e.add(m.fromDescriptor(a.method[f]));return e},l.prototype.toDescriptor=function(){for(var a=[],b=0;b<this.methodsArray.length;++b)a.push(this._methodsArray[b].toDescriptor());return c.ServiceDescriptorProto.create({name:this.name,method:a,options:A(this.options,c.ServiceOptions)})};var t=0;function u(a){switch(a){case 1:return"double";case 2:return"float";case 3:return"int64";case 4:return"uint64";case 5:return"int32";case 6:return"fixed64";case 7:return"fixed32";case 8:return"bool";case 9:return"string";case 12:return"bytes";case 13:return"uint32";case 15:return"sfixed32";case 16:return"sfixed64";case 17:return"sint32";case 18:return"sint64"}throw Error("illegal type: "+a)}function v(a){switch(a){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 13:case 14:case 15:case 16:case 17:case 18:return!0}return!1}function w(a,b,c){switch(a){case"double":return 1;case"float":return 2;case"int64":return 3;case"uint64":return 4;case"int32":return 5;case"fixed64":return 6;case"fixed32":return 7;case"bool":return 8;case"string":return 9;case"bytes":return 12;case"uint32":return 13;case"sfixed32":return 15;case"sfixed64":return 16;case"sint32":return 17;case"sint64":return 18}if(b instanceof g)return 14;if(b instanceof h)return c?10:11;throw Error("illegal type: "+a)}function x(a,b){for(var c,d,e={},f=0;f<b.fieldsArray.length;++f)if("uninterpretedOption"!==(d=(c=b._fieldsArray[f]).name)&&Object.prototype.hasOwnProperty.call(a,d)){var i=C(d);c.resolvedType instanceof h?e[i]=x(a[d],c.resolvedType):c.resolvedType instanceof g?e[i]=c.resolvedType.valuesById[a[d]]:e[i]=a[d]}return e}function y(a,b){if(a)return x(b.toObject(a),b)}function z(a,b){for(var c={},e=Object.keys(a),f=0;f<e.length;++f){var g=e[f],i=d.util.camelCase(g);if(Object.prototype.hasOwnProperty.call(b.fields,i)){var j=b.fields[i];j.resolvedType instanceof h?c[i]=z(a[g],j.resolvedType):c[i]=a[g],j.repeated&&!Array.isArray(c[i])&&(c[i]=[c[i]])}}return c}function A(a,b){if(a)return b.fromObject(z(a,b))}function B(a,b){var c=a.fullName.split("."),d=b.fullName.split("."),g=0,h=0,i=d.length-1;if(!(a instanceof f)&&b instanceof e)for(;g<c.length&&h<i&&c[g]===d[h];){var j=b.lookup(c[g++],!0);if(null!==j&&j!==b)break;++h}else for(;g<c.length&&h<i&&c[g]===d[h];++g,++h);return d.slice(h).join(".")}function C(a){return a.substring(0,1)+a.substring(1).replace(/([A-Z])(?=[a-z]|$)/g,function(a,b){return"_"+b.toLowerCase()})}function D(a){if("editions"===a.syntax)if(a.edition===c.Edition.EDITION_2023)return"2023";else throw Error("Unsupported edition "+a.edition);return"proto3"===a.syntax?"proto3":"proto2"}function E(a,b){if(a)if("proto2"===a||"proto3"===a)b.syntax=a;else if(b.syntax="editions","2023"===a)b.edition=c.Edition.EDITION_2023;else throw Error("Unsupported edition "+a)}m.fromDescriptor=function(a){return"number"==typeof a.length&&(a=c.MethodDescriptorProto.decode(a)),new m(a.name&&a.name.length?a.name:"Method"+t++,"rpc",a.inputType,a.outputType,!!a.clientStreaming,!!a.serverStreaming,y(a.options,c.MethodOptions))},m.prototype.toDescriptor=function(){return c.MethodDescriptorProto.create({name:this.name,inputType:this.resolvedRequestType?this.resolvedRequestType.fullName:this.requestType,outputType:this.resolvedResponseType?this.resolvedResponseType.fullName:this.responseType,clientStreaming:this.requestStream,serverStreaming:this.responseStream,options:A(this.options,c.MethodOptions)})}},87784,a=>{a.v({nested:{google:{nested:{protobuf:{nested:{Api:{fields:{name:{type:"string",id:1},methods:{rule:"repeated",type:"Method",id:2},options:{rule:"repeated",type:"Option",id:3},version:{type:"string",id:4},sourceContext:{type:"SourceContext",id:5},mixins:{rule:"repeated",type:"Mixin",id:6},syntax:{type:"Syntax",id:7}}},Method:{fields:{name:{type:"string",id:1},requestTypeUrl:{type:"string",id:2},requestStreaming:{type:"bool",id:3},responseTypeUrl:{type:"string",id:4},responseStreaming:{type:"bool",id:5},options:{rule:"repeated",type:"Option",id:6},syntax:{type:"Syntax",id:7}}},Mixin:{fields:{name:{type:"string",id:1},root:{type:"string",id:2}}},SourceContext:{fields:{fileName:{type:"string",id:1}}},Option:{fields:{name:{type:"string",id:1},value:{type:"Any",id:2}}},Syntax:{values:{SYNTAX_PROTO2:0,SYNTAX_PROTO3:1}}}}}}}})},58685,a=>{a.v({nested:{google:{nested:{protobuf:{nested:{SourceContext:{fields:{fileName:{type:"string",id:1}}}}}}}}})},51494,a=>{a.v({nested:{google:{nested:{protobuf:{nested:{Type:{fields:{name:{type:"string",id:1},fields:{rule:"repeated",type:"Field",id:2},oneofs:{rule:"repeated",type:"string",id:3},options:{rule:"repeated",type:"Option",id:4},sourceContext:{type:"SourceContext",id:5},syntax:{type:"Syntax",id:6}}},Field:{fields:{kind:{type:"Kind",id:1},cardinality:{type:"Cardinality",id:2},number:{type:"int32",id:3},name:{type:"string",id:4},typeUrl:{type:"string",id:6},oneofIndex:{type:"int32",id:7},packed:{type:"bool",id:8},options:{rule:"repeated",type:"Option",id:9},jsonName:{type:"string",id:10},defaultValue:{type:"string",id:11}},nested:{Kind:{values:{TYPE_UNKNOWN:0,TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Cardinality:{values:{CARDINALITY_UNKNOWN:0,CARDINALITY_OPTIONAL:1,CARDINALITY_REQUIRED:2,CARDINALITY_REPEATED:3}}}},Enum:{fields:{name:{type:"string",id:1},enumvalue:{rule:"repeated",type:"EnumValue",id:2},options:{rule:"repeated",type:"Option",id:3},sourceContext:{type:"SourceContext",id:4},syntax:{type:"Syntax",id:5}}},EnumValue:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{rule:"repeated",type:"Option",id:3}}},Option:{fields:{name:{type:"string",id:1},value:{type:"Any",id:2}}},Syntax:{values:{SYNTAX_PROTO2:0,SYNTAX_PROTO3:1}},Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}},SourceContext:{fields:{fileName:{type:"string",id:1}}}}}}}}})},13289,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.addCommonProtos=c.loadProtosWithOptionsSync=c.loadProtosWithOptions=void 0;let d=a.r(22734),e=a.r(14747),f=a.r(33366);function g(a,b){let c=a.resolvePath;a.resolvePath=(a,f)=>{if(e.isAbsolute(f))return f;for(let a of b){let b=e.join(a,f);try{return d.accessSync(b,d.constants.R_OK),b}catch(a){continue}}return process.emitWarning(`${f} not found in any of the include paths ${b}`),c(a,f)}}c.loadProtosWithOptions=async function(a,b){let c=new f.Root;if((b=b||{}).includeDirs){if(!Array.isArray(b.includeDirs))return Promise.reject(Error("The includeDirs option must be an array"));g(c,b.includeDirs)}let d=await c.load(a,b);return d.resolveAll(),d},c.loadProtosWithOptionsSync=function(a,b){let c=new f.Root;if((b=b||{}).includeDirs){if(!Array.isArray(b.includeDirs))throw Error("The includeDirs option must be an array");g(c,b.includeDirs)}let d=c.loadSync(a,b);return d.resolveAll(),d},c.addCommonProtos=function(){let b=a.r(87784),c=a.r(50634),d=a.r(58685),e=a.r(51494);f.common("api",b.nested.google.nested.protobuf.nested),f.common("descriptor",c.nested.google.nested.protobuf.nested),f.common("source_context",d.nested.google.nested.protobuf.nested),f.common("type",e.nested.google.nested.protobuf.nested)}},54180,(a,b,c)=>{!function(d,e){function f(a){return a.default||a}if("function"==typeof define&&define.amd){let b;void 0!==(b=function(){var a={};return e(a),f(a)}())&&a.v(b)}else e(c),b.exports=f(c)}("u">typeof globalThis?globalThis:"u">typeof self?self:a.e,function(a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var b=null;try{b=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function c(a,b,c){this.low=0|a,this.high=0|b,this.unsigned=!!c}function d(a){return!0===(a&&a.__isLong__)}function e(a){var b=Math.clz32(a&-a);return a?31-b:b}c.prototype.__isLong__,Object.defineProperty(c.prototype,"__isLong__",{value:!0}),c.isLong=d;var f={},g={};function h(a,b){var c,d,e;if(b)return(a>>>=0,(e=0<=a&&a<256)&&(d=g[a]))?d:(c=j(a,0,!0),e&&(g[a]=c),c);return(a|=0,(e=-128<=a&&a<128)&&(d=f[a]))?d:(c=j(a,a<0?-1:0,!1),e&&(f[a]=c),c)}function i(a,b){if(isNaN(a))return b?s:r;if(b){if(a<0)return s;if(a>=o)return x}else{if(a<=-p)return y;if(a+1>=p)return w}return a<0?i(-a,b).neg():j(a%n|0,a/n|0,b)}function j(a,b,d){return new c(a,b,d)}c.fromInt=h,c.fromNumber=i,c.fromBits=j;var k=Math.pow;function l(a,b,c){if(0===a.length)throw Error("empty string");if("number"==typeof b?(c=b,b=!1):b=!!b,"NaN"===a||"Infinity"===a||"+Infinity"===a||"-Infinity"===a)return b?s:r;if((c=c||10)<2||36<c)throw RangeError("radix");if((d=a.indexOf("-"))>0)throw Error("interior hyphen");if(0===d)return l(a.substring(1),b,c).neg();for(var d,e=i(k(c,8)),f=r,g=0;g<a.length;g+=8){var h=Math.min(8,a.length-g),j=parseInt(a.substring(g,g+h),c);if(h<8){var m=i(k(c,h));f=f.mul(m).add(i(j))}else f=(f=f.mul(e)).add(i(j))}return f.unsigned=b,f}function m(a,b){return"number"==typeof a?i(a,b):"string"==typeof a?l(a,b):j(a.low,a.high,"boolean"==typeof b?b:a.unsigned)}c.fromString=l,c.fromValue=m;var n=0x100000000,o=0xffffffffffffffff,p=0x8000000000000000,q=h(0x1000000),r=h(0);c.ZERO=r;var s=h(0,!0);c.UZERO=s;var t=h(1);c.ONE=t;var u=h(1,!0);c.UONE=u;var v=h(-1);c.NEG_ONE=v;var w=j(-1,0x7fffffff,!1);c.MAX_VALUE=w;var x=j(-1,-1,!0);c.MAX_UNSIGNED_VALUE=x;var y=j(0,-0x80000000,!1);c.MIN_VALUE=y;var z=c.prototype;z.toInt=function(){return this.unsigned?this.low>>>0:this.low},z.toNumber=function(){return this.unsigned?(this.high>>>0)*n+(this.low>>>0):this.high*n+(this.low>>>0)},z.toString=function(a){if((a=a||10)<2||36<a)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(!this.eq(y))return"-"+this.neg().toString(a);else{var b=i(a),c=this.div(b),d=c.mul(b).sub(this);return c.toString(a)+d.toInt().toString(a)}for(var e=i(k(a,6),this.unsigned),f=this,g="";;){var h=f.div(e),j=(f.sub(h.mul(e)).toInt()>>>0).toString(a);if((f=h).isZero())return j+g;for(;j.length<6;)j="0"+j;g=""+j+g}},z.getHighBits=function(){return this.high},z.getHighBitsUnsigned=function(){return this.high>>>0},z.getLowBits=function(){return this.low},z.getLowBitsUnsigned=function(){return this.low>>>0},z.getNumBitsAbs=function(){if(this.isNegative())return this.eq(y)?64:this.neg().getNumBitsAbs();for(var a=0!=this.high?this.high:this.low,b=31;b>0&&(a&1<<b)==0;b--);return 0!=this.high?b+33:b+1},z.isSafeInteger=function(){var a=this.high>>21;return!a||!this.unsigned&&-1===a&&(0!==this.low||-2097152!==this.high)},z.isZero=function(){return 0===this.high&&0===this.low},z.eqz=z.isZero,z.isNegative=function(){return!this.unsigned&&this.high<0},z.isPositive=function(){return this.unsigned||this.high>=0},z.isOdd=function(){return(1&this.low)==1},z.isEven=function(){return(1&this.low)==0},z.equals=function(a){return d(a)||(a=m(a)),(this.unsigned===a.unsigned||this.high>>>31!=1||a.high>>>31!=1)&&this.high===a.high&&this.low===a.low},z.eq=z.equals,z.notEquals=function(a){return!this.eq(a)},z.neq=z.notEquals,z.ne=z.notEquals,z.lessThan=function(a){return 0>this.comp(a)},z.lt=z.lessThan,z.lessThanOrEqual=function(a){return 0>=this.comp(a)},z.lte=z.lessThanOrEqual,z.le=z.lessThanOrEqual,z.greaterThan=function(a){return this.comp(a)>0},z.gt=z.greaterThan,z.greaterThanOrEqual=function(a){return this.comp(a)>=0},z.gte=z.greaterThanOrEqual,z.ge=z.greaterThanOrEqual,z.compare=function(a){if(d(a)||(a=m(a)),this.eq(a))return 0;var b=this.isNegative(),c=a.isNegative();return b&&!c?-1:!b&&c?1:this.unsigned?a.high>>>0>this.high>>>0||a.high===this.high&&a.low>>>0>this.low>>>0?-1:1:this.sub(a).isNegative()?-1:1},z.comp=z.compare,z.negate=function(){return!this.unsigned&&this.eq(y)?y:this.not().add(t)},z.neg=z.negate,z.add=function(a){d(a)||(a=m(a));var b,c,e=this.high>>>16,f=65535&this.high,g=this.low>>>16,h=65535&this.low,i=a.high>>>16,k=65535&a.high,l=a.low>>>16,n=65535&a.low,o=0,p=0;return b=0+((c=0+(h+n))>>>16),c&=65535,b+=g+l,p+=b>>>16,b&=65535,p+=f+k,o+=p>>>16,p&=65535,o+=e+i,j(b<<16|c,(o&=65535)<<16|p,this.unsigned)},z.subtract=function(a){return d(a)||(a=m(a)),this.add(a.neg())},z.sub=z.subtract,z.multiply=function(a){if(this.isZero())return this;if(d(a)||(a=m(a)),b)return j(b.mul(this.low,this.high,a.low,a.high),b.get_high(),this.unsigned);if(a.isZero())return this.unsigned?s:r;if(this.eq(y))return a.isOdd()?y:r;if(a.eq(y))return this.isOdd()?y:r;if(this.isNegative())if(a.isNegative())return this.neg().mul(a.neg());else return this.neg().mul(a).neg();if(a.isNegative())return this.mul(a.neg()).neg();if(this.lt(q)&&a.lt(q))return i(this.toNumber()*a.toNumber(),this.unsigned);var c,e,f=this.high>>>16,g=65535&this.high,h=this.low>>>16,k=65535&this.low,l=a.high>>>16,n=65535&a.high,o=a.low>>>16,p=65535&a.low,t=0,u=0;return c=0+((e=0+k*p)>>>16),e&=65535,c+=h*p,u+=c>>>16,c&=65535,c+=k*o,u+=c>>>16,c&=65535,u+=g*p,t+=u>>>16,u&=65535,u+=h*o,t+=u>>>16,u&=65535,u+=k*n,t+=u>>>16,u&=65535,t+=f*p+g*o+h*n+k*l,j(c<<16|e,(t&=65535)<<16|u,this.unsigned)},z.mul=z.multiply,z.divide=function(a){if(d(a)||(a=m(a)),a.isZero())throw Error("division by zero");if(b){var c,e,f;return this.unsigned||-0x80000000!==this.high||-1!==a.low||-1!==a.high?j((this.unsigned?b.div_u:b.div_s)(this.low,this.high,a.low,a.high),b.get_high(),this.unsigned):this}if(this.isZero())return this.unsigned?s:r;if(this.unsigned){if(a.unsigned||(a=a.toUnsigned()),a.gt(this))return s;if(a.gt(this.shru(1)))return u;f=s}else{if(this.eq(y))if(a.eq(t)||a.eq(v))return y;else return a.eq(y)?t:(c=this.shr(1).div(a).shl(1)).eq(r)?a.isNegative()?t:v:(e=this.sub(a.mul(c)),f=c.add(e.div(a)));if(a.eq(y))return this.unsigned?s:r;if(this.isNegative())return a.isNegative()?this.neg().div(a.neg()):this.neg().div(a).neg();if(a.isNegative())return this.div(a.neg()).neg();f=r}for(e=this;e.gte(a);){for(var g=Math.ceil(Math.log(c=Math.max(1,Math.floor(e.toNumber()/a.toNumber())))/Math.LN2),h=g<=48?1:k(2,g-48),l=i(c),n=l.mul(a);n.isNegative()||n.gt(e);)c-=h,n=(l=i(c,this.unsigned)).mul(a);l.isZero()&&(l=t),f=f.add(l),e=e.sub(n)}return f},z.div=z.divide,z.modulo=function(a){return(d(a)||(a=m(a)),b)?j((this.unsigned?b.rem_u:b.rem_s)(this.low,this.high,a.low,a.high),b.get_high(),this.unsigned):this.sub(this.div(a).mul(a))},z.mod=z.modulo,z.rem=z.modulo,z.not=function(){return j(~this.low,~this.high,this.unsigned)},z.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},z.clz=z.countLeadingZeros,z.countTrailingZeros=function(){return this.low?e(this.low):e(this.high)+32},z.ctz=z.countTrailingZeros,z.and=function(a){return d(a)||(a=m(a)),j(this.low&a.low,this.high&a.high,this.unsigned)},z.or=function(a){return d(a)||(a=m(a)),j(this.low|a.low,this.high|a.high,this.unsigned)},z.xor=function(a){return d(a)||(a=m(a)),j(this.low^a.low,this.high^a.high,this.unsigned)},z.shiftLeft=function(a){return(d(a)&&(a=a.toInt()),0==(a&=63))?this:a<32?j(this.low<<a,this.high<<a|this.low>>>32-a,this.unsigned):j(0,this.low<<a-32,this.unsigned)},z.shl=z.shiftLeft,z.shiftRight=function(a){return(d(a)&&(a=a.toInt()),0==(a&=63))?this:a<32?j(this.low>>>a|this.high<<32-a,this.high>>a,this.unsigned):j(this.high>>a-32,this.high>=0?0:-1,this.unsigned)},z.shr=z.shiftRight,z.shiftRightUnsigned=function(a){return(d(a)&&(a=a.toInt()),0==(a&=63))?this:a<32?j(this.low>>>a|this.high<<32-a,this.high>>>a,this.unsigned):32===a?j(this.high,0,this.unsigned):j(this.high>>>a-32,0,this.unsigned)},z.shru=z.shiftRightUnsigned,z.shr_u=z.shiftRightUnsigned,z.rotateLeft=function(a){var b;return(d(a)&&(a=a.toInt()),0==(a&=63))?this:32===a?j(this.high,this.low,this.unsigned):a<32?(b=32-a,j(this.low<<a|this.high>>>b,this.high<<a|this.low>>>b,this.unsigned)):(a-=32,b=32-a,j(this.high<<a|this.low>>>b,this.low<<a|this.high>>>b,this.unsigned))},z.rotl=z.rotateLeft,z.rotateRight=function(a){var b;return(d(a)&&(a=a.toInt()),0==(a&=63))?this:32===a?j(this.high,this.low,this.unsigned):a<32?(b=32-a,j(this.high<<b|this.low>>>a,this.low<<b|this.high>>>a,this.unsigned)):(a-=32,b=32-a,j(this.low<<b|this.high>>>a,this.high<<b|this.low>>>a,this.unsigned))},z.rotr=z.rotateRight,z.toSigned=function(){return this.unsigned?j(this.low,this.high,!1):this},z.toUnsigned=function(){return this.unsigned?this:j(this.low,this.high,!0)},z.toBytes=function(a){return a?this.toBytesLE():this.toBytesBE()},z.toBytesLE=function(){var a=this.high,b=this.low;return[255&b,b>>>8&255,b>>>16&255,b>>>24,255&a,a>>>8&255,a>>>16&255,a>>>24]},z.toBytesBE=function(){var a=this.high,b=this.low;return[a>>>24,a>>>16&255,a>>>8&255,255&a,b>>>24,b>>>16&255,b>>>8&255,255&b]},c.fromBytes=function(a,b,d){return d?c.fromBytesLE(a,b):c.fromBytesBE(a,b)},c.fromBytesLE=function(a,b){return new c(a[0]|a[1]<<8|a[2]<<16|a[3]<<24,a[4]|a[5]<<8|a[6]<<16|a[7]<<24,b)},c.fromBytesBE=function(a,b){return new c(a[4]<<24|a[5]<<16|a[6]<<8|a[7],a[0]<<24|a[1]<<16|a[2]<<8|a[3],b)},"function"==typeof BigInt&&(c.fromBigInt=function(a,b){return j(Number(BigInt.asIntN(32,a)),Number(BigInt.asIntN(32,a>>BigInt(32))),b)},c.fromValue=function(a,b){return"bigint"==typeof a?c.fromBigInt(a,b):m(a,b)},z.toBigInt=function(){var a=BigInt(this.low>>>0);return BigInt(this.unsigned?this.high>>>0:this.high)<<BigInt(32)|a}),a.default=c})},79163,(a,b,c)=>{"use strict";var d;Object.defineProperty(c,"__esModule",{value:!0}),c.loadFileDescriptorSetFromObject=c.loadFileDescriptorSetFromBuffer=c.fromJSON=c.loadSync=c.load=c.IdempotencyLevel=c.isAnyExtension=c.Long=void 0;let e=a.r(63888),f=a.r(33366),g=a.r(90723),h=a.r(13289);c.Long=a.r(54180),c.isAnyExtension=function(a){return"@type"in a&&"string"==typeof a["@type"]},function(a){a.IDEMPOTENCY_UNKNOWN="IDEMPOTENCY_UNKNOWN",a.NO_SIDE_EFFECTS="NO_SIDE_EFFECTS",a.IDEMPOTENT="IDEMPOTENT"}(d=c.IdempotencyLevel||(c.IdempotencyLevel={}));let i={longs:String,enums:String,bytes:String,defaults:!0,oneofs:!0,json:!0};function j(a,b){return""===a?b:a+"."+b}function k(a){return a instanceof f.Service||a instanceof f.Type||a instanceof f.Enum}function l(a){return a instanceof f.Namespace||a instanceof f.Root}function m(a,b){let c=j(b,a.name);return k(a)?[[c,a]]:l(a)&&void 0!==a.nested?Object.keys(a.nested).map(b=>m(a.nested[b],c)).reduce((a,b)=>a.concat(b),[]):[]}function n(a,b){return function(c){return a.toObject(a.decode(c),b)}}function o(a){return function(b){if(Array.isArray(b))throw Error(`Failed to serialize message: expected object with ${a.name} structure, got array instead`);let c=a.fromObject(b);return a.encode(c).finish()}}function p(a){return(a||[]).reduce((a,b)=>{for(let[c,d]of Object.entries(b))"uninterpreted_option"===c?a.uninterpreted_option.push(b.uninterpreted_option):a[c]=d;return a},{deprecated:!1,idempotency_level:d.IDEMPOTENCY_UNKNOWN,uninterpreted_option:[]})}function q(a,b,c,d){let f=a.resolvedRequestType,g=a.resolvedResponseType;return{path:"/"+b+"/"+a.name,requestStream:!!a.requestStream,responseStream:!!a.responseStream,requestSerialize:o(f),requestDeserialize:n(f,c),responseSerialize:o(g),responseDeserialize:n(g,c),originalName:e(a.name),requestType:s(f,d),responseType:s(g,d),options:p(a.parsedOptions)}}function r(a,b,c,d){let e={};for(let f of a.methodsArray)e[f.name]=q(f,b,c,d);return e}function s(a,b){let c=a.toDescriptor("proto3");return{format:"Protocol Buffer 3 DescriptorProto",type:c.$type.toObject(c,i),fileDescriptorProtos:b}}function t(a,b){let c=a.toDescriptor("proto3");return{format:"Protocol Buffer 3 EnumDescriptorProto",type:c.$type.toObject(c,i),fileDescriptorProtos:b}}function u(a,b,c,d){if(a instanceof f.Service)return r(a,b,c,d);if(a instanceof f.Type)return s(a,d);if(a instanceof f.Enum)return t(a,d);throw Error("Type mismatch in reflection object handling")}function v(a,b){let c={};a.resolveAll();let d=a.toDescriptor("proto3").file.map(a=>Buffer.from(g.FileDescriptorProto.encode(a).finish()));for(let[e,f]of m(a,""))c[e]=u(f,e,b,d);return c}function w(a,b){b=b||{};let c=f.Root.fromDescriptor(a);return c.resolveAll(),v(c,b)}c.load=function(a,b){return(0,h.loadProtosWithOptions)(a,b).then(a=>v(a,b))},c.loadSync=function(a,b){return v((0,h.loadProtosWithOptionsSync)(a,b),b)},c.fromJSON=function(a,b){b=b||{};let c=f.Root.fromJSON(a);return c.resolveAll(),v(c,b)},c.loadFileDescriptorSetFromBuffer=function(a,b){return w(g.FileDescriptorSet.decode(a),b)},c.loadFileDescriptorSetFromObject=function(a,b){return w(g.FileDescriptorSet.fromObject(a),b)},(0,h.addCommonProtos)()},34206,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.setup=c.getChannelzServiceDefinition=c.getChannelzHandlers=c.unregisterChannelzRef=c.registerChannelzSocket=c.registerChannelzServer=c.registerChannelzSubchannel=c.registerChannelzChannel=c.ChannelzCallTracker=c.ChannelzChildrenTracker=c.ChannelzTrace=void 0;let d=a.r(4446),e=a.r(3682),f=a.r(41335),g=a.r(86361),h=a.r(83084),i=a.r(61595);function j(a){return{channel_id:a.id,name:a.name}}function k(a){return{subchannel_id:a.id,name:a.name}}function l(a){return{server_id:a.id}}function m(a){return{socket_id:a.id,name:a.name}}let n=32;class o{constructor(){this.events=[],this.eventsLogged=0,this.creationTimestamp=new Date}addTrace(a,b,c){let d=new Date;this.events.push({description:b,severity:a,timestamp:d,childChannel:(null==c?void 0:c.kind)==="channel"?c:void 0,childSubchannel:(null==c?void 0:c.kind)==="subchannel"?c:void 0}),this.events.length>=2*n&&(this.events=this.events.slice(n)),this.eventsLogged+=1}getTraceMessage(){return{creation_timestamp:B(this.creationTimestamp),num_events_logged:this.eventsLogged,events:this.events.map(a=>({description:a.description,severity:a.severity,timestamp:B(a.timestamp),channel_ref:a.childChannel?j(a.childChannel):null,subchannel_ref:a.childSubchannel?k(a.childSubchannel):null}))}}}c.ChannelzTrace=o;class p{constructor(){this.channelChildren=new Map,this.subchannelChildren=new Map,this.socketChildren=new Map}refChild(a){var b,c,d;switch(a.kind){case"channel":{let c=null!=(b=this.channelChildren.get(a.id))?b:{ref:a,count:0};c.count+=1,this.channelChildren.set(a.id,c);break}case"subchannel":{let b=null!=(c=this.subchannelChildren.get(a.id))?c:{ref:a,count:0};b.count+=1,this.subchannelChildren.set(a.id,b);break}case"socket":{let b=null!=(d=this.socketChildren.get(a.id))?d:{ref:a,count:0};b.count+=1,this.socketChildren.set(a.id,b)}}}unrefChild(a){switch(a.kind){case"channel":{let b=this.channelChildren.get(a.id);void 0!==b&&(b.count-=1,0===b.count?this.channelChildren.delete(a.id):this.channelChildren.set(a.id,b));break}case"subchannel":{let b=this.subchannelChildren.get(a.id);void 0!==b&&(b.count-=1,0===b.count?this.subchannelChildren.delete(a.id):this.subchannelChildren.set(a.id,b));break}case"socket":{let b=this.socketChildren.get(a.id);void 0!==b&&(b.count-=1,0===b.count?this.socketChildren.delete(a.id):this.socketChildren.set(a.id,b))}}}getChildLists(){let a=[];for(let{ref:b}of this.channelChildren.values())a.push(b);let b=[];for(let{ref:a}of this.subchannelChildren.values())b.push(a);let c=[];for(let{ref:a}of this.socketChildren.values())c.push(a);return{channels:a,subchannels:b,sockets:c}}}c.ChannelzChildrenTracker=p;class q{constructor(){this.callsStarted=0,this.callsSucceeded=0,this.callsFailed=0,this.lastCallStartedTimestamp=null}addCallStarted(){this.callsStarted+=1,this.lastCallStartedTimestamp=new Date}addCallSucceeded(){this.callsSucceeded+=1}addCallFailed(){this.callsFailed+=1}}c.ChannelzCallTracker=q;let r=1;function s(){return r++}let t=[],u=[],v=[],w=[];function x(a){let b=Number.parseInt(a,16);return[b/256|0,b%256]}function y(a){return""===a?[]:[].concat(...a.split(":").map(a=>x(a)))}function z(a){if((0,d.isIPv4)(a))return Buffer.from(Uint8Array.from(a.split(".").map(a=>Number.parseInt(a))));if(!(0,d.isIPv6)(a))return null;{let b,c,d=a.indexOf("::");-1===d?(b=a,c=""):(b=a.substring(0,d),c=a.substring(d+2));let e=Buffer.from(y(b)),f=Buffer.from(y(c)),g=Buffer.alloc(16-e.length-f.length,0);return Buffer.concat([e,g,f])}}function A(a){switch(a){case e.ConnectivityState.CONNECTING:return{state:"CONNECTING"};case e.ConnectivityState.IDLE:return{state:"IDLE"};case e.ConnectivityState.READY:return{state:"READY"};case e.ConnectivityState.SHUTDOWN:return{state:"SHUTDOWN"};case e.ConnectivityState.TRANSIENT_FAILURE:return{state:"TRANSIENT_FAILURE"};default:return{state:"UNKNOWN"}}}function B(a){if(!a)return null;let b=a.getTime();return{seconds:b/1e3|0,nanos:b%1e3*1e6}}function C(a){let b=a.getInfo();return{ref:j(a.ref),data:{target:b.target,state:A(b.state),calls_started:b.callTracker.callsStarted,calls_succeeded:b.callTracker.callsSucceeded,calls_failed:b.callTracker.callsFailed,last_call_started_timestamp:B(b.callTracker.lastCallStartedTimestamp),trace:b.trace.getTraceMessage()},channel_ref:b.children.channels.map(a=>j(a)),subchannel_ref:b.children.subchannels.map(a=>k(a))}}function D(a,b){let c=Number.parseInt(a.request.channel_id),d=t[c];void 0===d?b({code:f.Status.NOT_FOUND,details:"No channel data found for id "+c}):b(null,{channel:C(d)})}function E(a,b){let c=Number.parseInt(a.request.max_results),d=[],e=Number.parseInt(a.request.start_channel_id);for(;e<t.length;e++){let a=t[e];if(void 0!==a&&(d.push(C(a)),d.length>=c))break}b(null,{channel:d,end:e>=v.length})}function F(a){let b=a.getInfo();return{ref:l(a.ref),data:{calls_started:b.callTracker.callsStarted,calls_succeeded:b.callTracker.callsSucceeded,calls_failed:b.callTracker.callsFailed,last_call_started_timestamp:B(b.callTracker.lastCallStartedTimestamp),trace:b.trace.getTraceMessage()},listen_socket:b.listenerChildren.sockets.map(a=>m(a))}}function G(a,b){let c=Number.parseInt(a.request.server_id),d=v[c];void 0===d?b({code:f.Status.NOT_FOUND,details:"No server data found for id "+c}):b(null,{server:F(d)})}function H(a,b){let c=Number.parseInt(a.request.max_results),d=[],e=Number.parseInt(a.request.start_server_id);for(;e<v.length;e++){let a=v[e];if(void 0!==a&&(d.push(F(a)),d.length>=c))break}b(null,{server:d,end:e>=v.length})}function I(a,b){let c=Number.parseInt(a.request.subchannel_id),d=u[c];if(void 0===d)return void b({code:f.Status.NOT_FOUND,details:"No subchannel data found for id "+c});let e=d.getInfo();b(null,{subchannel:{ref:k(d.ref),data:{target:e.target,state:A(e.state),calls_started:e.callTracker.callsStarted,calls_succeeded:e.callTracker.callsSucceeded,calls_failed:e.callTracker.callsFailed,last_call_started_timestamp:B(e.callTracker.lastCallStartedTimestamp),trace:e.trace.getTraceMessage()},socket_ref:e.children.sockets.map(a=>m(a))}})}function J(a){var b;return(0,g.isTcpSubchannelAddress)(a)?{address:"tcpip_address",tcpip_address:{ip_address:null!=(b=z(a.host))?b:void 0,port:a.port}}:{address:"uds_address",uds_address:{filename:a.path}}}function K(a,b){var c,d,e,g,h;let i=Number.parseInt(a.request.socket_id),j=w[i];if(void 0===j)return void b({code:f.Status.NOT_FOUND,details:"No socket data found for id "+i});let k=j.getInfo(),l=k.security?{model:"tls",tls:{cipher_suite:k.security.cipherSuiteStandardName?"standard_name":"other_name",standard_name:null!=(c=k.security.cipherSuiteStandardName)?c:void 0,other_name:null!=(d=k.security.cipherSuiteOtherName)?d:void 0,local_certificate:null!=(e=k.security.localCertificate)?e:void 0,remote_certificate:null!=(g=k.security.remoteCertificate)?g:void 0}}:null;b(null,{socket:{ref:m(j.ref),local:k.localAddress?J(k.localAddress):null,remote:k.remoteAddress?J(k.remoteAddress):null,remote_name:null!=(h=k.remoteName)?h:void 0,security:l,data:{keep_alives_sent:k.keepAlivesSent,streams_started:k.streamsStarted,streams_succeeded:k.streamsSucceeded,streams_failed:k.streamsFailed,last_local_stream_created_timestamp:B(k.lastLocalStreamCreatedTimestamp),last_remote_stream_created_timestamp:B(k.lastRemoteStreamCreatedTimestamp),messages_received:k.messagesReceived,messages_sent:k.messagesSent,last_message_received_timestamp:B(k.lastMessageReceivedTimestamp),last_message_sent_timestamp:B(k.lastMessageSentTimestamp),local_flow_control_window:k.localFlowControlWindow?{value:k.localFlowControlWindow}:null,remote_flow_control_window:k.remoteFlowControlWindow?{value:k.remoteFlowControlWindow}:null}}})}function L(a,b){let c=Number.parseInt(a.request.server_id),d=v[c];if(void 0===d)return void b({code:f.Status.NOT_FOUND,details:"No server data found for id "+c});let e=Number.parseInt(a.request.start_socket_id),g=Number.parseInt(a.request.max_results),h=d.getInfo().sessionChildren.sockets.sort((a,b)=>a.id-b.id),i=[],j=0;for(;j<h.length&&(!(h[j].id>=e)||(i.push(m(h[j])),!(i.length>=g)));j++);b(null,{socket_ref:i,end:j>=h.length})}function M(){return{GetChannel:D,GetTopChannels:E,GetServer:G,GetServers:H,GetSubchannel:I,GetSocket:K,GetServerSockets:L}}c.registerChannelzChannel=function(a,b,c){let d=s(),e={id:d,name:a,kind:"channel"};return c&&(t[d]={ref:e,getInfo:b}),e},c.registerChannelzSubchannel=function(a,b,c){let d=s(),e={id:d,name:a,kind:"subchannel"};return c&&(u[d]={ref:e,getInfo:b}),e},c.registerChannelzServer=function(a,b){let c=s(),d={id:c,kind:"server"};return b&&(v[c]={ref:d,getInfo:a}),d},c.registerChannelzSocket=function(a,b,c){let d=s(),e={id:d,name:a,kind:"socket"};return c&&(w[d]={ref:e,getInfo:b}),e},c.unregisterChannelzRef=function(a){switch(a.kind){case"channel":delete t[a.id];return;case"subchannel":delete u[a.id];return;case"server":delete v[a.id];return;case"socket":delete w[a.id];return}},c.getChannelzHandlers=M;let N=null;function O(){if(N)return N;let b=(0,a.r(79163).loadSync)("channelz.proto",{keepCase:!0,longs:String,enums:String,defaults:!0,oneofs:!0,includeDirs:["/ROOT/OneDrive/Documentos/AOE4 Ranking/aoe4-ranking/node_modules/@grpc/grpc-js/build/src/../../proto"]});return N=(0,i.loadPackageDefinition)(b).grpc.channelz.v1.Channelz.service}c.getChannelzServiceDefinition=O,c.setup=function(){(0,h.registerAdminService)(O,M)}},98882,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.Subchannel=void 0;let d=a.r(3682),e=a.r(82645),f=a.r(77497),g=a.r(41335),h=a.r(24223),i=a.r(86361),j=a.r(34206),k="subchannel",l=0x7fffffff;class m{constructor(a,b,c,f,g){var h;this.channelTarget=a,this.subchannelAddress=b,this.options=c,this.credentials=f,this.connector=g,this.connectivityState=d.ConnectivityState.IDLE,this.transport=null,this.continueConnecting=!1,this.stateListeners=new Set,this.refcount=0,this.channelzEnabled=!0,this.callTracker=new j.ChannelzCallTracker,this.childrenTracker=new j.ChannelzChildrenTracker,this.streamTracker=new j.ChannelzCallTracker;const k={initialDelay:c["grpc.initial_reconnect_backoff_ms"],maxDelay:c["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new e.BackoffTimeout(()=>{this.handleBackoffTimer()},k),this.backoffTimeout.unref(),this.subchannelAddressString=(0,i.subchannelAddressToString)(b),this.keepaliveTime=null!=(h=c["grpc.keepalive_time_ms"])?h:-1,0===c["grpc.enable_channelz"]&&(this.channelzEnabled=!1),this.channelzTrace=new j.ChannelzTrace,this.channelzRef=(0,j.registerChannelzSubchannel)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Subchannel created"),this.trace("Subchannel constructed with options "+JSON.stringify(c,void 0,2))}getChannelzInfo(){return{state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists(),target:this.subchannelAddressString}}trace(a){f.trace(g.LogVerbosity.DEBUG,k,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+a)}refTrace(a){f.trace(g.LogVerbosity.DEBUG,"subchannel_refcount","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+a)}handleBackoffTimer(){this.continueConnecting?this.transitionToState([d.ConnectivityState.TRANSIENT_FAILURE],d.ConnectivityState.CONNECTING):this.transitionToState([d.ConnectivityState.TRANSIENT_FAILURE],d.ConnectivityState.IDLE)}startBackoff(){this.backoffTimeout.runOnce()}stopBackoff(){this.backoffTimeout.stop(),this.backoffTimeout.reset()}startConnectingInternal(){let a=this.options;if(a["grpc.keepalive_time_ms"]){let b=Math.min(this.keepaliveTime,l);a=Object.assign(Object.assign({},a),{"grpc.keepalive_time_ms":b})}this.connector.connect(this.subchannelAddress,this.credentials,a).then(a=>{this.transitionToState([d.ConnectivityState.CONNECTING],d.ConnectivityState.READY)?(this.transport=a,this.channelzEnabled&&this.childrenTracker.refChild(a.getChannelzRef()),a.addDisconnectListener(a=>{this.transitionToState([d.ConnectivityState.READY],d.ConnectivityState.IDLE),a&&this.keepaliveTime>0&&(this.keepaliveTime*=2,f.log(g.LogVerbosity.ERROR,`Connection to ${(0,h.uriToString)(this.channelTarget)} at ${this.subchannelAddressString} rejected by server because of excess pings. Increasing ping interval to ${this.keepaliveTime} ms`))})):a.shutdown()},a=>{this.transitionToState([d.ConnectivityState.CONNECTING],d.ConnectivityState.TRANSIENT_FAILURE,`${a}`)})}transitionToState(a,b,c){var e,f;if(-1===a.indexOf(this.connectivityState))return!1;this.trace(d.ConnectivityState[this.connectivityState]+" -> "+d.ConnectivityState[b]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+d.ConnectivityState[b]);let g=this.connectivityState;switch(this.connectivityState=b,b){case d.ConnectivityState.READY:this.stopBackoff();break;case d.ConnectivityState.CONNECTING:this.startBackoff(),this.startConnectingInternal(),this.continueConnecting=!1;break;case d.ConnectivityState.TRANSIENT_FAILURE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),null==(e=this.transport)||e.shutdown(),this.transport=null,this.backoffTimeout.isRunning()||process.nextTick(()=>{this.handleBackoffTimer()});break;case d.ConnectivityState.IDLE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),null==(f=this.transport)||f.shutdown(),this.transport=null;break;default:throw Error(`Invalid state: unknown ConnectivityState ${b}`)}for(let a of this.stateListeners)a(this,g,b,this.keepaliveTime,c);return!0}ref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount+1)),this.refcount+=1}unref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount-1)),this.refcount-=1,0===this.refcount&&(this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Shutting down"),this.channelzEnabled&&(0,j.unregisterChannelzRef)(this.channelzRef),process.nextTick(()=>{this.transitionToState([d.ConnectivityState.CONNECTING,d.ConnectivityState.READY],d.ConnectivityState.IDLE)}))}unrefIfOneRef(){return 1===this.refcount&&(this.unref(),!0)}createCall(a,b,c,d){let e;if(!this.transport)throw Error("Cannot create call, subchannel not READY");return this.channelzEnabled?(this.callTracker.addCallStarted(),this.streamTracker.addCallStarted(),e={onCallEnd:a=>{a.code===g.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()}}):e={},this.transport.createCall(a,b,c,d,e)}startConnecting(){process.nextTick(()=>{this.transitionToState([d.ConnectivityState.IDLE],d.ConnectivityState.CONNECTING)||this.connectivityState!==d.ConnectivityState.TRANSIENT_FAILURE||(this.continueConnecting=!0)})}getConnectivityState(){return this.connectivityState}addConnectivityStateListener(a){this.stateListeners.add(a)}removeConnectivityStateListener(a){this.stateListeners.delete(a)}resetBackoff(){process.nextTick(()=>{this.backoffTimeout.reset(),this.transitionToState([d.ConnectivityState.TRANSIENT_FAILURE],d.ConnectivityState.CONNECTING)})}getAddress(){return this.subchannelAddressString}getChannelzRef(){return this.channelzRef}getRealSubchannel(){return this}realSubchannelEquals(a){return a.getRealSubchannel()===this}throttleKeepalive(a){a>this.keepaliveTime&&(this.keepaliveTime=a)}}c.Subchannel=m},25328,(a,b,c)=>{b.exports=a.x("http2",()=>require("http2"))},21517,(a,b,c)=>{b.exports=a.x("http",()=>require("http"))},92509,(a,b,c)=>{b.exports=a.x("url",()=>require("url"))},79594,(a,b,c)=>{b.exports=a.x("dns",()=>require("dns"))},95463,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.setup=c.DEFAULT_PORT=void 0;let d=a.r(88858),e=a.r(79594),f=a.r(24361),g=a.r(96812),h=a.r(41335),i=a.r(60803),j=a.r(77497),k=a.r(41335),l=a.r(24223),m=a.r(4446),n=a.r(82645),o="dns_resolver";function p(a){j.trace(k.LogVerbosity.DEBUG,o,a)}c.DEFAULT_PORT=443;let q=3e4,r=f.promisify(e.resolveTxt),s=f.promisify(e.lookup);function t(...a){let b=[];for(let c=0;c<Math.max.apply(null,a.map(a=>a.length));c++)for(let d of a)c<d.length&&b.push(d[c]);return b}class u{constructor(a,b,d){var e,f,g;this.target=a,this.listener=b,this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.continueResolving=!1,this.isNextResolutionTimerRunning=!1,this.isServiceConfigEnabled=!0,this.returnedIpResult=!1,p("Resolver constructed for target "+(0,l.uriToString)(a));const j=(0,l.splitHostPort)(a.path);null===j?(this.ipResult=null,this.dnsHostname=null,this.port=null):(0,m.isIPv4)(j.host)||(0,m.isIPv6)(j.host)?(this.ipResult=[{host:j.host,port:null!=(e=j.port)?e:c.DEFAULT_PORT}],this.dnsHostname=null,this.port=null):(this.ipResult=null,this.dnsHostname=j.host,this.port=null!=(f=j.port)?f:c.DEFAULT_PORT),this.percentage=100*Math.random(),1===d["grpc.service_config_disable_resolution"]&&(this.isServiceConfigEnabled=!1),this.defaultResolutionError={code:h.Status.UNAVAILABLE,details:`Name resolution failed for target ${(0,l.uriToString)(this.target)}`,metadata:new i.Metadata};const k={initialDelay:d["grpc.initial_reconnect_backoff_ms"],maxDelay:d["grpc.max_reconnect_backoff_ms"]};this.backoff=new n.BackoffTimeout(()=>{this.continueResolving&&this.startResolutionWithBackoff()},k),this.backoff.unref(),this.minTimeBetweenResolutionsMs=null!=(g=d["grpc.dns_min_time_between_resolutions_ms"])?g:q,this.nextResolutionTimer=setTimeout(()=>{},0),clearTimeout(this.nextResolutionTimer)}startResolution(){if(null!==this.ipResult){this.returnedIpResult||(p("Returning IP address for target "+(0,l.uriToString)(this.target)),setImmediate(()=>{this.listener.onSuccessfulResolution(this.ipResult,null,null,null,{})}),this.returnedIpResult=!0),this.backoff.stop(),this.backoff.reset(),this.stopNextResolutionTimer();return}if(null===this.dnsHostname)p("Failed to parse DNS address "+(0,l.uriToString)(this.target)),setImmediate(()=>{this.listener.onError({code:h.Status.UNAVAILABLE,details:`Failed to parse DNS address ${(0,l.uriToString)(this.target)}`,metadata:new i.Metadata})}),this.stopNextResolutionTimer();else{if(null!==this.pendingLookupPromise)return;p("Looking up DNS hostname "+this.dnsHostname),this.latestLookupResult=null;let a=this.dnsHostname;this.pendingLookupPromise=s(a,{all:!0}),this.pendingLookupPromise.then(a=>{if(null===this.pendingLookupPromise)return;this.pendingLookupPromise=null,this.backoff.reset(),this.backoff.stop();let b=a.filter(a=>4===a.family),c=a.filter(a=>6===a.family);this.latestLookupResult=t(c,b).map(a=>({host:a.address,port:+this.port}));let d="["+this.latestLookupResult.map(a=>a.host+":"+a.port).join(",")+"]";(p("Resolved addresses for target "+(0,l.uriToString)(this.target)+": "+d),0===this.latestLookupResult.length)?this.listener.onError(this.defaultResolutionError):this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})},a=>{null!==this.pendingLookupPromise&&(p("Resolution error for target "+(0,l.uriToString)(this.target)+": "+a.message),this.pendingLookupPromise=null,this.stopNextResolutionTimer(),this.listener.onError(this.defaultResolutionError))}),this.isServiceConfigEnabled&&null===this.pendingTxtPromise&&(this.pendingTxtPromise=r(a),this.pendingTxtPromise.then(a=>{if(null!==this.pendingTxtPromise){this.pendingTxtPromise=null;try{this.latestServiceConfig=(0,g.extractAndSelectServiceConfig)(a,this.percentage)}catch(a){this.latestServiceConfigError={code:h.Status.UNAVAILABLE,details:`Parsing service config failed with error ${a.message}`,metadata:new i.Metadata}}null!==this.latestLookupResult&&this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})}},a=>{}))}}startNextResolutionTimer(){var a,b;clearTimeout(this.nextResolutionTimer),this.nextResolutionTimer=null==(b=(a=setTimeout(()=>{this.stopNextResolutionTimer(),this.continueResolving&&this.startResolutionWithBackoff()},this.minTimeBetweenResolutionsMs)).unref)?void 0:b.call(a),this.isNextResolutionTimerRunning=!0}stopNextResolutionTimer(){clearTimeout(this.nextResolutionTimer),this.isNextResolutionTimerRunning=!1}startResolutionWithBackoff(){null===this.pendingLookupPromise&&(this.continueResolving=!1,this.backoff.runOnce(),this.startNextResolutionTimer(),this.startResolution())}updateResolution(){null===this.pendingLookupPromise&&(this.isNextResolutionTimerRunning||this.backoff.isRunning()?(this.isNextResolutionTimerRunning?p('resolution update delayed by "min time between resolutions" rate limit'):p("resolution update delayed by backoff timer until "+this.backoff.getEndTime().toISOString()),this.continueResolving=!0):this.startResolutionWithBackoff())}destroy(){this.continueResolving=!1,this.backoff.reset(),this.backoff.stop(),this.stopNextResolutionTimer(),this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.returnedIpResult=!1}static getDefaultAuthority(a){return a.path}}c.setup=function(){(0,d.registerResolver)("dns",u),(0,d.registerDefaultScheme)("dns")}},88407,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.getProxiedConnection=c.mapProxyName=void 0;let d=a.r(77497),e=a.r(41335),f=a.r(88858),g=a.r(21517),h=a.r(55004),i=a.r(77497),j=a.r(86361),k=a.r(24223),l=a.r(92509),m=a.r(95463),n="proxy";function o(a){i.trace(e.LogVerbosity.DEBUG,n,a)}function p(){let a,b="",c="";if(process.env.grpc_proxy)c="grpc_proxy",b=process.env.grpc_proxy;else if(process.env.https_proxy)c="https_proxy",b=process.env.https_proxy;else{if(!process.env.http_proxy)return{};c="http_proxy",b=process.env.http_proxy}try{a=new l.URL(b)}catch(a){return(0,d.log)(e.LogVerbosity.ERROR,`cannot parse value of "${c}" env var`),{}}if("http:"!==a.protocol)return(0,d.log)(e.LogVerbosity.ERROR,`"${a.protocol}" scheme not supported in proxy URI`),{};let f=null;a.username&&(a.password?((0,d.log)(e.LogVerbosity.INFO,"userinfo found in proxy URI"),f=`${a.username}:${a.password}`):f=a.username);let g=a.hostname,h=a.port;""===h&&(h="80");let i={address:`${g}:${h}`};return f&&(i.creds=f),o("Proxy server "+i.address+" set by environment variable "+c),i}function q(){let a=process.env.no_grpc_proxy,b="no_grpc_proxy";return(a||(a=process.env.no_proxy,b="no_proxy"),a)?(o("No proxy server list set by environment variable "+b),a.split(",")):[]}c.mapProxyName=function(a,b){var c;let d={target:a,extraOptions:{}};if((null!=(c=b["grpc.enable_http_proxy"])?c:1)===0||"unix"===a.scheme)return d;let e=p();if(!e.address)return d;let f=(0,k.splitHostPort)(a.path);if(!f)return d;let g=f.host;for(let b of q())if(b===g)return o("Not using proxy for target in no_proxy list: "+(0,k.uriToString)(a)),d;let h={"grpc.http_connect_target":(0,k.uriToString)(a)};return e.creds&&(h["grpc.http_connect_creds"]=e.creds),{target:{scheme:"dns",path:e.address},extraOptions:h}},c.getProxiedConnection=function(a,b,c){var i;if(!("grpc.http_connect_target"in b))return Promise.resolve({});let l=b["grpc.http_connect_target"],n=(0,k.parseUri)(l);if(null===n)return Promise.resolve({});let p=(0,k.splitHostPort)(n.path);if(null===p)return Promise.resolve({});let q=`${p.host}:${null!=(i=p.port)?i:m.DEFAULT_PORT}`,r={method:"CONNECT",path:q},s={Host:q};(0,j.isTcpSubchannelAddress)(a)?(r.host=a.host,r.port=a.port):r.socketPath=a.path,"grpc.http_connect_creds"in b&&(s["Proxy-Authorization"]="Basic "+Buffer.from(b["grpc.http_connect_creds"]).toString("base64")),r.headers=s;let t=(0,j.subchannelAddressToString)(a);return o("Using proxy "+t+" to connect to "+r.path),new Promise((a,b)=>{let i=g.request(r);i.once("connect",(g,j,l)=>{var m;if(i.removeAllListeners(),j.removeAllListeners(),200===g.statusCode)if(o("Successfully connected to "+r.path+" through proxy "+t),"secureContext"in c){let d=(0,f.getDefaultAuthority)(n),e=(0,k.splitHostPort)(d),g=null!=(m=null==e?void 0:e.host)?m:d,i=h.connect(Object.assign({host:g,servername:g,socket:j},c),()=>{o("Successfully established a TLS connection to "+r.path+" through proxy "+t),a({socket:i,realTarget:n})});i.on("error",a=>{o("Failed to establish a TLS connection to "+r.path+" through proxy "+t+" with error "+a.message),b()})}else o("Successfully established a plaintext connection to "+r.path+" through proxy "+t),a({socket:j,realTarget:n});else(0,d.log)(e.LogVerbosity.ERROR,"Failed to connect to "+r.path+" through proxy "+t+" with status "+g.statusCode),b()}),i.once("error",a=>{i.removeAllListeners(),(0,d.log)(e.LogVerbosity.ERROR,"Failed to connect to proxy "+t+" with error "+a.message),b()}),i.end()})}},87841,(a,b,c)=>{"use strict";var d;Object.defineProperty(c,"__esModule",{value:!0}),c.StreamDecoder=void 0,function(a){a[a.NO_DATA=0]="NO_DATA",a[a.READING_SIZE=1]="READING_SIZE",a[a.READING_MESSAGE=2]="READING_MESSAGE"}(d||(d={}));class e{constructor(a){this.maxReadMessageLength=a,this.readState=d.NO_DATA,this.readCompressFlag=Buffer.alloc(1),this.readPartialSize=Buffer.alloc(4),this.readSizeRemaining=4,this.readMessageSize=0,this.readPartialMessage=[],this.readMessageRemaining=0}write(a){let b,c=0,e=[];for(;c<a.length;)switch(this.readState){case d.NO_DATA:this.readCompressFlag=a.slice(c,c+1),c+=1,this.readState=d.READING_SIZE,this.readPartialSize.fill(0),this.readSizeRemaining=4,this.readMessageSize=0,this.readMessageRemaining=0,this.readPartialMessage=[];break;case d.READING_SIZE:if(b=Math.min(a.length-c,this.readSizeRemaining),a.copy(this.readPartialSize,4-this.readSizeRemaining,c,c+b),this.readSizeRemaining-=b,c+=b,0===this.readSizeRemaining){if(this.readMessageSize=this.readPartialSize.readUInt32BE(0),-1!==this.maxReadMessageLength&&this.readMessageSize>this.maxReadMessageLength)throw Error(`Received message larger than max (${this.readMessageSize} vs ${this.maxReadMessageLength})`);if(this.readMessageRemaining=this.readMessageSize,this.readMessageRemaining>0)this.readState=d.READING_MESSAGE;else{let a=Buffer.concat([this.readCompressFlag,this.readPartialSize],5);this.readState=d.NO_DATA,e.push(a)}}break;case d.READING_MESSAGE:if(b=Math.min(a.length-c,this.readMessageRemaining),this.readPartialMessage.push(a.slice(c,c+b)),this.readMessageRemaining-=b,c+=b,0===this.readMessageRemaining){let a=[this.readCompressFlag,this.readPartialSize].concat(this.readPartialMessage),b=Buffer.concat(a,this.readMessageSize+5);this.readState=d.NO_DATA,e.push(b)}break;default:throw Error("Unexpected read state")}return e}}c.StreamDecoder=e},95831,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.Http2SubchannelCall=void 0;let d=a.r(25328),e=a.r(46786),f=a.r(41335),g=a.r(60803),h=a.r(87841),i=a.r(77497),j=a.r(41335),k="subchannel_call";function l(a){for(let[b,c]of Object.entries(e.constants.errno))if(c===a)return b;return"Unknown system error "+a}class m{constructor(a,b,c,e,i){var j;this.http2Stream=a,this.callEventTracker=b,this.listener=c,this.transport=e,this.callId=i,this.isReadFilterPending=!1,this.isPushPending=!1,this.canPush=!1,this.readsClosed=!1,this.statusOutput=!1,this.unpushedReadMessages=[],this.mappedStatusCode=f.Status.UNKNOWN,this.finalStatus=null,this.internalError=null;const k=null!=(j=e.getOptions()["grpc.max_receive_message_length"])?j:f.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH;this.decoder=new h.StreamDecoder(k),a.on("response",(a,b)=>{let c="";for(let b of Object.keys(a))c+="		"+b+": "+a[b]+"\n";switch(this.trace("Received server headers:\n"+c),a[":status"]){case 400:this.mappedStatusCode=f.Status.INTERNAL;break;case 401:this.mappedStatusCode=f.Status.UNAUTHENTICATED;break;case 403:this.mappedStatusCode=f.Status.PERMISSION_DENIED;break;case 404:this.mappedStatusCode=f.Status.UNIMPLEMENTED;break;case 429:case 502:case 503:case 504:this.mappedStatusCode=f.Status.UNAVAILABLE;break;default:this.mappedStatusCode=f.Status.UNKNOWN}if(b&d.constants.NGHTTP2_FLAG_END_STREAM)this.handleTrailers(a);else{let b;try{b=g.Metadata.fromHttp2Headers(a)}catch(a){this.endCall({code:f.Status.UNKNOWN,details:a.message,metadata:new g.Metadata});return}this.listener.onReceiveMetadata(b)}}),a.on("trailers",a=>{this.handleTrailers(a)}),a.on("data",a=>{let b;if(!this.statusOutput){this.trace("receive HTTP/2 data frame of length "+a.length);try{b=this.decoder.write(a)}catch(a){this.cancelWithStatus(f.Status.RESOURCE_EXHAUSTED,a.message);return}for(let a of b)this.trace("parsed message of length "+a.length),this.callEventTracker.addMessageReceived(),this.tryPush(a)}}),a.on("end",()=>{this.readsClosed=!0,this.maybeOutputStatus()}),a.on("close",()=>{process.nextTick(()=>{var b;let c;if(this.trace("HTTP/2 stream closed with code "+a.rstCode),(null==(b=this.finalStatus)?void 0:b.code)===f.Status.OK)return;let e="";switch(a.rstCode){case d.constants.NGHTTP2_NO_ERROR:if(null!==this.finalStatus)return;c=f.Status.INTERNAL,e=`Received RST_STREAM with code ${a.rstCode}`;break;case d.constants.NGHTTP2_REFUSED_STREAM:c=f.Status.UNAVAILABLE,e="Stream refused by server";break;case d.constants.NGHTTP2_CANCEL:c=f.Status.CANCELLED,e="Call cancelled";break;case d.constants.NGHTTP2_ENHANCE_YOUR_CALM:c=f.Status.RESOURCE_EXHAUSTED,e="Bandwidth exhausted or memory limit exceeded";break;case d.constants.NGHTTP2_INADEQUATE_SECURITY:c=f.Status.PERMISSION_DENIED,e="Protocol not secure enough";break;case d.constants.NGHTTP2_INTERNAL_ERROR:c=f.Status.INTERNAL,null===this.internalError?e=`Received RST_STREAM with code ${a.rstCode} (Internal server error)`:"ECONNRESET"===this.internalError.code||"ETIMEDOUT"===this.internalError.code?(c=f.Status.UNAVAILABLE,e=this.internalError.message):e=`Received RST_STREAM with code ${a.rstCode} triggered by internal client error: ${this.internalError.message}`;break;default:c=f.Status.INTERNAL,e=`Received RST_STREAM with code ${a.rstCode}`}this.endCall({code:c,details:e,metadata:new g.Metadata,rstCode:a.rstCode})})}),a.on("error",a=>{"ERR_HTTP2_STREAM_ERROR"!==a.code&&(this.trace("Node error event: message="+a.message+" code="+a.code+" errno="+l(a.errno)+" syscall="+a.syscall),this.internalError=a),this.callEventTracker.onStreamEnd(!1)})}onDisconnect(){this.endCall({code:f.Status.UNAVAILABLE,details:"Connection dropped",metadata:new g.Metadata})}outputStatus(){this.statusOutput||(this.statusOutput=!0,this.trace("ended with status: code="+this.finalStatus.code+' details="'+this.finalStatus.details+'"'),this.callEventTracker.onCallEnd(this.finalStatus),process.nextTick(()=>{this.listener.onReceiveStatus(this.finalStatus)}),this.http2Stream.resume())}trace(a){i.trace(j.LogVerbosity.DEBUG,k,"["+this.callId+"] "+a)}endCall(a){(null===this.finalStatus||this.finalStatus.code===f.Status.OK)&&(this.finalStatus=a,this.maybeOutputStatus()),this.destroyHttp2Stream()}maybeOutputStatus(){null===this.finalStatus||this.finalStatus.code===f.Status.OK&&(!this.readsClosed||0!==this.unpushedReadMessages.length||this.isReadFilterPending||this.isPushPending)||this.outputStatus()}push(a){this.trace("pushing to reader message of length "+(a instanceof Buffer?a.length:null)),this.canPush=!1,this.isPushPending=!0,process.nextTick(()=>{this.isPushPending=!1,this.statusOutput||(this.listener.onReceiveMessage(a),this.maybeOutputStatus())})}tryPush(a){this.canPush?(this.http2Stream.pause(),this.push(a)):(this.trace("unpushedReadMessages.push message of length "+a.length),this.unpushedReadMessages.push(a))}handleTrailers(a){let b;this.callEventTracker.onStreamEnd(!0);let c="";for(let b of Object.keys(a))c+="		"+b+": "+a[b]+"\n";this.trace("Received server trailers:\n"+c);try{b=g.Metadata.fromHttp2Headers(a)}catch(a){b=new g.Metadata}let d=b.getMap(),e=this.mappedStatusCode;if(e===f.Status.UNKNOWN&&"string"==typeof d["grpc-status"]){let a=Number(d["grpc-status"]);a in f.Status&&(e=a,this.trace("received status code "+a+" from server")),b.remove("grpc-status")}let h="";if("string"==typeof d["grpc-message"]){try{h=decodeURI(d["grpc-message"])}catch(a){h=d["grpc-message"]}b.remove("grpc-message"),this.trace('received status details string "'+h+'" from server')}let i={code:e,details:h,metadata:b};this.endCall(i)}destroyHttp2Stream(){var a;if(!this.http2Stream.destroyed){let b;b=(null==(a=this.finalStatus)?void 0:a.code)===f.Status.OK?d.constants.NGHTTP2_NO_ERROR:d.constants.NGHTTP2_CANCEL,this.trace("close http2 stream with code "+b),this.http2Stream.close(b)}}cancelWithStatus(a,b){this.trace("cancelWithStatus code: "+a+' details: "'+b+'"'),this.endCall({code:a,details:b,metadata:new g.Metadata})}getStatus(){return this.finalStatus}getPeer(){return this.transport.getPeerName()}getCallNumber(){return this.callId}startRead(){if(null!==this.finalStatus&&this.finalStatus.code!==f.Status.OK){this.readsClosed=!0,this.maybeOutputStatus();return}if(this.canPush=!0,this.unpushedReadMessages.length>0){let a=this.unpushedReadMessages.shift();this.push(a);return}this.http2Stream.resume()}sendMessageWithContext(a,b){this.trace("write() called with message of length "+b.length);let c=b=>{process.nextTick(()=>{var c;let d=f.Status.UNAVAILABLE;(null==b?void 0:b.code)==="ERR_STREAM_WRITE_AFTER_END"&&(d=f.Status.INTERNAL),b&&this.cancelWithStatus(d,`Write error: ${b.message}`),null==(c=a.callback)||c.call(a)})};this.trace("sending data chunk of length "+b.length),this.callEventTracker.addMessageSent();try{this.http2Stream.write(b,c)}catch(a){this.endCall({code:f.Status.UNAVAILABLE,details:`Write failed with error ${a.message}`,metadata:new g.Metadata})}}halfClose(){this.trace("end() called"),this.trace("calling end() on HTTP/2 stream"),this.http2Stream.end()}}c.Http2SubchannelCall=m},75041,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.getNextCallNumber=void 0;let d=0;c.getNextCallNumber=function(){return d++}},43489,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.Http2SubchannelConnector=void 0;let d=a.r(25328),e=a.r(55004),f=a.r(34206),g=a.r(41335),h=a.r(88407),i=a.r(77497),j=a.r(88858),k=a.r(86361),l=a.r(24223),m=a.r(4446),n=a.r(95831),o=a.r(75041),p="transport",q="transport_flowctrl",r=a.r(36526).version,{HTTP2_HEADER_AUTHORITY:s,HTTP2_HEADER_CONTENT_TYPE:t,HTTP2_HEADER_METHOD:u,HTTP2_HEADER_PATH:v,HTTP2_HEADER_TE:w,HTTP2_HEADER_USER_AGENT:x}=d.constants,y=2e4,z=Buffer.from("too_many_pings","ascii");class A{constructor(a,b,c,e){this.session=a,this.options=c,this.remoteName=e,this.keepaliveTimeMs=-1,this.keepaliveTimeoutMs=y,this.keepaliveTimerId=null,this.pendingSendKeepalivePing=!1,this.keepaliveTimeoutId=null,this.keepaliveWithoutCalls=!1,this.activeCalls=new Set,this.disconnectListeners=[],this.disconnectHandled=!1,this.channelzEnabled=!0,this.streamTracker=new f.ChannelzCallTracker,this.keepalivesSent=0,this.messagesSent=0,this.messagesReceived=0,this.lastMessageSentTimestamp=null,this.lastMessageReceivedTimestamp=null,this.subchannelAddressString=(0,k.subchannelAddressToString)(b),0===c["grpc.enable_channelz"]&&(this.channelzEnabled=!1),this.channelzRef=(0,f.registerChannelzSocket)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.userAgent=[c["grpc.primary_user_agent"],`grpc-node-js/${r}`,c["grpc.secondary_user_agent"]].filter(a=>a).join(" "),"grpc.keepalive_time_ms"in c&&(this.keepaliveTimeMs=c["grpc.keepalive_time_ms"]),"grpc.keepalive_timeout_ms"in c&&(this.keepaliveTimeoutMs=c["grpc.keepalive_timeout_ms"]),"grpc.keepalive_permit_without_calls"in c?this.keepaliveWithoutCalls=1===c["grpc.keepalive_permit_without_calls"]:this.keepaliveWithoutCalls=!1,a.once("close",()=>{this.trace("session closed"),this.stopKeepalivePings(),this.handleDisconnect()}),a.once("goaway",(a,b,c)=>{let e=!1;a===d.constants.NGHTTP2_ENHANCE_YOUR_CALM&&c&&c.equals(z)&&(e=!0),this.trace("connection closed by GOAWAY with code "+a+" and data "+(null==c?void 0:c.toString())),this.reportDisconnectToOwner(e)}),a.once("error",a=>{this.trace("connection closed with error "+a.message)}),i.isTracerEnabled(p)&&(a.on("remoteSettings",b=>{this.trace("new settings received"+(this.session!==a?" on the old connection":"")+": "+JSON.stringify(b))}),a.on("localSettings",b=>{this.trace("local settings acknowledged by remote"+(this.session!==a?" on the old connection":"")+": "+JSON.stringify(b))})),this.keepaliveWithoutCalls&&this.maybeStartKeepalivePingTimer()}getChannelzInfo(){var a,b,c;let d,e=this.session.socket,f=e.remoteAddress?(0,k.stringToSubchannelAddress)(e.remoteAddress,e.remotePort):null,g=e.localAddress?(0,k.stringToSubchannelAddress)(e.localAddress,e.localPort):null;if(this.session.encrypted){let b=e,c=b.getCipher(),f=b.getCertificate(),g=b.getPeerCertificate();d={cipherSuiteStandardName:null!=(a=c.standardName)?a:null,cipherSuiteOtherName:c.standardName?null:c.name,localCertificate:f&&"raw"in f?f.raw:null,remoteCertificate:g&&"raw"in g?g.raw:null}}else d=null;return{remoteAddress:f,localAddress:g,security:d,remoteName:this.remoteName,streamsStarted:this.streamTracker.callsStarted,streamsSucceeded:this.streamTracker.callsSucceeded,streamsFailed:this.streamTracker.callsFailed,messagesSent:this.messagesSent,messagesReceived:this.messagesReceived,keepAlivesSent:this.keepalivesSent,lastLocalStreamCreatedTimestamp:this.streamTracker.lastCallStartedTimestamp,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:this.lastMessageSentTimestamp,lastMessageReceivedTimestamp:this.lastMessageReceivedTimestamp,localFlowControlWindow:null!=(b=this.session.state.localWindowSize)?b:null,remoteFlowControlWindow:null!=(c=this.session.state.remoteWindowSize)?c:null}}trace(a){i.trace(g.LogVerbosity.DEBUG,p,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+a)}keepaliveTrace(a){i.trace(g.LogVerbosity.DEBUG,"keepalive","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+a)}flowControlTrace(a){i.trace(g.LogVerbosity.DEBUG,q,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+a)}internalsTrace(a){i.trace(g.LogVerbosity.DEBUG,"transport_internals","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+a)}reportDisconnectToOwner(a){this.disconnectHandled||(this.disconnectHandled=!0,this.disconnectListeners.forEach(b=>b(a)))}handleDisconnect(){this.reportDisconnectToOwner(!1),setImmediate(()=>{for(let a of this.activeCalls)a.onDisconnect()})}addDisconnectListener(a){this.disconnectListeners.push(a)}clearKeepaliveTimer(){this.keepaliveTimerId&&(clearTimeout(this.keepaliveTimerId),this.keepaliveTimerId=null)}clearKeepaliveTimeout(){this.keepaliveTimeoutId&&(clearTimeout(this.keepaliveTimeoutId),this.keepaliveTimeoutId=null)}canSendPing(){return this.keepaliveTimeMs>0&&(this.keepaliveWithoutCalls||this.activeCalls.size>0)}maybeSendPing(){var a,b;if(this.clearKeepaliveTimer(),!this.canSendPing()){this.pendingSendKeepalivePing=!0;return}this.channelzEnabled&&(this.keepalivesSent+=1),this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms"),this.keepaliveTimeoutId||(this.keepaliveTimeoutId=setTimeout(()=>{this.keepaliveTrace("Ping timeout passed without response"),this.handleDisconnect()},this.keepaliveTimeoutMs),null==(b=(a=this.keepaliveTimeoutId).unref)||b.call(a));try{this.session.ping((a,b,c)=>{a&&(this.keepaliveTrace("Ping failed with error "+a.message),this.handleDisconnect()),this.keepaliveTrace("Received ping response"),this.clearKeepaliveTimeout(),this.maybeStartKeepalivePingTimer()})}catch(a){this.handleDisconnect()}}maybeStartKeepalivePingTimer(){var a,b;this.canSendPing()&&(this.pendingSendKeepalivePing?(this.pendingSendKeepalivePing=!1,this.maybeSendPing()):this.keepaliveTimerId||this.keepaliveTimeoutId||(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),this.keepaliveTimerId=null==(b=(a=setTimeout(()=>{this.maybeSendPing()},this.keepaliveTimeMs)).unref)?void 0:b.call(a)))}stopKeepalivePings(){this.keepaliveTimerId&&(clearTimeout(this.keepaliveTimerId),this.keepaliveTimerId=null),this.clearKeepaliveTimeout()}removeActiveCall(a){this.activeCalls.delete(a),0===this.activeCalls.size&&this.session.unref()}addActiveCall(a){this.activeCalls.add(a),1===this.activeCalls.size&&(this.session.ref(),this.keepaliveWithoutCalls||this.maybeStartKeepalivePingTimer())}createCall(a,b,c,d,e){let f,g,h,i=a.toHttp2Headers();i[s]=b,i[x]=this.userAgent,i[t]="application/grpc",i[u]="POST",i[v]=c,i[w]="trailers";try{f=this.session.request(i)}catch(a){throw this.handleDisconnect(),a}return this.flowControlTrace("local window size: "+this.session.state.localWindowSize+" remote window size: "+this.session.state.remoteWindowSize),this.internalsTrace("session.closed="+this.session.closed+" session.destroyed="+this.session.destroyed+" session.socket.destroyed="+this.session.socket.destroyed),this.channelzEnabled?(this.streamTracker.addCallStarted(),g={addMessageSent:()=>{var a;this.messagesSent+=1,this.lastMessageSentTimestamp=new Date,null==(a=e.addMessageSent)||a.call(e)},addMessageReceived:()=>{var a;this.messagesReceived+=1,this.lastMessageReceivedTimestamp=new Date,null==(a=e.addMessageReceived)||a.call(e)},onCallEnd:a=>{var b;null==(b=e.onCallEnd)||b.call(e,a),this.removeActiveCall(h)},onStreamEnd:a=>{var b;a?this.streamTracker.addCallSucceeded():this.streamTracker.addCallFailed(),null==(b=e.onStreamEnd)||b.call(e,a)}}):g={addMessageSent:()=>{var a;null==(a=e.addMessageSent)||a.call(e)},addMessageReceived:()=>{var a;null==(a=e.addMessageReceived)||a.call(e)},onCallEnd:a=>{var b;null==(b=e.onCallEnd)||b.call(e,a),this.removeActiveCall(h)},onStreamEnd:a=>{var b;null==(b=e.onStreamEnd)||b.call(e,a)}},h=new n.Http2SubchannelCall(f,g,d,this,(0,o.getNextCallNumber)()),this.addActiveCall(h),h}getChannelzRef(){return this.channelzRef}getPeerName(){return this.subchannelAddressString}getOptions(){return this.options}shutdown(){this.session.close(),(0,f.unregisterChannelzRef)(this.channelzRef)}}class B{constructor(a){this.channelTarget=a,this.session=null,this.isShutdown=!1}trace(a){i.trace(g.LogVerbosity.DEBUG,p,(0,l.uriToString)(this.channelTarget)+" "+a)}createSession(a,b,c,f){return this.isShutdown?Promise.reject():new Promise((g,h)=>{var i,n,o;let p;f.realTarget?(p=(0,l.uriToString)(f.realTarget),this.trace("creating HTTP/2 session through proxy to "+(0,l.uriToString)(f.realTarget))):(p=null,this.trace("creating HTTP/2 session to "+(0,k.subchannelAddressToString)(a)));let q=(0,j.getDefaultAuthority)(null!=(i=f.realTarget)?i:this.channelTarget),r=b._getConnectionOptions()||{};r.maxSendHeaderBlockLength=Number.MAX_SAFE_INTEGER,"grpc-node.max_session_memory"in c?r.maxSessionMemory=c["grpc-node.max_session_memory"]:r.maxSessionMemory=Number.MAX_SAFE_INTEGER;let s="http://";if("secureContext"in r){if(s="https://",c["grpc.ssl_target_name_override"]){let a=c["grpc.ssl_target_name_override"];r.checkServerIdentity=(b,c)=>(0,e.checkServerIdentity)(a,c),r.servername=a}else{let a=null!=(o=null==(n=(0,l.splitHostPort)(q))?void 0:n.host)?o:"localhost";r.servername=a}f.socket&&(r.createConnection=(a,b)=>f.socket)}else r.createConnection=(b,c)=>f.socket?f.socket:m.connect(a);r=Object.assign(Object.assign(Object.assign({},r),a),{enableTrace:1===c["grpc-node.tls_enable_trace"]});let t=d.connect(s+q,r);this.session=t;let u="Failed to connect";t.unref(),t.once("connect",()=>{t.removeAllListeners(),g(new A(t,a,c,p)),this.session=null}),t.once("close",()=>{this.session=null,setImmediate(()=>{h(`${u} (${new Date().toISOString()})`)})}),t.once("error",a=>{u=a.message,this.trace("connection failed with error "+u)})})}connect(a,b,c){var d,f;if(this.isShutdown)return Promise.reject();let g=b._getConnectionOptions()||{};if("secureContext"in g){if(g.ALPNProtocols=["h2"],c["grpc.ssl_target_name_override"]){let a=c["grpc.ssl_target_name_override"];g.checkServerIdentity=(b,c)=>(0,e.checkServerIdentity)(a,c),g.servername=a}else if("grpc.http_connect_target"in c){let a=(0,j.getDefaultAuthority)(null!=(d=(0,l.parseUri)(c["grpc.http_connect_target"]))?d:{path:"localhost"}),b=(0,l.splitHostPort)(a);g.servername=null!=(f=null==b?void 0:b.host)?f:a}c["grpc-node.tls_enable_trace"]&&(g.enableTrace=!0)}return(0,h.getProxiedConnection)(a,c,g).then(d=>this.createSession(a,b,c,d))}shutdown(){var a;this.isShutdown=!0,null==(a=this.session)||a.close(),this.session=null}}c.Http2SubchannelConnector=B},77408,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.getSubchannelPool=c.SubchannelPool=void 0;let d=a.r(71593),e=a.r(98882),f=a.r(86361),g=a.r(24223),h=a.r(43489),i=1e4;class j{constructor(){this.pool=Object.create(null),this.cleanupTimer=null}unrefUnusedSubchannels(){let a=!0;for(let b in this.pool){let c=this.pool[b].filter(a=>!a.subchannel.unrefIfOneRef());c.length>0&&(a=!1),this.pool[b]=c}a&&null!==this.cleanupTimer&&(clearInterval(this.cleanupTimer),this.cleanupTimer=null)}ensureCleanupTask(){var a,b;null===this.cleanupTimer&&(this.cleanupTimer=setInterval(()=>{this.unrefUnusedSubchannels()},i),null==(b=(a=this.cleanupTimer).unref)||b.call(a))}getOrCreateSubchannel(a,b,c,i){this.ensureCleanupTask();let j=(0,g.uriToString)(a);if(j in this.pool){for(let a of this.pool[j])if((0,f.subchannelAddressEqual)(b,a.subchannelAddress)&&(0,d.channelOptionsEqual)(c,a.channelArguments)&&i._equals(a.channelCredentials))return a.subchannel}let k=new e.Subchannel(a,b,c,i,new h.Http2SubchannelConnector(a));return j in this.pool||(this.pool[j]=[]),this.pool[j].push({subchannelAddress:b,channelArguments:c,channelCredentials:i,subchannel:k}),k.ref(),k}}c.SubchannelPool=j;let k=new j;c.getSubchannelPool=function(a){return a?k:new j}},11965,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.FilterStackFactory=c.FilterStack=void 0;class d{constructor(a){this.filters=a}sendMetadata(a){let b=a;for(let a=0;a<this.filters.length;a++)b=this.filters[a].sendMetadata(b);return b}receiveMetadata(a){let b=a;for(let a=this.filters.length-1;a>=0;a--)b=this.filters[a].receiveMetadata(b);return b}sendMessage(a){let b=a;for(let a=0;a<this.filters.length;a++)b=this.filters[a].sendMessage(b);return b}receiveMessage(a){let b=a;for(let a=this.filters.length-1;a>=0;a--)b=this.filters[a].receiveMessage(b);return b}receiveTrailers(a){let b=a;for(let a=this.filters.length-1;a>=0;a--)b=this.filters[a].receiveTrailers(b);return b}push(a){this.filters.unshift(...a)}getFilters(){return this.filters}}c.FilterStack=d;class e{constructor(a){this.factories=a}push(a){this.factories.unshift(...a)}clone(){return new e([...this.factories])}createFilter(){return new d(this.factories.map(a=>a.createFilter()))}}c.FilterStackFactory=e},6461,(a,b,c)=>{b.exports=a.x("zlib",()=>require("zlib"))},57200,(a,b,c)=>{"use strict";var d;Object.defineProperty(c,"__esModule",{value:!0}),c.CompressionAlgorithms=void 0,function(a){a[a.identity=0]="identity",a[a.deflate=1]="deflate",a[a.gzip=2]="gzip"}(d||(c.CompressionAlgorithms=d={}))},86945,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.BaseFilter=void 0;class d{async sendMetadata(a){return a}receiveMetadata(a){return a}async sendMessage(a){return a}async receiveMessage(a){return a}receiveTrailers(a){return a}}c.BaseFilter=d},188,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.CompressionFilterFactory=c.CompressionFilter=void 0;let d=a.r(6461),e=a.r(57200),f=a.r(41335),g=a.r(86945),h=a.r(77497),i=a=>"number"==typeof a&&"string"==typeof e.CompressionAlgorithms[a];class j{async writeMessage(a,b){let c=a;b&&(c=await this.compressMessage(c));let d=Buffer.allocUnsafe(c.length+5);return d.writeUInt8(+!!b,0),d.writeUInt32BE(c.length,1),c.copy(d,5),d}async readMessage(a){let b=1===a.readUInt8(0),c=a.slice(5);return b&&(c=await this.decompressMessage(c)),c}}class k extends j{async compressMessage(a){return a}async writeMessage(a,b){let c=Buffer.allocUnsafe(a.length+5);return c.writeUInt8(0,0),c.writeUInt32BE(a.length,1),a.copy(c,5),c}decompressMessage(a){return Promise.reject(Error('Received compressed message but "grpc-encoding" header was identity'))}}class l extends j{constructor(a){super(),this.maxRecvMessageLength=a}compressMessage(a){return new Promise((b,c)=>{d.deflate(a,(a,d)=>{a?c(a):b(d)})})}decompressMessage(a){return new Promise((b,c)=>{let e=0,g=[],h=d.createInflate();h.on("data",a=>{g.push(a),e+=a.byteLength,-1!==this.maxRecvMessageLength&&e>this.maxRecvMessageLength&&(h.destroy(),c({code:f.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`}))}),h.on("end",()=>{b(Buffer.concat(g))}),h.write(a),h.end()})}}class m extends j{constructor(a){super(),this.maxRecvMessageLength=a}compressMessage(a){return new Promise((b,c)=>{d.gzip(a,(a,d)=>{a?c(a):b(d)})})}decompressMessage(a){return new Promise((b,c)=>{let e=0,g=[],h=d.createGunzip();h.on("data",a=>{g.push(a),e+=a.byteLength,-1!==this.maxRecvMessageLength&&e>this.maxRecvMessageLength&&(h.destroy(),c({code:f.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`}))}),h.on("end",()=>{b(Buffer.concat(g))}),h.write(a),h.end()})}}class n extends j{constructor(a){super(),this.compressionName=a}compressMessage(a){return Promise.reject(Error(`Received message compressed with unsupported compression method ${this.compressionName}`))}decompressMessage(a){return Promise.reject(Error(`Compression method not supported: ${this.compressionName}`))}}function o(a,b){switch(a){case"identity":return new k;case"deflate":return new l(b);case"gzip":return new m(b);default:return new n(a)}}class p extends g.BaseFilter{constructor(a,b){var c,d;super(),this.sharedFilterConfig=b,this.sendCompression=new k,this.receiveCompression=new k,this.currentCompressionAlgorithm="identity";const g=a["grpc.default_compression_algorithm"];if(this.maxReceiveMessageLength=null!=(c=a["grpc.max_receive_message_length"])?c:f.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,void 0!==g)if(i(g)){const a=e.CompressionAlgorithms[g],c=null==(d=b.serverSupportedEncodingHeader)?void 0:d.split(",");(!c||c.includes(a))&&(this.currentCompressionAlgorithm=a,this.sendCompression=o(this.currentCompressionAlgorithm,-1))}else h.log(f.LogVerbosity.ERROR,`Invalid value provided for grpc.default_compression_algorithm option: ${g}`)}async sendMetadata(a){let b=await a;return b.set("grpc-accept-encoding","identity,deflate,gzip"),b.set("accept-encoding","identity"),"identity"===this.currentCompressionAlgorithm?b.remove("grpc-encoding"):b.set("grpc-encoding",this.currentCompressionAlgorithm),b}receiveMetadata(a){let b=a.get("grpc-encoding");if(b.length>0){let a=b[0];"string"==typeof a&&(this.receiveCompression=o(a,this.maxReceiveMessageLength))}a.remove("grpc-encoding");let c=a.get("grpc-accept-encoding")[0];return c&&(this.sharedFilterConfig.serverSupportedEncodingHeader=c,c.split(",").includes(this.currentCompressionAlgorithm)||(this.sendCompression=new k,this.currentCompressionAlgorithm="identity")),a.remove("grpc-accept-encoding"),a}async sendMessage(a){var b;let c,d=await a;return c=!(this.sendCompression instanceof k)&&((null!=(b=d.flags)?b:0)&2)==0,{message:await this.sendCompression.writeMessage(d.message,c),flags:d.flags}}async receiveMessage(a){return this.receiveCompression.readMessage(await a)}}c.CompressionFilter=p;class q{constructor(a,b){this.options=b,this.sharedFilterConfig={}}createFilter(){return new p(this.options,this.sharedFilterConfig)}}c.CompressionFilterFactory=q},64966,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.deadlineToString=c.getRelativeTimeout=c.getDeadlineTimeoutString=c.minDeadline=void 0,c.minDeadline=function(...a){let b=1/0;for(let c of a){let a=c instanceof Date?c.getTime():c;a<b&&(b=a)}return b};let d=[["m",1],["S",1e3],["M",6e4],["H",36e5]];c.getDeadlineTimeoutString=function(a){let b=new Date().getTime();a instanceof Date&&(a=a.getTime());let c=Math.max(a-b,0);for(let[a,b]of d){let d=c/b;if(d<1e8)return String(Math.ceil(d))+a}throw Error("Deadline is too far in the future")};let e=0x7fffffff;c.getRelativeTimeout=function(a){let b=(a instanceof Date?a.getTime():a)-new Date().getTime();return b<0?0:b>e?1/0:b},c.deadlineToString=function(a){if(a instanceof Date)return a.toISOString();{let b=new Date(a);return Number.isNaN(b.getTime())?""+a:b.toISOString()}}},1144,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.restrictControlPlaneStatusCode=void 0;let d=a.r(41335),e=[d.Status.OK,d.Status.INVALID_ARGUMENT,d.Status.NOT_FOUND,d.Status.ALREADY_EXISTS,d.Status.FAILED_PRECONDITION,d.Status.ABORTED,d.Status.OUT_OF_RANGE,d.Status.DATA_LOSS];c.restrictControlPlaneStatusCode=function(a,b){return e.includes(a)?{code:d.Status.INTERNAL,details:`Invalid status from control plane: ${a} ${d.Status[a]} ${b}`}:{code:a,details:b}}},10333,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.LoadBalancingCall=void 0;let d=a.r(3682),e=a.r(41335),f=a.r(64966),g=a.r(60803),h=a.r(90104),i=a.r(24223),j=a.r(77497),k=a.r(1144),l=a.r(25328),m="load_balancing_call";class n{constructor(a,b,c,d,e,f,g){var h,j;this.channel=a,this.callConfig=b,this.methodName=c,this.host=d,this.credentials=e,this.deadline=f,this.callNumber=g,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.metadata=null,this.listener=null,this.onCallEnded=null;const k=this.methodName.split("/");let l="";k.length>=2&&(l=k[1]);const m=null!=(j=null==(h=(0,i.splitHostPort)(this.host))?void 0:h.host)?j:"localhost";this.serviceUrl=`https://${m}/${l}`}trace(a){j.trace(e.LogVerbosity.DEBUG,m,"["+this.callNumber+"] "+a)}outputStatus(a,b){var c,d;if(!this.ended){this.ended=!0,this.trace("ended with status: code="+a.code+' details="'+a.details+'"');let e=Object.assign(Object.assign({},a),{progress:b});null==(c=this.listener)||c.onReceiveStatus(e),null==(d=this.onCallEnded)||d.call(this,e.code)}}doPick(){var a,b;if(this.ended)return;if(!this.metadata)throw Error("doPick called before start");this.trace("Pick called");let c=this.channel.doPick(this.metadata,this.callConfig.pickInformation),i=c.subchannel?"("+c.subchannel.getChannelzRef().id+") "+c.subchannel.getAddress():""+c.subchannel;switch(this.trace("Pick result: "+h.PickResultType[c.pickResultType]+" subchannel: "+i+" status: "+(null==(a=c.status)?void 0:a.code)+" "+(null==(b=c.status)?void 0:b.details)),c.pickResultType){case h.PickResultType.COMPLETE:this.credentials.generateMetadata({service_url:this.serviceUrl}).then(a=>{var b,h,j;if(this.ended)return void this.trace("Credentials metadata generation finished after call ended");let k=this.metadata.clone();if(k.merge(a),k.get("authorization").length>1&&this.outputStatus({code:e.Status.INTERNAL,details:'"authorization" metadata cannot have multiple values',metadata:new g.Metadata},"PROCESSED"),c.subchannel.getConnectivityState()!==d.ConnectivityState.READY){this.trace("Picked subchannel "+i+" has state "+d.ConnectivityState[c.subchannel.getConnectivityState()]+" after getting credentials metadata. Retrying pick"),this.doPick();return}this.deadline!==1/0&&k.set("grpc-timeout",(0,f.getDeadlineTimeoutString)(this.deadline));try{this.child=c.subchannel.getRealSubchannel().createCall(k,this.host,this.methodName,{onReceiveMetadata:a=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(a)},onReceiveMessage:a=>{this.trace("Received message"),this.listener.onReceiveMessage(a)},onReceiveStatus:a=>{this.trace("Received status"),a.rstCode===l.constants.NGHTTP2_REFUSED_STREAM?this.outputStatus(a,"REFUSED"):this.outputStatus(a,"PROCESSED")}})}catch(a){this.trace("Failed to start call on picked subchannel "+i+" with error "+a.message),this.outputStatus({code:e.Status.INTERNAL,details:"Failed to start HTTP/2 stream with error "+a.message,metadata:new g.Metadata},"NOT_STARTED");return}null==(h=(b=this.callConfig).onCommitted)||h.call(b),null==(j=c.onCallStarted)||j.call(c),this.onCallEnded=c.onCallEnded,this.trace("Created child call ["+this.child.getCallNumber()+"]"),this.readPending&&this.child.startRead(),this.pendingMessage&&this.child.sendMessageWithContext(this.pendingMessage.context,this.pendingMessage.message),this.pendingHalfClose&&this.child.halfClose()},a=>{let{code:b,details:c}=(0,k.restrictControlPlaneStatusCode)("number"==typeof a.code?a.code:e.Status.UNKNOWN,`Getting metadata from plugin failed with error: ${a.message}`);this.outputStatus({code:b,details:c,metadata:new g.Metadata},"PROCESSED")});break;case h.PickResultType.DROP:let{code:j,details:m}=(0,k.restrictControlPlaneStatusCode)(c.status.code,c.status.details);setImmediate(()=>{this.outputStatus({code:j,details:m,metadata:c.status.metadata},"DROP")});break;case h.PickResultType.TRANSIENT_FAILURE:if(this.metadata.getOptions().waitForReady)this.channel.queueCallForPick(this);else{let{code:a,details:b}=(0,k.restrictControlPlaneStatusCode)(c.status.code,c.status.details);setImmediate(()=>{this.outputStatus({code:a,details:b,metadata:c.status.metadata},"PROCESSED")})}break;case h.PickResultType.QUEUE:this.channel.queueCallForPick(this)}}cancelWithStatus(a,b){var c;this.trace("cancelWithStatus code: "+a+' details: "'+b+'"'),null==(c=this.child)||c.cancelWithStatus(a,b),this.outputStatus({code:a,details:b,metadata:new g.Metadata},"PROCESSED")}getPeer(){var a,b;return null!=(b=null==(a=this.child)?void 0:a.getPeer())?b:this.channel.getTarget()}start(a,b){this.trace("start called"),this.listener=b,this.metadata=a,this.doPick()}sendMessageWithContext(a,b){this.trace("write() called with message of length "+b.length),this.child?this.child.sendMessageWithContext(a,b):this.pendingMessage={context:a,message:b}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(a){throw Error("Method not implemented.")}getCallNumber(){return this.callNumber}}c.LoadBalancingCall=n},93751,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ResolvingCall=void 0;let d=a.r(41335),e=a.r(64966),f=a.r(60803),g=a.r(77497),h=a.r(1144),i="resolving_call";class j{constructor(a,b,c,f,g,h){this.channel=a,this.method=b,this.filterStackFactory=f,this.credentials=g,this.callNumber=h,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.readFilterPending=!1,this.writeFilterPending=!1,this.pendingChildStatus=null,this.metadata=null,this.listener=null,this.statusWatchers=[],this.deadlineTimer=setTimeout(()=>{},0),this.filterStack=null,this.deadline=c.deadline,this.host=c.host,c.parentCall&&(c.flags&d.Propagate.CANCELLATION&&c.parentCall.on("cancelled",()=>{this.cancelWithStatus(d.Status.CANCELLED,"Cancelled by parent call")}),c.flags&d.Propagate.DEADLINE&&(this.trace("Propagating deadline from parent: "+c.parentCall.getDeadline()),this.deadline=(0,e.minDeadline)(this.deadline,c.parentCall.getDeadline()))),this.trace("Created"),this.runDeadlineTimer()}trace(a){g.trace(d.LogVerbosity.DEBUG,i,"["+this.callNumber+"] "+a)}runDeadlineTimer(){clearTimeout(this.deadlineTimer),this.trace("Deadline: "+(0,e.deadlineToString)(this.deadline));let a=(0,e.getRelativeTimeout)(this.deadline);if(a!==1/0){this.trace("Deadline will be reached in "+a+"ms");let b=()=>{this.cancelWithStatus(d.Status.DEADLINE_EXCEEDED,"Deadline exceeded")};a<=0?process.nextTick(b):this.deadlineTimer=setTimeout(b,a)}}outputStatus(a){if(!this.ended){this.ended=!0,this.filterStack||(this.filterStack=this.filterStackFactory.createFilter()),clearTimeout(this.deadlineTimer);let b=this.filterStack.receiveTrailers(a);this.trace("ended with status: code="+b.code+' details="'+b.details+'"'),this.statusWatchers.forEach(a=>a(b)),process.nextTick(()=>{var a;null==(a=this.listener)||a.onReceiveStatus(b)})}}sendMessageOnChild(a,b){if(!this.child)throw Error("sendMessageonChild called with child not populated");let c=this.child;this.writeFilterPending=!0,this.filterStack.sendMessage(Promise.resolve({message:b,flags:a.flags})).then(b=>{this.writeFilterPending=!1,c.sendMessageWithContext(a,b.message),this.pendingHalfClose&&c.halfClose()},a=>{this.cancelWithStatus(a.code,a.details)})}getConfig(){if(this.ended)return;if(!this.metadata||!this.listener)throw Error("getConfig called before start");let a=this.channel.getConfig(this.method,this.metadata);if("NONE"===a.type)return void this.channel.queueCallForConfig(this);if("ERROR"===a.type)return void(this.metadata.getOptions().waitForReady?this.channel.queueCallForConfig(this):this.outputStatus(a.error));let b=a.config;if(b.status!==d.Status.OK){let{code:a,details:c}=(0,h.restrictControlPlaneStatusCode)(b.status,"Failed to route call to method "+this.method);this.outputStatus({code:a,details:c,metadata:new f.Metadata});return}if(b.methodConfig.timeout){let a=new Date;a.setSeconds(a.getSeconds()+b.methodConfig.timeout.seconds),a.setMilliseconds(a.getMilliseconds()+b.methodConfig.timeout.nanos/1e6),this.deadline=(0,e.minDeadline)(this.deadline,a),this.runDeadlineTimer()}this.filterStackFactory.push(b.dynamicFilterFactories),this.filterStack=this.filterStackFactory.createFilter(),this.filterStack.sendMetadata(Promise.resolve(this.metadata)).then(a=>{this.child=this.channel.createInnerCall(b,this.method,this.host,this.credentials,this.deadline),this.trace("Created child ["+this.child.getCallNumber()+"]"),this.child.start(a,{onReceiveMetadata:a=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(this.filterStack.receiveMetadata(a))},onReceiveMessage:a=>{this.trace("Received message"),this.readFilterPending=!0,this.filterStack.receiveMessage(a).then(a=>{this.trace("Finished filtering received message"),this.readFilterPending=!1,this.listener.onReceiveMessage(a),this.pendingChildStatus&&this.outputStatus(this.pendingChildStatus)},a=>{this.cancelWithStatus(a.code,a.details)})},onReceiveStatus:a=>{this.trace("Received status"),this.readFilterPending?this.pendingChildStatus=a:this.outputStatus(a)}}),this.readPending&&this.child.startRead(),this.pendingMessage?this.sendMessageOnChild(this.pendingMessage.context,this.pendingMessage.message):this.pendingHalfClose&&this.child.halfClose()},a=>{this.outputStatus(a)})}reportResolverError(a){var b;(null==(b=this.metadata)?void 0:b.getOptions().waitForReady)?this.channel.queueCallForConfig(this):this.outputStatus(a)}cancelWithStatus(a,b){var c;this.trace("cancelWithStatus code: "+a+' details: "'+b+'"'),null==(c=this.child)||c.cancelWithStatus(a,b),this.outputStatus({code:a,details:b,metadata:new f.Metadata})}getPeer(){var a,b;return null!=(b=null==(a=this.child)?void 0:a.getPeer())?b:this.channel.getTarget()}start(a,b){this.trace("start called"),this.metadata=a.clone(),this.listener=b,this.getConfig()}sendMessageWithContext(a,b){this.trace("write() called with message of length "+b.length),this.child?this.sendMessageOnChild(a,b):this.pendingMessage={context:a,message:b}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child&&!this.writeFilterPending?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(a){this.credentials=this.credentials.compose(a)}addStatusWatcher(a){this.statusWatchers.push(a)}getCallNumber(){return this.callNumber}}c.ResolvingCall=j},58249,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.RetryingCall=c.MessageBufferTracker=c.RetryThrottler=void 0;let d=a.r(41335),e=a.r(60803),f=a.r(77497),g="retrying_call";class h{constructor(a,b,c){this.maxTokens=a,this.tokenRatio=b,c?this.tokens=c.tokens*(a/c.maxTokens):this.tokens=a}addCallSucceeded(){this.tokens=Math.max(this.tokens+this.tokenRatio,this.maxTokens)}addCallFailed(){this.tokens=Math.min(this.tokens-1,0)}canRetryCall(){return this.tokens>this.maxTokens/2}}c.RetryThrottler=h;class i{constructor(a,b){this.totalLimit=a,this.limitPerCall=b,this.totalAllocated=0,this.allocatedPerCall=new Map}allocate(a,b){var c;let d=null!=(c=this.allocatedPerCall.get(b))?c:0;return!(this.limitPerCall-d<a)&&!(this.totalLimit-this.totalAllocated<a)&&(this.allocatedPerCall.set(b,d+a),this.totalAllocated+=a,!0)}free(a,b){var c;if(this.totalAllocated<a)throw Error(`Invalid buffer allocation state: call ${b} freed ${a} > total allocated ${this.totalAllocated}`);this.totalAllocated-=a;let d=null!=(c=this.allocatedPerCall.get(b))?c:0;if(d<a)throw Error(`Invalid buffer allocation state: call ${b} freed ${a} > allocated for call ${d}`);this.allocatedPerCall.set(b,d-a)}freeAll(a){var b;let c=null!=(b=this.allocatedPerCall.get(a))?b:0;if(this.totalAllocated<c)throw Error(`Invalid buffer allocation state: call ${a} allocated ${c} > total allocated ${this.totalAllocated}`);this.totalAllocated-=c,this.allocatedPerCall.delete(a)}}c.MessageBufferTracker=i;let j="grpc-previous-rpc-attempts";class k{constructor(a,b,c,d,e,f,g,h,i){if(this.channel=a,this.callConfig=b,this.methodName=c,this.host=d,this.credentials=e,this.deadline=f,this.callNumber=g,this.bufferTracker=h,this.retryThrottler=i,this.listener=null,this.initialMetadata=null,this.underlyingCalls=[],this.writeBuffer=[],this.writeBufferOffset=0,this.readStarted=!1,this.transparentRetryUsed=!1,this.attempts=0,this.hedgingTimer=null,this.committedCallIndex=null,this.initialRetryBackoffSec=0,this.nextRetryBackoffSec=0,b.methodConfig.retryPolicy){this.state="RETRY";const a=b.methodConfig.retryPolicy;this.nextRetryBackoffSec=this.initialRetryBackoffSec=Number(a.initialBackoff.substring(0,a.initialBackoff.length-1))}else b.methodConfig.hedgingPolicy?this.state="HEDGING":this.state="TRANSPARENT_ONLY"}getCallNumber(){return this.callNumber}trace(a){f.trace(d.LogVerbosity.DEBUG,g,"["+this.callNumber+"] "+a)}reportStatus(a){this.trace("ended with status: code="+a.code+' details="'+a.details+'"'),this.bufferTracker.freeAll(this.callNumber),this.writeBufferOffset=this.writeBufferOffset+this.writeBuffer.length,this.writeBuffer=[],process.nextTick(()=>{var b;null==(b=this.listener)||b.onReceiveStatus({code:a.code,details:a.details,metadata:a.metadata})})}cancelWithStatus(a,b){for(let{call:c}of(this.trace("cancelWithStatus code: "+a+' details: "'+b+'"'),this.reportStatus({code:a,details:b,metadata:new e.Metadata}),this.underlyingCalls))c.cancelWithStatus(a,b)}getPeer(){return null!==this.committedCallIndex?this.underlyingCalls[this.committedCallIndex].call.getPeer():"unknown"}getBufferEntry(a){var b;return null!=(b=this.writeBuffer[a-this.writeBufferOffset])?b:{entryType:"FREED",allocated:!1}}getNextBufferIndex(){return this.writeBufferOffset+this.writeBuffer.length}clearSentMessages(){if("COMMITTED"!==this.state)return;let a=this.underlyingCalls[this.committedCallIndex].nextMessageToSend;for(let b=this.writeBufferOffset;b<a;b++){let a=this.getBufferEntry(b);a.allocated&&this.bufferTracker.free(a.message.message.length,this.callNumber)}this.writeBuffer=this.writeBuffer.slice(a-this.writeBufferOffset),this.writeBufferOffset=a}commitCall(a){if("COMMITTED"!==this.state&&"COMPLETED"!==this.underlyingCalls[a].state){this.trace("Committing call ["+this.underlyingCalls[a].call.getCallNumber()+"] at index "+a),this.state="COMMITTED",this.committedCallIndex=a;for(let b=0;b<this.underlyingCalls.length;b++)b!==a&&"COMPLETED"!==this.underlyingCalls[b].state&&(this.underlyingCalls[b].state="COMPLETED",this.underlyingCalls[b].call.cancelWithStatus(d.Status.CANCELLED,"Discarded in favor of other hedged attempt"));this.clearSentMessages()}}commitCallWithMostMessages(){if("COMMITTED"===this.state)return;let a=-1,b=-1;for(let[c,d]of this.underlyingCalls.entries())"ACTIVE"===d.state&&d.nextMessageToSend>a&&(a=d.nextMessageToSend,b=c);-1===b?this.state="TRANSPARENT_ONLY":this.commitCall(b)}isStatusCodeInList(a,b){return a.some(a=>a===b||a.toString().toLowerCase()===d.Status[b].toLowerCase())}getNextRetryBackoffMs(){var a;let b=null==(a=this.callConfig)?void 0:a.methodConfig.retryPolicy;if(!b)return 0;let c=Math.random()*this.nextRetryBackoffSec*1e3,d=Number(b.maxBackoff.substring(0,b.maxBackoff.length-1));return this.nextRetryBackoffSec=Math.min(this.nextRetryBackoffSec*b.backoffMultiplier,d),c}maybeRetryCall(a,b){let c;if("RETRY"!==this.state)return void b(!1);let d=this.callConfig.methodConfig.retryPolicy;if(this.attempts>=Math.min(d.maxAttempts,5))return void b(!1);if(null===a)c=this.getNextRetryBackoffMs();else if(a<0){this.state="TRANSPARENT_ONLY",b(!1);return}else c=a,this.nextRetryBackoffSec=this.initialRetryBackoffSec;setTimeout(()=>{var a,c;"RETRY"!==this.state?b(!1):(null==(c=null==(a=this.retryThrottler)?void 0:a.canRetryCall())||c)&&(b(!0),this.attempts+=1,this.startNewAttempt())},c)}countActiveCalls(){let a=0;for(let b of this.underlyingCalls)(null==b?void 0:b.state)==="ACTIVE"&&(a+=1);return a}handleProcessedStatus(a,b,c){var d,e,f;switch(this.state){case"COMMITTED":case"TRANSPARENT_ONLY":this.commitCall(b),this.reportStatus(a);break;case"HEDGING":if(this.isStatusCodeInList(null!=(d=this.callConfig.methodConfig.hedgingPolicy.nonFatalStatusCodes)?d:[],a.code)){let d;if(null==(e=this.retryThrottler)||e.addCallFailed(),null===c)d=0;else if(c<0){this.state="TRANSPARENT_ONLY",this.commitCall(b),this.reportStatus(a);return}else d=c;setTimeout(()=>{this.maybeStartHedgingAttempt(),0===this.countActiveCalls()&&(this.commitCall(b),this.reportStatus(a))},d)}else this.commitCall(b),this.reportStatus(a);break;case"RETRY":this.isStatusCodeInList(this.callConfig.methodConfig.retryPolicy.retryableStatusCodes,a.code)?(null==(f=this.retryThrottler)||f.addCallFailed(),this.maybeRetryCall(c,c=>{c||(this.commitCall(b),this.reportStatus(a))})):(this.commitCall(b),this.reportStatus(a))}}getPushback(a){let b=a.get("grpc-retry-pushback-ms");if(0===b.length)return null;try{return parseInt(b[0])}catch(a){return -1}}handleChildStatus(a,b){var c;if("COMPLETED"===this.underlyingCalls[b].state)return;if(this.trace("state="+this.state+" handling status with progress "+a.progress+" from child ["+this.underlyingCalls[b].call.getCallNumber()+"] in state "+this.underlyingCalls[b].state),this.underlyingCalls[b].state="COMPLETED",a.code===d.Status.OK){null==(c=this.retryThrottler)||c.addCallSucceeded(),this.commitCall(b),this.reportStatus(a);return}if("COMMITTED"===this.state)return void this.reportStatus(a);let e=this.getPushback(a.metadata);switch(a.progress){case"NOT_STARTED":this.startNewAttempt();break;case"REFUSED":this.transparentRetryUsed?this.handleProcessedStatus(a,b,e):(this.transparentRetryUsed=!0,this.startNewAttempt());break;case"DROP":this.commitCall(b),this.reportStatus(a);break;case"PROCESSED":this.handleProcessedStatus(a,b,e)}}maybeStartHedgingAttempt(){if("HEDGING"!==this.state||!this.callConfig.methodConfig.hedgingPolicy)return;let a=this.callConfig.methodConfig.hedgingPolicy;this.attempts>=Math.min(a.maxAttempts,5)||(this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer())}maybeStartHedgingTimer(){var a,b,c;if(this.hedgingTimer&&clearTimeout(this.hedgingTimer),"HEDGING"!==this.state||!this.callConfig.methodConfig.hedgingPolicy)return;let d=this.callConfig.methodConfig.hedgingPolicy;if(this.attempts>=Math.min(d.maxAttempts,5))return;let e=null!=(a=d.hedgingDelay)?a:"0s",f=Number(e.substring(0,e.length-1));this.hedgingTimer=setTimeout(()=>{this.maybeStartHedgingAttempt()},1e3*f),null==(c=(b=this.hedgingTimer).unref)||c.call(b)}startNewAttempt(){let a=this.channel.createLoadBalancingCall(this.callConfig,this.methodName,this.host,this.credentials,this.deadline);this.trace("Created child call ["+a.getCallNumber()+"] for attempt "+this.attempts);let b=this.underlyingCalls.length;this.underlyingCalls.push({state:"ACTIVE",call:a,nextMessageToSend:0});let c=this.attempts-1,d=this.initialMetadata.clone();c>0&&d.set(j,`${c}`);let e=!1;a.start(d,{onReceiveMetadata:d=>{this.trace("Received metadata from child ["+a.getCallNumber()+"]"),this.commitCall(b),e=!0,c>0&&d.set(j,`${c}`),"ACTIVE"===this.underlyingCalls[b].state&&this.listener.onReceiveMetadata(d)},onReceiveMessage:c=>{this.trace("Received message from child ["+a.getCallNumber()+"]"),this.commitCall(b),"ACTIVE"===this.underlyingCalls[b].state&&this.listener.onReceiveMessage(c)},onReceiveStatus:d=>{this.trace("Received status from child ["+a.getCallNumber()+"]"),!e&&c>0&&d.metadata.set(j,`${c}`),this.handleChildStatus(d,b)}}),this.sendNextChildMessage(b),this.readStarted&&a.startRead()}start(a,b){this.trace("start called"),this.listener=b,this.initialMetadata=a,this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer()}handleChildWriteCompleted(a){var b,c;let d=this.underlyingCalls[a],e=d.nextMessageToSend;null==(c=(b=this.getBufferEntry(e)).callback)||c.call(b),this.clearSentMessages(),d.nextMessageToSend+=1,this.sendNextChildMessage(a)}sendNextChildMessage(a){let b=this.underlyingCalls[a];if("COMPLETED"!==b.state&&this.getBufferEntry(b.nextMessageToSend)){let c=this.getBufferEntry(b.nextMessageToSend);switch(c.entryType){case"MESSAGE":b.call.sendMessageWithContext({callback:b=>{this.handleChildWriteCompleted(a)}},c.message.message);break;case"HALF_CLOSE":b.nextMessageToSend+=1,b.call.halfClose()}}}sendMessageWithContext(a,b){var c;this.trace("write() called with message of length "+b.length);let d={message:b,flags:a.flags},e=this.getNextBufferIndex(),f={entryType:"MESSAGE",message:d,allocated:this.bufferTracker.allocate(b.length,this.callNumber)};if(this.writeBuffer.push(f),f.allocated)for(let[d,f]of(null==(c=a.callback)||c.call(a),this.underlyingCalls.entries()))"ACTIVE"===f.state&&f.nextMessageToSend===e&&f.call.sendMessageWithContext({callback:a=>{this.handleChildWriteCompleted(d)}},b);else{if(this.commitCallWithMostMessages(),null===this.committedCallIndex)return;let c=this.underlyingCalls[this.committedCallIndex];f.callback=a.callback,"ACTIVE"===c.state&&c.nextMessageToSend===e&&c.call.sendMessageWithContext({callback:a=>{this.handleChildWriteCompleted(this.committedCallIndex)}},b)}}startRead(){for(let a of(this.trace("startRead called"),this.readStarted=!0,this.underlyingCalls))(null==a?void 0:a.state)==="ACTIVE"&&a.call.startRead()}halfClose(){this.trace("halfClose called");let a=this.getNextBufferIndex();for(let b of(this.writeBuffer.push({entryType:"HALF_CLOSE",allocated:!1}),this.underlyingCalls))(null==b?void 0:b.state)==="ACTIVE"&&b.nextMessageToSend===a&&(b.nextMessageToSend+=1,b.call.halfClose())}setCredentials(a){throw Error("Method not implemented.")}getMethod(){return this.methodName}getHost(){return this.host}}c.RetryingCall=k},63462,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.BaseSubchannelWrapper=void 0;class d{constructor(a){this.child=a}getConnectivityState(){return this.child.getConnectivityState()}addConnectivityStateListener(a){this.child.addConnectivityStateListener(a)}removeConnectivityStateListener(a){this.child.removeConnectivityStateListener(a)}startConnecting(){this.child.startConnecting()}getAddress(){return this.child.getAddress()}throttleKeepalive(a){this.child.throttleKeepalive(a)}ref(){this.child.ref()}unref(){this.child.unref()}getChannelzRef(){return this.child.getChannelzRef()}getRealSubchannel(){return this.child.getRealSubchannel()}realSubchannelEquals(a){return this.getRealSubchannel()===a.getRealSubchannel()}}c.BaseSubchannelWrapper=d},96557,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.InternalChannel=void 0;let d=a.r(11457),e=a.r(17431),f=a.r(77408),g=a.r(90104),h=a.r(41335),i=a.r(11965),j=a.r(188),k=a.r(88858),l=a.r(77497),m=a.r(88407),n=a.r(24223),o=a.r(3682),p=a.r(34206),q=a.r(10333),r=a.r(64966),s=a.r(93751),t=a.r(75041),u=a.r(1144),v=a.r(58249),w=a.r(63462),x=0x7fffffff,y=1e3,z=18e5,A=new Map,B=0x1000000,C=1048576;class D extends w.BaseSubchannelWrapper{constructor(a,b){super(a),this.channel=b,this.refCount=0,this.subchannelStateListener=(a,c,d,e)=>{b.throttleKeepalive(e)},a.addConnectivityStateListener(this.subchannelStateListener)}ref(){this.child.ref(),this.refCount+=1}unref(){this.child.unref(),this.refCount-=1,this.refCount<=0&&(this.child.removeConnectivityStateListener(this.subchannelStateListener),this.channel.removeWrappedSubchannel(this))}}class E{constructor(a,b,c){var q,r,s,t,w,E,F,G;if(this.credentials=b,this.options=c,this.connectivityState=o.ConnectivityState.IDLE,this.currentPicker=new g.UnavailablePicker,this.configSelectionQueue=[],this.pickQueue=[],this.connectivityStateWatchers=[],this.configSelector=null,this.currentResolutionError=null,this.wrappedSubchannels=new Set,this.callCount=0,this.idleTimer=null,this.channelzEnabled=!0,this.callTracker=new p.ChannelzCallTracker,this.childrenTracker=new p.ChannelzChildrenTracker,"string"!=typeof a)throw TypeError("Channel target must be a string");if(!(b instanceof d.ChannelCredentials))throw TypeError("Channel credentials must be a ChannelCredentials object");if(c&&"object"!=typeof c)throw TypeError("Channel options must be an object");this.originalTarget=a;const H=(0,n.parseUri)(a);if(null===H)throw Error(`Could not parse target name "${a}"`);const I=(0,k.mapUriDefaultScheme)(H);if(null===I)throw Error(`Could not find a default scheme for target name "${a}"`);this.callRefTimer=setInterval(()=>{},x),null==(r=(q=this.callRefTimer).unref)||r.call(q),0===this.options["grpc.enable_channelz"]&&(this.channelzEnabled=!1),this.channelzTrace=new p.ChannelzTrace,this.channelzRef=(0,p.registerChannelzChannel)(a,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Channel created"),this.options["grpc.default_authority"]?this.defaultAuthority=this.options["grpc.default_authority"]:this.defaultAuthority=(0,k.getDefaultAuthority)(I);const J=(0,m.mapProxyName)(I,c);this.target=J.target,this.options=Object.assign({},this.options,J.extraOptions),this.subchannelPool=(0,f.getSubchannelPool)((null!=(s=c["grpc.use_local_subchannel_pool"])?s:0)===0),this.retryBufferTracker=new v.MessageBufferTracker(null!=(t=c["grpc.retry_buffer_size"])?t:B,null!=(w=c["grpc.per_rpc_retry_buffer_size"])?w:C),this.keepaliveTime=null!=(E=c["grpc.keepalive_time_ms"])?E:-1,this.idleTimeoutMs=Math.max(null!=(F=c["grpc.client_idle_timeout_ms"])?F:z,y);const K={createSubchannel:(a,b)=>{let c=this.subchannelPool.getOrCreateSubchannel(this.target,a,Object.assign({},this.options,b),this.credentials);c.throttleKeepalive(this.keepaliveTime),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Created subchannel or used existing subchannel",c.getChannelzRef());let d=new D(c,this);return this.wrappedSubchannels.add(d),d},updateState:(a,b)=>{this.currentPicker=b;let c=this.pickQueue.slice();for(let a of(this.pickQueue=[],c.length>0&&this.callRefTimerUnref(),c))a.doPick();this.updateState(a)},requestReresolution:()=>{throw Error("Resolving load balancer should never call requestReresolution")},addChannelzChild:a=>{this.channelzEnabled&&this.childrenTracker.refChild(a)},removeChannelzChild:a=>{this.channelzEnabled&&this.childrenTracker.unrefChild(a)}};this.resolvingLoadBalancer=new e.ResolvingLoadBalancer(this.target,K,c,(a,b)=>{a.retryThrottling?A.set(this.getTarget(),new v.RetryThrottler(a.retryThrottling.maxTokens,a.retryThrottling.tokenRatio,A.get(this.getTarget()))):A.delete(this.getTarget()),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Address resolution succeeded"),this.configSelector=b,this.currentResolutionError=null,process.nextTick(()=>{let a=this.configSelectionQueue;for(let b of(this.configSelectionQueue=[],a.length>0&&this.callRefTimerUnref(),a))b.getConfig()})},a=>{this.channelzEnabled&&this.channelzTrace.addTrace("CT_WARNING","Address resolution failed with code "+a.code+' and details "'+a.details+'"'),this.configSelectionQueue.length>0&&this.trace("Name resolution failed with calls queued for config selection"),null===this.configSelector&&(this.currentResolutionError=Object.assign(Object.assign({},(0,u.restrictControlPlaneStatusCode)(a.code,a.details)),{metadata:a.metadata}));let b=this.configSelectionQueue;for(let c of(this.configSelectionQueue=[],b.length>0&&this.callRefTimerUnref(),b))c.reportResolverError(a)}),this.filterStackFactory=new i.FilterStackFactory([new j.CompressionFilterFactory(this,this.options)]),this.trace("Channel constructed with options "+JSON.stringify(c,void 0,2));const L=Error();(0,l.trace)(h.LogVerbosity.DEBUG,"channel_stacktrace","("+this.channelzRef.id+") Channel constructed \n"+(null==(G=L.stack)?void 0:G.substring(L.stack.indexOf("\n")+1))),this.lastActivityTimestamp=new Date}getChannelzInfo(){return{target:this.originalTarget,state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists()}}trace(a,b){(0,l.trace)(null!=b?b:h.LogVerbosity.DEBUG,"channel","("+this.channelzRef.id+") "+(0,n.uriToString)(this.target)+" "+a)}callRefTimerRef(){var a,b,c,d;(null==(b=(a=this.callRefTimer).hasRef)?void 0:b.call(a))||(this.trace("callRefTimer.ref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),null==(d=(c=this.callRefTimer).ref)||d.call(c))}callRefTimerUnref(){var a,b;(!this.callRefTimer.hasRef||this.callRefTimer.hasRef())&&(this.trace("callRefTimer.unref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),null==(b=(a=this.callRefTimer).unref)||b.call(a))}removeConnectivityStateWatcher(a){let b=this.connectivityStateWatchers.findIndex(b=>b===a);b>=0&&this.connectivityStateWatchers.splice(b,1)}updateState(a){for(let b of((0,l.trace)(h.LogVerbosity.DEBUG,"connectivity_state","("+this.channelzRef.id+") "+(0,n.uriToString)(this.target)+" "+o.ConnectivityState[this.connectivityState]+" -> "+o.ConnectivityState[a]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+o.ConnectivityState[a]),this.connectivityState=a,this.connectivityStateWatchers.slice()))a!==b.currentState&&(b.timer&&clearTimeout(b.timer),this.removeConnectivityStateWatcher(b),b.callback());a!==o.ConnectivityState.TRANSIENT_FAILURE&&(this.currentResolutionError=null)}throttleKeepalive(a){if(a>this.keepaliveTime)for(let b of(this.keepaliveTime=a,this.wrappedSubchannels))b.throttleKeepalive(a)}removeWrappedSubchannel(a){this.wrappedSubchannels.delete(a)}doPick(a,b){return this.currentPicker.pick({metadata:a,extraPickInfo:b})}queueCallForPick(a){this.pickQueue.push(a),this.callRefTimerRef()}getConfig(a,b){return(this.resolvingLoadBalancer.exitIdle(),this.configSelector)?{type:"SUCCESS",config:this.configSelector(a,b)}:this.currentResolutionError?{type:"ERROR",error:this.currentResolutionError}:{type:"NONE"}}queueCallForConfig(a){this.configSelectionQueue.push(a),this.callRefTimerRef()}enterIdle(){this.resolvingLoadBalancer.destroy(),this.updateState(o.ConnectivityState.IDLE),this.currentPicker=new g.QueuePicker(this.resolvingLoadBalancer),this.idleTimer&&(clearTimeout(this.idleTimer),this.idleTimer=null)}startIdleTimeout(a){var b,c;this.idleTimer=setTimeout(()=>{if(this.callCount>0)return void this.startIdleTimeout(this.idleTimeoutMs);let a=new Date().valueOf()-this.lastActivityTimestamp.valueOf();a>=this.idleTimeoutMs?(this.trace("Idle timer triggered after "+this.idleTimeoutMs+"ms of inactivity"),this.enterIdle()):this.startIdleTimeout(this.idleTimeoutMs-a)},a),null==(c=(b=this.idleTimer).unref)||c.call(b)}maybeStartIdleTimer(){this.connectivityState===o.ConnectivityState.SHUTDOWN||this.idleTimer||this.startIdleTimeout(this.idleTimeoutMs)}onCallStart(){this.channelzEnabled&&this.callTracker.addCallStarted(),this.callCount+=1}onCallEnd(a){this.channelzEnabled&&(a.code===h.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()),this.callCount-=1,this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()}createLoadBalancingCall(a,b,c,d,e){let f=(0,t.getNextCallNumber)();return this.trace("createLoadBalancingCall ["+f+'] method="'+b+'"'),new q.LoadBalancingCall(this,a,b,c,d,e,f)}createRetryingCall(a,b,c,d,e){let f=(0,t.getNextCallNumber)();return this.trace("createRetryingCall ["+f+'] method="'+b+'"'),new v.RetryingCall(this,a,b,c,d,e,f,this.retryBufferTracker,A.get(this.getTarget()))}createInnerCall(a,b,c,d,e){return 0===this.options["grpc.enable_retries"]?this.createLoadBalancingCall(a,b,c,d,e):this.createRetryingCall(a,b,c,d,e)}createResolvingCall(a,b,c,d,e){let f=(0,t.getNextCallNumber)();this.trace("createResolvingCall ["+f+'] method="'+a+'", deadline='+(0,r.deadlineToString)(b));let g={deadline:b,flags:null!=e?e:h.Propagate.DEFAULTS,host:null!=c?c:this.defaultAuthority,parentCall:d},i=new s.ResolvingCall(this,a,g,this.filterStackFactory.clone(),this.credentials._getCallCredentials(),f);return this.onCallStart(),i.addStatusWatcher(a=>{this.onCallEnd(a)}),i}close(){this.resolvingLoadBalancer.destroy(),this.updateState(o.ConnectivityState.SHUTDOWN),clearInterval(this.callRefTimer),this.idleTimer&&clearTimeout(this.idleTimer),this.channelzEnabled&&(0,p.unregisterChannelzRef)(this.channelzRef),this.subchannelPool.unrefUnusedSubchannels()}getTarget(){return(0,n.uriToString)(this.target)}getConnectivityState(a){let b=this.connectivityState;return a&&(this.resolvingLoadBalancer.exitIdle(),this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()),b}watchConnectivityState(a,b,c){if(this.connectivityState===o.ConnectivityState.SHUTDOWN)throw Error("Channel has been shut down");let d=null;if(b!==1/0){let a=b instanceof Date?b:new Date(b),f=new Date;if(b===-1/0||a<=f)return void process.nextTick(c,Error("Deadline passed without connectivity state change"));d=setTimeout(()=>{this.removeConnectivityStateWatcher(e),c(Error("Deadline passed without connectivity state change"))},a.getTime()-f.getTime())}let e={currentState:a,callback:c,timer:d};this.connectivityStateWatchers.push(e)}getChannelzRef(){return this.channelzRef}createCall(a,b,c,d,e){if("string"!=typeof a)throw TypeError("Channel#createCall: method must be a string");if(!("number"==typeof b||b instanceof Date))throw TypeError("Channel#createCall: deadline must be a number or Date");if(this.connectivityState===o.ConnectivityState.SHUTDOWN)throw Error("Channel has been shut down");return this.createResolvingCall(a,b,c,d,e)}}c.InternalChannel=E},78096,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ChannelImplementation=void 0;let d=a.r(11457),e=a.r(96557);class f{constructor(a,b,c){if("string"!=typeof a)throw TypeError("Channel target must be a string");if(!(b instanceof d.ChannelCredentials))throw TypeError("Channel credentials must be a ChannelCredentials object");if(c&&"object"!=typeof c)throw TypeError("Channel options must be an object");this.internalChannel=new e.InternalChannel(a,b,c)}close(){this.internalChannel.close()}getTarget(){return this.internalChannel.getTarget()}getConnectivityState(a){return this.internalChannel.getConnectivityState(a)}watchConnectivityState(a,b,c){this.internalChannel.watchConnectivityState(a,b,c)}getChannelzRef(){return this.internalChannel.getChannelzRef()}createCall(a,b,c,d,e){if("string"!=typeof a)throw TypeError("Channel#createCall: method must be a string");if(!("number"==typeof b||b instanceof Date))throw TypeError("Channel#createCall: deadline must be a number or Date");return this.internalChannel.createCall(a,b,c,d,e)}}c.ChannelImplementation=f},33087,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.Http2ServerCallStream=c.ServerDuplexStreamImpl=c.ServerWritableStreamImpl=c.ServerReadableStreamImpl=c.ServerUnaryCallImpl=void 0;let d=a.r(27699),e=a.r(25328),f=a.r(88947),g=a.r(6461),h=a.r(41335),i=a.r(60803),j=a.r(87841),k=a.r(77497),l=a.r(77474),m="server_call";function n(a){k.trace(h.LogVerbosity.DEBUG,m,a)}let o="grpc-message",p="grpc-status",q="grpc-timeout",r=/(\d{1,8})\s*([HMSmun])/,s={H:36e5,M:6e4,S:1e3,m:1,u:.001,n:1e-6},t={"grpc-accept-encoding":"identity,deflate,gzip","grpc-encoding":"identity"},u={[e.constants.HTTP2_HEADER_STATUS]:e.constants.HTTP_STATUS_OK,[e.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},v={waitForTrailers:!0};class w extends d.EventEmitter{constructor(a,b,c){super(),this.call=a,this.metadata=b,this.request=c,this.cancelled=!1,this.call.setupSurfaceCall(this)}getPeer(){return this.call.getPeer()}sendMetadata(a){this.call.sendMetadata(a)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}}c.ServerUnaryCallImpl=w;class x extends f.Readable{constructor(a,b,c,d){super({objectMode:!0}),this.call=a,this.metadata=b,this.deserialize=c,this.cancelled=!1,this.call.setupSurfaceCall(this),this.call.setupReadable(this,d)}_read(a){this.call.consumeUnpushedMessages(this)&&this.call.resume()}getPeer(){return this.call.getPeer()}sendMetadata(a){this.call.sendMetadata(a)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}}c.ServerReadableStreamImpl=x;class y extends f.Writable{constructor(a,b,c,d){super({objectMode:!0}),this.call=a,this.metadata=b,this.serialize=c,this.request=d,this.cancelled=!1,this.trailingMetadata=new i.Metadata,this.call.setupSurfaceCall(this),this.on("error",a=>{this.call.sendError(a),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(a){this.call.sendMetadata(a)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}_write(a,b,c){try{let b=this.call.serializeMessage(a);if(!this.call.write(b))return void this.call.once("drain",c)}catch(a){this.emit("error",{details:(0,l.getErrorMessage)(a),code:h.Status.INTERNAL})}c()}_final(a){this.call.sendStatus({code:h.Status.OK,details:"OK",metadata:this.trailingMetadata}),a(null)}end(a){return a&&(this.trailingMetadata=a),super.end()}}c.ServerWritableStreamImpl=y;class z extends f.Duplex{constructor(a,b,c,d,e){super({objectMode:!0}),this.call=a,this.metadata=b,this.serialize=c,this.deserialize=d,this.cancelled=!1,this.trailingMetadata=new i.Metadata,this.call.setupSurfaceCall(this),this.call.setupReadable(this,e),this.on("error",a=>{this.call.sendError(a),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(a){this.call.sendMetadata(a)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}end(a){return a&&(this.trailingMetadata=a),super.end()}}c.ServerDuplexStreamImpl=z,z.prototype._read=x.prototype._read,z.prototype._write=y.prototype._write,z.prototype._final=y.prototype._final;class A extends d.EventEmitter{constructor(a,b,c){super(),this.stream=a,this.handler=b,this.cancelled=!1,this.deadlineTimer=null,this.statusSent=!1,this.deadline=1/0,this.wantTrailers=!1,this.metadataSent=!1,this.canPush=!1,this.isPushPending=!1,this.bufferedMessages=[],this.messagesToPush=[],this.maxSendMessageSize=h.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=h.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.stream.once("error",a=>{}),this.stream.once("close",()=>{var a;n("Request to method "+(null==(a=this.handler)?void 0:a.path)+" stream closed with rstCode "+this.stream.rstCode),!this.statusSent&&(this.cancelled=!0,this.emit("cancelled","cancelled"),this.emit("streamEnd",!1),this.sendStatus({code:h.Status.CANCELLED,details:"Cancelled by client",metadata:null}),this.deadlineTimer&&clearTimeout(this.deadlineTimer))}),this.stream.on("drain",()=>{this.emit("drain")}),"grpc.max_send_message_length"in c&&(this.maxSendMessageSize=c["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in c&&(this.maxReceiveMessageSize=c["grpc.max_receive_message_length"])}checkCancelled(){return(this.stream.destroyed||this.stream.closed)&&(this.cancelled=!0),this.cancelled}getDecompressedMessage(a,b){let c=a.subarray(5);if("identity"===b)return c;if("deflate"!==b&&"gzip"!==b)return Promise.reject({code:h.Status.UNIMPLEMENTED,details:`Received message compressed with unsupported encoding "${b}"`});{let a;return a="deflate"===b?g.createInflate():g.createGunzip(),new Promise((b,d)=>{let e=0,f=[];a.on("data",b=>{f.push(b),e+=b.byteLength,-1!==this.maxReceiveMessageSize&&e>this.maxReceiveMessageSize&&(a.destroy(),d({code:h.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxReceiveMessageSize}`}))}),a.on("end",()=>{b(Buffer.concat(f))}),a.write(c),a.end()})}}sendMetadata(a){if(this.checkCancelled()||this.metadataSent)return;this.metadataSent=!0;let b=a?a.toHttp2Headers():null,c=Object.assign(Object.assign(Object.assign({},u),t),b);this.stream.respond(c,v)}receiveMetadata(a){let b=i.Metadata.fromHttp2Headers(a);k.isTracerEnabled(m)&&n("Request to "+this.handler.path+" received headers "+JSON.stringify(b.toJSON()));let c=b.get(q);if(c.length>0){let a=c[0].toString().match(r);if(null===a){let a=Error("Invalid deadline");return a.code=h.Status.OUT_OF_RANGE,this.sendError(a),b}let d=a[1]*s[a[2]]|0,e=new Date;this.deadline=e.setMilliseconds(e.getMilliseconds()+d),this.deadlineTimer=setTimeout(B,d,this),b.remove(q)}return b.remove(e.constants.HTTP2_HEADER_ACCEPT_ENCODING),b.remove(e.constants.HTTP2_HEADER_TE),b.remove(e.constants.HTTP2_HEADER_CONTENT_TYPE),b.remove("grpc-accept-encoding"),b}receiveUnaryMessage(a){return new Promise((b,c)=>{let{stream:d}=this,e=0,f=this,g=[],i=this.maxReceiveMessageSize;function j(a){if(e+=a.byteLength,-1!==i&&e>i){d.removeListener("data",j),d.removeListener("end",k),d.removeListener("error",k),c({code:h.Status.RESOURCE_EXHAUSTED,details:`Received message larger than max (${e} vs. ${i})`});return}g.push(a)}function k(i){if(d.removeListener("data",j),d.removeListener("end",k),d.removeListener("error",k),void 0!==i)return void c({code:h.Status.INTERNAL,details:i.message});if(0===e)return void c({code:h.Status.INTERNAL,details:"received empty unary message"});f.emit("receiveMessage");let l=Buffer.concat(g,e),m=1===l.readUInt8(0)?a:"identity",n=f.getDecompressedMessage(l,m);Buffer.isBuffer(n)?b(f.deserializeMessageWithInternalError(n)):n.then(a=>b(f.deserializeMessageWithInternalError(a)),b=>c(b.code?b:{code:h.Status.INTERNAL,details:`Received "grpc-encoding" header "${a}" but ${a} decompression failed`}))}this.stream.on("data",j),this.stream.on("end",k),this.stream.on("error",k)})}async deserializeMessageWithInternalError(a){try{return this.deserializeMessage(a)}catch(a){throw{details:(0,l.getErrorMessage)(a),code:h.Status.INTERNAL}}}serializeMessage(a){let b=this.handler.serialize(a),c=b.byteLength,d=Buffer.allocUnsafe(c+5);return d.writeUInt8(0,0),d.writeUInt32BE(c,1),b.copy(d,5),d}deserializeMessage(a){return this.handler.deserialize(a)}async sendUnaryMessage(a,b,c,d){if(!this.checkCancelled()){if(void 0===c&&(c=null),a){!Object.prototype.hasOwnProperty.call(a,"metadata")&&c&&(a.metadata=c),this.sendError(a);return}try{let a=this.serializeMessage(b);this.write(a),this.sendStatus({code:h.Status.OK,details:"OK",metadata:c})}catch(a){this.sendError({details:(0,l.getErrorMessage)(a),code:h.Status.INTERNAL})}}}sendStatus(a){var b,c;if(this.emit("callEnd",a.code),this.emit("streamEnd",a.code===h.Status.OK),!this.checkCancelled())if(n("Request to method "+(null==(b=this.handler)?void 0:b.path)+" ended with status code: "+h.Status[a.code]+" details: "+a.details),this.deadlineTimer&&clearTimeout(this.deadlineTimer),this.stream.headersSent)this.wantTrailers||(this.wantTrailers=!0,this.stream.once("wantTrailers",()=>{var b;let c=Object.assign({[p]:a.code,[o]:encodeURI(a.details)},null==(b=a.metadata)?void 0:b.toHttp2Headers());this.stream.sendTrailers(c),this.statusSent=!0}),this.stream.end());else{let b=Object.assign(Object.assign({[p]:a.code,[o]:encodeURI(a.details)},u),null==(c=a.metadata)?void 0:c.toHttp2Headers());this.stream.respond(b,{endStream:!0}),this.statusSent=!0}}sendError(a){let b={code:h.Status.UNKNOWN,details:"message"in a?a.message:"Unknown Error",metadata:"metadata"in a&&void 0!==a.metadata?a.metadata:null};"code"in a&&"number"==typeof a.code&&Number.isInteger(a.code)&&(b.code=a.code,"details"in a&&"string"==typeof a.details&&(b.details=a.details)),this.sendStatus(b)}write(a){if(!this.checkCancelled())return -1!==this.maxSendMessageSize&&a.length>this.maxSendMessageSize?void this.sendError({code:h.Status.RESOURCE_EXHAUSTED,details:`Sent message larger than max (${a.length} vs. ${this.maxSendMessageSize})`}):(this.sendMetadata(),this.emit("sendMessage"),this.stream.write(a))}resume(){this.stream.resume()}setupSurfaceCall(a){this.once("cancelled",b=>{a.cancelled=!0,a.emit("cancelled",b)}),this.once("callEnd",b=>a.emit("callEnd",b))}setupReadable(a,b){let c=new j.StreamDecoder(this.maxReceiveMessageSize),d=!1,e=!1,f=!1,g=async()=>{f||!d||e||(f=!0,await this.pushOrBufferMessage(a,null))};this.stream.on("data",async d=>{let f;try{f=c.write(d)}catch(a){this.sendError({code:h.Status.RESOURCE_EXHAUSTED,details:a.message});return}for(let c of(e=!0,this.stream.pause(),f)){let d;this.emit("receiveMessage");let e=1===c.readUInt8(0)?b:"identity";try{d=await this.getDecompressedMessage(c,e)}catch(a){this.sendError(a);return}if(!d)return;await this.pushOrBufferMessage(a,d)}e=!1,this.stream.resume(),await g()}),this.stream.once("end",async()=>{d=!0,await g()})}consumeUnpushedMessages(a){for(this.canPush=!0;this.messagesToPush.length>0;){let b=this.messagesToPush.shift(),c=a.push(b);if(null===b||!1===c){this.canPush=!1;break}}return this.canPush}async pushOrBufferMessage(a,b){this.isPushPending?this.bufferedMessages.push(b):await this.pushMessage(a,b)}async pushMessage(a,b){if(null===b){n("Received end of stream"),this.canPush?a.push(null):this.messagesToPush.push(null);return}n("Received message of length "+b.length),this.isPushPending=!0;try{let c=await this.deserializeMessage(b);this.canPush?a.push(c)||(this.canPush=!1,this.stream.pause()):this.messagesToPush.push(c)}catch(c){this.bufferedMessages.length=0;let b=(0,l.getErrorCode)(c);(null===b||b<h.Status.OK||b>h.Status.UNAUTHENTICATED)&&(b=h.Status.INTERNAL),a.emit("error",{details:(0,l.getErrorMessage)(c),code:b})}this.isPushPending=!1,this.bufferedMessages.length>0&&await this.pushMessage(a,this.bufferedMessages.shift())}getPeer(){var a;let b=null==(a=this.stream.session)?void 0:a.socket;return null!=b&&b.remoteAddress?b.remotePort?`${b.remoteAddress}:${b.remotePort}`:b.remoteAddress:"unknown"}getDeadline(){return this.deadline}getPath(){return this.handler.path}}function B(a){let b=Error("Deadline exceeded");b.code=h.Status.DEADLINE_EXCEEDED,a.sendError(b),a.cancelled=!0,a.emit("cancelled","deadline")}c.Http2ServerCallStream=A},14277,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ServerCredentials=void 0;let d=a.r(53343);class e{static createInsecure(){return new f}static createSsl(a,b,c=!1){if(null!==a&&!Buffer.isBuffer(a))throw TypeError("rootCerts must be null or a Buffer");if(!Array.isArray(b))throw TypeError("keyCertPairs must be an array");if("boolean"!=typeof c)throw TypeError("checkClientCertificate must be a boolean");let e=[],f=[];for(let a=0;a<b.length;a++){let c=b[a];if(null===c||"object"!=typeof c)throw TypeError(`keyCertPair[${a}] must be an object`);if(!Buffer.isBuffer(c.private_key))throw TypeError(`keyCertPair[${a}].private_key must be a Buffer`);if(!Buffer.isBuffer(c.cert_chain))throw TypeError(`keyCertPair[${a}].cert_chain must be a Buffer`);e.push(c.cert_chain),f.push(c.private_key)}return new g({ca:a||(0,d.getDefaultRootsData)()||void 0,cert:e,key:f,requestCert:c,ciphers:d.CIPHER_SUITES})}}c.ServerCredentials=e;class f extends e{_isSecure(){return!1}_getSettings(){return null}}class g extends e{constructor(a){super(),this.options=a}_isSecure(){return!0}_getSettings(){return this.options}}},74273,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.Server=void 0;let d=a.r(25328),e=a.r(41335),f=a.r(33087),g=a.r(14277),h=a.r(88858),i=a.r(77497),j=a.r(86361),k=a.r(24223),l=a.r(34206),m=0x7fffffff,n=0x7fffffff,o=2e4,{HTTP2_HEADER_PATH:p}=d.constants,q="server";function r(){}function s(a){return{code:e.Status.UNIMPLEMENTED,details:`The server does not implement the method ${a}`}}function t(a,b){let c=s(b);switch(a){case"unary":return(a,b)=>{b(c,null)};case"clientStream":return(a,b)=>{b(c,null)};case"serverStream":return a=>{a.emit("error",c)};case"bidi":return a=>{a.emit("error",c)};default:throw Error(`Invalid handlerType ${a}`)}}class u{constructor(a){var b,c,d,e;this.http2ServerList=[],this.handlers=new Map,this.sessions=new Map,this.started=!1,this.shutdown=!1,this.serverAddressString="null",this.channelzEnabled=!0,this.channelzTrace=new l.ChannelzTrace,this.callTracker=new l.ChannelzCallTracker,this.listenerChildrenTracker=new l.ChannelzChildrenTracker,this.sessionChildrenTracker=new l.ChannelzChildrenTracker,this.options=null!=a?a:{},0===this.options["grpc.enable_channelz"]&&(this.channelzEnabled=!1),this.channelzRef=(0,l.registerChannelzServer)(()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Server created"),this.maxConnectionAgeMs=null!=(b=this.options["grpc.max_connection_age_ms"])?b:m,this.maxConnectionAgeGraceMs=null!=(c=this.options["grpc.max_connection_age_grace_ms"])?c:m,this.keepaliveTimeMs=null!=(d=this.options["grpc.keepalive_time_ms"])?d:n,this.keepaliveTimeoutMs=null!=(e=this.options["grpc.keepalive_timeout_ms"])?e:o,this.trace("Server constructed")}getChannelzInfo(){return{trace:this.channelzTrace,callTracker:this.callTracker,listenerChildren:this.listenerChildrenTracker.getChildLists(),sessionChildren:this.sessionChildrenTracker.getChildLists()}}getChannelzSessionInfoGetter(a){return()=>{var b,c,d;let e,f=this.sessions.get(a),g=a.socket,h=g.remoteAddress?(0,j.stringToSubchannelAddress)(g.remoteAddress,g.remotePort):null,i=g.localAddress?(0,j.stringToSubchannelAddress)(g.localAddress,g.localPort):null;if(a.encrypted){let a=g,c=a.getCipher(),d=a.getCertificate(),f=a.getPeerCertificate();e={cipherSuiteStandardName:null!=(b=c.standardName)?b:null,cipherSuiteOtherName:c.standardName?null:c.name,localCertificate:d&&"raw"in d?d.raw:null,remoteCertificate:f&&"raw"in f?f.raw:null}}else e=null;return{remoteAddress:h,localAddress:i,security:e,remoteName:null,streamsStarted:f.streamTracker.callsStarted,streamsSucceeded:f.streamTracker.callsSucceeded,streamsFailed:f.streamTracker.callsFailed,messagesSent:f.messagesSent,messagesReceived:f.messagesReceived,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:f.streamTracker.lastCallStartedTimestamp,lastMessageSentTimestamp:f.lastMessageSentTimestamp,lastMessageReceivedTimestamp:f.lastMessageReceivedTimestamp,localFlowControlWindow:null!=(c=a.state.localWindowSize)?c:null,remoteFlowControlWindow:null!=(d=a.state.remoteWindowSize)?d:null}}}trace(a){i.trace(e.LogVerbosity.DEBUG,q,"("+this.channelzRef.id+") "+a)}addProtoService(){throw Error("Not implemented. Use addService() instead")}addService(a,b){if(null===a||"object"!=typeof a||null===b||"object"!=typeof b)throw Error("addService() requires two objects as arguments");let c=Object.keys(a);if(0===c.length)throw Error("Cannot add an empty service to a server");c.forEach(c=>{let d,e,f=a[c];d=f.requestStream?f.responseStream?"bidi":"clientStream":f.responseStream?"serverStream":"unary";let g=b[c];if(void 0===g&&"string"==typeof f.originalName&&(g=b[f.originalName]),e=void 0!==g?g.bind(b):t(d,c),!1===this.register(f.path,e,f.responseSerialize,f.requestDeserialize,d))throw Error(`Method handler for ${f.path} already provided.`)})}removeService(a){if(null===a||"object"!=typeof a)throw Error("removeService() requires object as argument");Object.keys(a).forEach(b=>{let c=a[b];this.unregister(c.path)})}bind(a,b){throw Error("Not implemented. Use bindAsync() instead")}bindAsync(a,b,c){if(!0===this.started)throw Error("server is already started");if(this.shutdown)throw Error("bindAsync called after shutdown");if("string"!=typeof a)throw TypeError("port must be a string");if(null===b||!(b instanceof g.ServerCredentials))throw TypeError("creds must be a ServerCredentials object");if("function"!=typeof c)throw TypeError("callback must be a function");let f=(0,k.parseUri)(a);if(null===f)throw Error(`Could not parse port "${a}"`);let m=(0,h.mapUriDefaultScheme)(f);if(null===m)throw Error(`Could not get a default scheme for port "${a}"`);let n={maxSendHeaderBlockLength:Number.MAX_SAFE_INTEGER};"grpc-node.max_session_memory"in this.options?n.maxSessionMemory=this.options["grpc-node.max_session_memory"]:n.maxSessionMemory=Number.MAX_SAFE_INTEGER,"grpc.max_concurrent_streams"in this.options&&(n.settings={maxConcurrentStreams:this.options["grpc.max_concurrent_streams"]});let o=(a,b)=>{process.nextTick(()=>c(a,b))},p=()=>{let a;if(b._isSecure()){let c=Object.assign(n,b._getSettings());c.enableTrace=1===this.options["grpc-node.tls_enable_trace"],(a=d.createSecureServer(c)).on("secureConnection",a=>{a.on("error",a=>{this.trace("An incoming TLS connection closed with error: "+a.message)})})}else a=d.createServer(n);return a.setTimeout(0,r),this._setupHandlers(a),a},q=(a,b,c)=>0===a.length?Promise.resolve({port:b,count:c}):Promise.all(a.map(a=>{let c;this.trace("Attempting to bind "+(0,j.subchannelAddressToString)(a)),c=(0,j.isTcpSubchannelAddress)(a)?{host:a.host,port:b}:a;let d=p();return new Promise((e,f)=>{let g=b=>{this.trace("Failed to bind "+(0,j.subchannelAddressToString)(a)+" with error "+b.message),e(b)};d.once("error",g),d.listen(c,()=>{let a;if(this.shutdown){d.close(),e(Error("bindAsync failed because server is shutdown"));return}let c=d.address();a="string"==typeof c?{path:c}:{host:c.address,port:c.port};let f=(0,l.registerChannelzSocket)((0,j.subchannelAddressToString)(a),()=>({localAddress:a,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled);this.channelzEnabled&&this.listenerChildrenTracker.refChild(f),this.http2ServerList.push({server:d,channelzRef:f}),this.trace("Successfully bound "+(0,j.subchannelAddressToString)(a)),e("port"in a?a.port:b),d.removeListener("error",g)})})})).then(a=>{let d=0;for(let c of a)if("number"==typeof c&&(d+=1,c!==b))throw Error("Invalid state: multiple port numbers added from single address");return{port:b,count:d+c}}),s=a=>{if(0===a.length)return Promise.resolve({port:0,count:0});let b=a[0],c=p();return new Promise((d,e)=>{let f=c=>{this.trace("Failed to bind "+(0,j.subchannelAddressToString)(b)+" with error "+c.message),d(s(a.slice(1)))};c.once("error",f),c.listen(b,()=>{if(this.shutdown){c.close(),d({port:0,count:0});return}let b=c.address(),e={host:b.address,port:b.port},g=(0,l.registerChannelzSocket)((0,j.subchannelAddressToString)(e),()=>({localAddress:e,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled);this.channelzEnabled&&this.listenerChildrenTracker.refChild(g),this.http2ServerList.push({server:c,channelzRef:g}),this.trace("Successfully bound "+(0,j.subchannelAddressToString)(e)),d(q(a.slice(1),b.port,1)),c.removeListener("error",f)})})},t={onSuccessfulResolution:(b,c,d)=>{let f;(t.onSuccessfulResolution=()=>{},this.shutdown&&o(Error("bindAsync failed because server is shutdown"),0),0===b.length)?o(Error(`No addresses resolved for port ${a}`),0):(f=(0,j.isTcpSubchannelAddress)(b[0])?0===b[0].port?s(b):q(b,b[0].port,0):q(b,1,0)).then(a=>{if(0===a.count){let a=`No address added out of total ${b.length} resolved`;i.log(e.LogVerbosity.ERROR,a),o(Error(a),0)}else a.count<b.length&&i.log(e.LogVerbosity.INFO,`WARNING Only ${a.count} addresses added out of total ${b.length} resolved`),o(null,a.port)},a=>{let c=`No address added out of total ${b.length} resolved`;i.log(e.LogVerbosity.ERROR,c),o(Error(c),0)})},onError:a=>{o(Error(a.details),0)}};(0,h.createResolver)(m,t,this.options).updateResolution()}forceShutdown(){for(let{server:a,channelzRef:b}of this.http2ServerList)a.listening&&a.close(()=>{this.channelzEnabled&&(this.listenerChildrenTracker.unrefChild(b),(0,l.unregisterChannelzRef)(b))});this.started=!1,this.shutdown=!0,this.sessions.forEach((a,b)=>{b.destroy(d.constants.NGHTTP2_CANCEL)}),this.sessions.clear(),this.channelzEnabled&&(0,l.unregisterChannelzRef)(this.channelzRef)}register(a,b,c,d,e){return!this.handlers.has(a)&&(this.handlers.set(a,{func:b,serialize:c,deserialize:d,type:e,path:a}),!0)}unregister(a){return this.handlers.delete(a)}start(){if(0===this.http2ServerList.length||this.http2ServerList.every(({server:a})=>!0!==a.listening))throw Error("server must be bound in order to start");if(!0===this.started)throw Error("server is already started");this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Starting"),this.started=!0}tryShutdown(a){let b=b=>{this.channelzEnabled&&(0,l.unregisterChannelzRef)(this.channelzRef),a(b)},c=0;function d(){0==--c&&b()}for(let{server:a,channelzRef:b}of(this.started=!1,this.shutdown=!0,this.http2ServerList))a.listening&&(c++,a.close(()=>{this.channelzEnabled&&(this.listenerChildrenTracker.unrefChild(b),(0,l.unregisterChannelzRef)(b)),d()}));this.sessions.forEach((a,b)=>{b.closed||(c+=1,b.close(d))}),0===c&&b()}addHttp2Port(){throw Error("Not yet implemented")}getChannelzRef(){return this.channelzRef}_verifyContentType(a,b){let c=b[d.constants.HTTP2_HEADER_CONTENT_TYPE];return"string"==typeof c&&!!c.startsWith("application/grpc")||(a.respond({[d.constants.HTTP2_HEADER_STATUS]:d.constants.HTTP_STATUS_UNSUPPORTED_MEDIA_TYPE},{endStream:!0}),!1)}_retrieveHandler(a){this.trace("Received call to method "+a+" at address "+this.serverAddressString);let b=this.handlers.get(a);return void 0===b?(this.trace("No handler registered for method "+a+". Sending UNIMPLEMENTED status."),null):b}_respondWithError(a,b,c=null){let d=new f.Http2ServerCallStream(b,null,this.options);void 0===a.code&&(a.code=e.Status.INTERNAL),this.channelzEnabled&&(this.callTracker.addCallFailed(),null==c||c.streamTracker.addCallFailed()),d.sendError(a)}_channelzHandler(a,b){let c=this.sessions.get(a.session);if(this.callTracker.addCallStarted(),null==c||c.streamTracker.addCallStarted(),!this._verifyContentType(a,b)){this.callTracker.addCallFailed(),null==c||c.streamTracker.addCallFailed();return}let d=b[p],g=this._retrieveHandler(d);if(!g)return void this._respondWithError(s(d),a,c);let h=new f.Http2ServerCallStream(a,g,this.options);h.once("callEnd",a=>{a===e.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()}),c&&(h.once("streamEnd",a=>{a?c.streamTracker.addCallSucceeded():c.streamTracker.addCallFailed()}),h.on("sendMessage",()=>{c.messagesSent+=1,c.lastMessageSentTimestamp=new Date}),h.on("receiveMessage",()=>{c.messagesReceived+=1,c.lastMessageReceivedTimestamp=new Date})),this._runHandlerForCall(h,g,b)||(this.callTracker.addCallFailed(),null==c||c.streamTracker.addCallFailed(),h.sendError({code:e.Status.INTERNAL,details:`Unknown handler type: ${g.type}`}))}_streamHandler(a,b){if(!0!==this._verifyContentType(a,b))return;let c=b[p],d=this._retrieveHandler(c);if(!d)return void this._respondWithError(s(c),a,null);let g=new f.Http2ServerCallStream(a,d,this.options);this._runHandlerForCall(g,d,b)||g.sendError({code:e.Status.INTERNAL,details:`Unknown handler type: ${d.type}`})}_runHandlerForCall(a,b,c){var d;let e=a.receiveMetadata(c),f=null!=(d=e.get("grpc-encoding")[0])?d:"identity";e.remove("grpc-encoding");let{type:g}=b;if("unary"===g)v(a,b,e,f);else if("clientStream"===g)w(a,b,e,f);else if("serverStream"===g)x(a,b,e,f);else{if("bidi"!==g)return!1;y(a,b,e,f)}return!0}_setupHandlers(a){if(null===a)return;let b=a.address(),c="null";b&&(c="string"==typeof b?b:b.address+":"+b.port),this.serverAddressString=c;let e=this.channelzEnabled?this._channelzHandler:this._streamHandler;a.on("stream",e.bind(this)),a.on("session",a=>{var b,c,e,f,g;if(!this.started)return void a.destroy();let h=(0,l.registerChannelzSocket)(null!=(b=a.socket.remoteAddress)?b:"unknown",this.getChannelzSessionInfoGetter(a),this.channelzEnabled),i={ref:h,streamTracker:new l.ChannelzCallTracker,messagesSent:0,messagesReceived:0,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null};this.sessions.set(a,i);let j=a.socket.remoteAddress;this.channelzEnabled&&(this.channelzTrace.addTrace("CT_INFO","Connection established by client "+j),this.sessionChildrenTracker.refChild(h));let k=null,n=null,o=!1;if(this.maxConnectionAgeMs!==m){let b=this.maxConnectionAgeMs/10,f=Math.random()*b*2-b;k=null==(e=(c=setTimeout(()=>{var b,c;o=!0,this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connection dropped by max connection age from "+j);try{a.goaway(d.constants.NGHTTP2_NO_ERROR,0x7fffffff,Buffer.from("max_age"))}catch(b){a.destroy();return}a.close(),this.maxConnectionAgeGraceMs!==m&&(n=null==(c=(b=setTimeout(()=>{a.destroy()},this.maxConnectionAgeGraceMs)).unref)?void 0:c.call(b))},this.maxConnectionAgeMs+f)).unref)?void 0:e.call(c)}let p=null==(g=(f=setInterval(()=>{var b,c;let d=null==(c=(b=setTimeout(()=>{o=!0,this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connection dropped by keepalive timeout from "+j),a.close()},this.keepaliveTimeoutMs)).unref)?void 0:c.call(b);try{a.ping((a,b,c)=>{clearTimeout(d)})}catch(b){a.destroy()}},this.keepaliveTimeMs)).unref)?void 0:g.call(f);a.on("close",()=>{this.channelzEnabled&&(o||this.channelzTrace.addTrace("CT_INFO","Connection dropped by client "+j),this.sessionChildrenTracker.unrefChild(h),(0,l.unregisterChannelzRef)(h)),k&&clearTimeout(k),n&&clearTimeout(n),p&&clearTimeout(p),this.sessions.delete(a)})})}}async function v(a,b,c,d){try{let e=await a.receiveUnaryMessage(d);if(void 0===e||a.cancelled)return;let g=new f.ServerUnaryCallImpl(a,c,e);b.func(g,(b,c,d,e)=>{a.sendUnaryMessage(b,c,d,e)})}catch(b){a.sendError(b)}}function w(a,b,c,d){let e=new f.ServerReadableStreamImpl(a,c,b.deserialize,d);function g(b,c,d,f){e.destroy(),a.sendUnaryMessage(b,c,d,f)}a.cancelled||(e.on("error",g),b.func(e,g))}async function x(a,b,c,d){try{let e=await a.receiveUnaryMessage(d);if(void 0===e||a.cancelled)return;let g=new f.ServerWritableStreamImpl(a,c,b.serialize,e);b.func(g)}catch(b){a.sendError(b)}}function y(a,b,c,d){let e=new f.ServerDuplexStreamImpl(a,c,b.serialize,b.deserialize,d);a.cancelled||b.func(e)}c.Server=u},50615,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.StatusBuilder=void 0;class d{constructor(){this.code=null,this.details=null,this.metadata=null}withCode(a){return this.code=a,this}withDetails(a){return this.details=a,this}withMetadata(a){return this.metadata=a,this}build(){let a={};return null!==this.code&&(a.code=this.code),null!==this.details&&(a.details=this.details),null!==this.metadata&&(a.metadata=this.metadata),a}}c.StatusBuilder=d},71179,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.isDuration=c.durationToMs=c.msToDuration=void 0,c.msToDuration=function(a){return{seconds:a/1e3|0,nanos:a%1e3*1e6|0}},c.durationToMs=function(a){return 1e3*a.seconds+a.nanos/1e6|0},c.isDuration=function(a){return"number"==typeof a.seconds&&"number"==typeof a.nanos}},67333,(a,b,c)=>{"use strict";var d;Object.defineProperty(c,"__esModule",{value:!0}),c.setup=c.OutlierDetectionLoadBalancer=c.OutlierDetectionLoadBalancingConfig=void 0;let e=a.r(3682),f=a.r(41335),g=a.r(71179),h=a.r(68515),i=a.r(77704),j=a.r(73164),k=a.r(90104),l=a.r(86361),m=a.r(63462),n=a.r(77497),o="outlier_detection";function p(a){n.trace(f.LogVerbosity.DEBUG,o,a)}let q="outlier_detection",r=(null!=(d=process.env.GRPC_EXPERIMENTAL_ENABLE_OUTLIER_DETECTION)?d:"true")==="true",s={stdev_factor:1900,enforcement_percentage:100,minimum_hosts:5,request_volume:100},t={threshold:85,enforcement_percentage:100,minimum_hosts:5,request_volume:50};function u(a,b,c,d){if(b in a&&typeof a[b]!==c){let e=d?`${d}.${b}`:b;throw Error(`outlier detection config ${e} parse error: expected ${c}, got ${typeof a[b]}`)}}function v(a,b,c){let d=c?`${c}.${b}`:b;if(b in a){if(!(0,g.isDuration)(a[b]))throw Error(`outlier detection config ${d} parse error: expected Duration, got ${typeof a[b]}`);if(!(a[b].seconds>=0&&a[b].seconds<=315576e6&&a[b].nanos>=0&&a[b].nanos<=0x3b9ac9ff))throw Error(`outlier detection config ${d} parse error: values out of range for non-negative Duaration`)}}function w(a,b,c){let d=c?`${c}.${b}`:b;if(u(a,b,"number",c),b in a&&!(a[b]>=0&&a[b]<=100))throw Error(`outlier detection config ${d} parse error: value out of range for percentage (0-100)`)}class x{constructor(a,b,c,d,e,f,g){if(this.childPolicy=g,g.length>0&&"pick_first"===g[0].getLoadBalancerName())throw Error("outlier_detection LB policy cannot have a pick_first child policy");this.intervalMs=null!=a?a:1e4,this.baseEjectionTimeMs=null!=b?b:3e4,this.maxEjectionTimeMs=null!=c?c:3e5,this.maxEjectionPercent=null!=d?d:10,this.successRateEjection=e?Object.assign(Object.assign({},s),e):null,this.failurePercentageEjection=f?Object.assign(Object.assign({},t),f):null}getLoadBalancerName(){return q}toJsonObject(){return{interval:(0,g.msToDuration)(this.intervalMs),base_ejection_time:(0,g.msToDuration)(this.baseEjectionTimeMs),max_ejection_time:(0,g.msToDuration)(this.maxEjectionTimeMs),max_ejection_percent:this.maxEjectionPercent,success_rate_ejection:this.successRateEjection,failure_percentage_ejection:this.failurePercentageEjection,child_policy:this.childPolicy.map(a=>a.toJsonObject())}}getIntervalMs(){return this.intervalMs}getBaseEjectionTimeMs(){return this.baseEjectionTimeMs}getMaxEjectionTimeMs(){return this.maxEjectionTimeMs}getMaxEjectionPercent(){return this.maxEjectionPercent}getSuccessRateEjectionConfig(){return this.successRateEjection}getFailurePercentageEjectionConfig(){return this.failurePercentageEjection}getChildPolicy(){return this.childPolicy}copyWithChildPolicy(a){return new x(this.intervalMs,this.baseEjectionTimeMs,this.maxEjectionTimeMs,this.maxEjectionPercent,this.successRateEjection,this.failurePercentageEjection,a)}static createFromJson(a){var b;if(v(a,"interval"),v(a,"base_ejection_time"),v(a,"max_ejection_time"),w(a,"max_ejection_percent"),"success_rate_ejection"in a){if("object"!=typeof a.success_rate_ejection)throw Error("outlier detection config success_rate_ejection must be an object");u(a.success_rate_ejection,"stdev_factor","number","success_rate_ejection"),w(a.success_rate_ejection,"enforcement_percentage","success_rate_ejection"),u(a.success_rate_ejection,"minimum_hosts","number","success_rate_ejection"),u(a.success_rate_ejection,"request_volume","number","success_rate_ejection")}if("failure_percentage_ejection"in a){if("object"!=typeof a.failure_percentage_ejection)throw Error("outlier detection config failure_percentage_ejection must be an object");w(a.failure_percentage_ejection,"threshold","failure_percentage_ejection"),w(a.failure_percentage_ejection,"enforcement_percentage","failure_percentage_ejection"),u(a.failure_percentage_ejection,"minimum_hosts","number","failure_percentage_ejection"),u(a.failure_percentage_ejection,"request_volume","number","failure_percentage_ejection")}return new x(a.interval?(0,g.durationToMs)(a.interval):null,a.base_ejection_time?(0,g.durationToMs)(a.base_ejection_time):null,a.max_ejection_time?(0,g.durationToMs)(a.max_ejection_time):null,null!=(b=a.max_ejection_percent)?b:null,a.success_rate_ejection,a.failure_percentage_ejection,a.child_policy.map(i.validateLoadBalancingConfig))}}c.OutlierDetectionLoadBalancingConfig=x;class y extends m.BaseSubchannelWrapper{constructor(a,b){super(a),this.mapEntry=b,this.stateListeners=[],this.ejected=!1,this.refCount=0,this.childSubchannelState=a.getConnectivityState(),a.addConnectivityStateListener((a,b,c,d)=>{if(this.childSubchannelState=c,!this.ejected)for(let a of this.stateListeners)a(this,b,c,d)})}getConnectivityState(){return this.ejected?e.ConnectivityState.TRANSIENT_FAILURE:this.childSubchannelState}addConnectivityStateListener(a){this.stateListeners.push(a)}removeConnectivityStateListener(a){let b=this.stateListeners.indexOf(a);b>-1&&this.stateListeners.splice(b,1)}ref(){this.child.ref(),this.refCount+=1}unref(){if(this.child.unref(),this.refCount-=1,this.refCount<=0&&this.mapEntry){let a=this.mapEntry.subchannelWrappers.indexOf(this);a>=0&&this.mapEntry.subchannelWrappers.splice(a,1)}}eject(){for(let a of(this.ejected=!0,this.stateListeners))a(this,this.childSubchannelState,e.ConnectivityState.TRANSIENT_FAILURE,-1)}uneject(){for(let a of(this.ejected=!1,this.stateListeners))a(this,e.ConnectivityState.TRANSIENT_FAILURE,this.childSubchannelState,-1)}getMapEntry(){return this.mapEntry}getWrappedSubchannel(){return this.child}}function z(){return{success:0,failure:0}}class A{constructor(){this.activeBucket=z(),this.inactiveBucket=z()}addSuccess(){this.activeBucket.success+=1}addFailure(){this.activeBucket.failure+=1}switchBuckets(){this.inactiveBucket=this.activeBucket,this.activeBucket=z()}getLastSuccesses(){return this.inactiveBucket.success}getLastFailures(){return this.inactiveBucket.failure}}class B{constructor(a,b){this.wrappedPicker=a,this.countCalls=b}pick(a){let b=this.wrappedPicker.pick(a);if(b.pickResultType!==k.PickResultType.COMPLETE)return b;{let a=b.subchannel,c=a.getMapEntry();if(!c)return Object.assign(Object.assign({},b),{subchannel:a.getWrappedSubchannel()});{let d=b.onCallEnded;return this.countCalls&&(d=a=>{var d;a===f.Status.OK?c.counter.addSuccess():c.counter.addFailure(),null==(d=b.onCallEnded)||d.call(b,a)}),Object.assign(Object.assign({},b),{subchannel:a.getWrappedSubchannel(),onCallEnded:d})}}}}class C{constructor(a){this.addressMap=new Map,this.latestConfig=null,this.timerStartTime=null,this.childBalancer=new j.ChildLoadBalancerHandler((0,h.createChildChannelControlHelper)(a,{createSubchannel:(b,c)=>{let d=a.createSubchannel(b,c),e=this.addressMap.get((0,l.subchannelAddressToString)(b)),f=new y(d,e);return(null==e?void 0:e.currentEjectionTimestamp)!==null&&f.eject(),null==e||e.subchannelWrappers.push(f),f},updateState:(b,c)=>{b===e.ConnectivityState.READY?a.updateState(b,new B(c,this.isCountingEnabled())):a.updateState(b,c)}})),this.ejectionTimer=setInterval(()=>{},0),clearInterval(this.ejectionTimer)}isCountingEnabled(){return null!==this.latestConfig&&(null!==this.latestConfig.getSuccessRateEjectionConfig()||null!==this.latestConfig.getFailurePercentageEjectionConfig())}getCurrentEjectionPercent(){let a=0;for(let b of this.addressMap.values())null!==b.currentEjectionTimestamp&&(a+=1);return 100*a/this.addressMap.size}runSuccessRateCheck(a){if(!this.latestConfig)return;let b=this.latestConfig.getSuccessRateEjectionConfig();if(!b)return;p("Running success rate check");let c=b.request_volume,d=0,e=[];for(let[a,b]of this.addressMap){let f=b.counter.getLastSuccesses(),g=b.counter.getLastFailures();p("Stats for "+a+": successes="+f+" failures="+g+" targetRequestVolume="+c),f+g>=c&&(d+=1,e.push(f/(f+g)))}if(p("Found "+d+" success rate candidates; currentEjectionPercent="+this.getCurrentEjectionPercent()+" successRates=["+e+"]"),d<b.minimum_hosts)return;let f=e.reduce((a,b)=>a+b)/e.length,g=0;for(let a of e){let b=a-f;g+=b*b}let h=Math.sqrt(g/e.length),i=f-h*(b.stdev_factor/1e3);for(let[d,e]of(p("stdev="+h+" ejectionThreshold="+i),this.addressMap.entries())){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let f=e.counter.getLastSuccesses(),g=e.counter.getLastFailures();if(f+g<c)continue;let h=f/(f+g);if(p("Checking candidate "+d+" successRate="+h),h<i){let c=100*Math.random();p("Candidate "+d+" randomNumber="+c+" enforcement_percentage="+b.enforcement_percentage),c<b.enforcement_percentage&&(p("Ejecting candidate "+d),this.eject(e,a))}}}runFailurePercentageCheck(a){if(!this.latestConfig)return;let b=this.latestConfig.getFailurePercentageEjectionConfig();if(!b)return;p("Running failure percentage check. threshold="+b.threshold+" request volume threshold="+b.request_volume);let c=0;for(let a of this.addressMap.values())a.counter.getLastSuccesses()+a.counter.getLastFailures()>=b.request_volume&&(c+=1);if(!(c<b.minimum_hosts))for(let[c,d]of this.addressMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let e=d.counter.getLastSuccesses(),f=d.counter.getLastFailures();if((p("Candidate successes="+e+" failures="+f),!(e+f<b.request_volume))&&100*f/(f+e)>b.threshold){let e=100*Math.random();p("Candidate "+c+" randomNumber="+e+" enforcement_percentage="+b.enforcement_percentage),e<b.enforcement_percentage&&(p("Ejecting candidate "+c),this.eject(d,a))}}}eject(a,b){for(let b of(a.currentEjectionTimestamp=new Date,a.ejectionTimeMultiplier+=1,a.subchannelWrappers))b.eject()}uneject(a){for(let b of(a.currentEjectionTimestamp=null,a.subchannelWrappers))b.uneject()}switchAllBuckets(){for(let a of this.addressMap.values())a.counter.switchBuckets()}startTimer(a){var b,c;this.ejectionTimer=setTimeout(()=>this.runChecks(),a),null==(c=(b=this.ejectionTimer).unref)||c.call(b)}runChecks(){let a=new Date;if(p("Ejection timer running"),this.switchAllBuckets(),this.latestConfig)for(let[b,c]of(this.timerStartTime=a,this.startTimer(this.latestConfig.getIntervalMs()),this.runSuccessRateCheck(a),this.runFailurePercentageCheck(a),this.addressMap.entries()))if(null===c.currentEjectionTimestamp)c.ejectionTimeMultiplier>0&&(c.ejectionTimeMultiplier-=1);else{let a=this.latestConfig.getBaseEjectionTimeMs(),d=this.latestConfig.getMaxEjectionTimeMs(),e=new Date(c.currentEjectionTimestamp.getTime());e.setMilliseconds(e.getMilliseconds()+Math.min(a*c.ejectionTimeMultiplier,Math.max(a,d))),e<new Date&&(p("Unejecting "+b),this.uneject(c))}}updateAddressList(a,b,c){if(!(b instanceof x))return;let d=new Set;for(let b of a)d.add((0,l.subchannelAddressToString)(b));for(let a of d)this.addressMap.has(a)||(p("Adding map entry for "+a),this.addressMap.set(a,{counter:new A,currentEjectionTimestamp:null,ejectionTimeMultiplier:0,subchannelWrappers:[]}));for(let a of this.addressMap.keys())d.has(a)||(p("Removing map entry for "+a),this.addressMap.delete(a));let e=(0,i.getFirstUsableConfig)(b.getChildPolicy(),!0);if(this.childBalancer.updateAddressList(a,e,c),b.getSuccessRateEjectionConfig()||b.getFailurePercentageEjectionConfig())if(this.timerStartTime){p("Previous timer existed. Replacing timer"),clearTimeout(this.ejectionTimer);let a=b.getIntervalMs()-(new Date().getTime()-this.timerStartTime.getTime());this.startTimer(a)}else p("Starting new timer"),this.timerStartTime=new Date,this.startTimer(b.getIntervalMs()),this.switchAllBuckets();else for(let a of(p("Counting disabled. Cancelling timer."),this.timerStartTime=null,clearTimeout(this.ejectionTimer),this.addressMap.values()))this.uneject(a),a.ejectionTimeMultiplier=0;this.latestConfig=b}exitIdle(){this.childBalancer.exitIdle()}resetBackoff(){this.childBalancer.resetBackoff()}destroy(){clearTimeout(this.ejectionTimer),this.childBalancer.destroy()}getTypeName(){return q}}c.OutlierDetectionLoadBalancer=C,c.setup=function(){r&&(0,h.registerLoadBalancerType)(q,C,x)}},68515,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.OutlierDetectionLoadBalancingConfig=c.BaseSubchannelWrapper=c.registerAdminService=c.FilterStackFactory=c.BaseFilter=c.PickResultType=c.QueuePicker=c.UnavailablePicker=c.ChildLoadBalancerHandler=c.subchannelAddressToString=c.validateLoadBalancingConfig=c.getFirstUsableConfig=c.registerLoadBalancerType=c.createChildChannelControlHelper=c.BackoffTimeout=c.durationToMs=c.uriToString=c.createResolver=c.registerResolver=c.log=c.trace=void 0;var d=a.r(77497);Object.defineProperty(c,"trace",{enumerable:!0,get:function(){return d.trace}}),Object.defineProperty(c,"log",{enumerable:!0,get:function(){return d.log}});var e=a.r(88858);Object.defineProperty(c,"registerResolver",{enumerable:!0,get:function(){return e.registerResolver}}),Object.defineProperty(c,"createResolver",{enumerable:!0,get:function(){return e.createResolver}});var f=a.r(24223);Object.defineProperty(c,"uriToString",{enumerable:!0,get:function(){return f.uriToString}});var g=a.r(71179);Object.defineProperty(c,"durationToMs",{enumerable:!0,get:function(){return g.durationToMs}});var h=a.r(82645);Object.defineProperty(c,"BackoffTimeout",{enumerable:!0,get:function(){return h.BackoffTimeout}});var i=a.r(77704);Object.defineProperty(c,"createChildChannelControlHelper",{enumerable:!0,get:function(){return i.createChildChannelControlHelper}}),Object.defineProperty(c,"registerLoadBalancerType",{enumerable:!0,get:function(){return i.registerLoadBalancerType}}),Object.defineProperty(c,"getFirstUsableConfig",{enumerable:!0,get:function(){return i.getFirstUsableConfig}}),Object.defineProperty(c,"validateLoadBalancingConfig",{enumerable:!0,get:function(){return i.validateLoadBalancingConfig}});var j=a.r(86361);Object.defineProperty(c,"subchannelAddressToString",{enumerable:!0,get:function(){return j.subchannelAddressToString}});var k=a.r(73164);Object.defineProperty(c,"ChildLoadBalancerHandler",{enumerable:!0,get:function(){return k.ChildLoadBalancerHandler}});var l=a.r(90104);Object.defineProperty(c,"UnavailablePicker",{enumerable:!0,get:function(){return l.UnavailablePicker}}),Object.defineProperty(c,"QueuePicker",{enumerable:!0,get:function(){return l.QueuePicker}}),Object.defineProperty(c,"PickResultType",{enumerable:!0,get:function(){return l.PickResultType}});var m=a.r(86945);Object.defineProperty(c,"BaseFilter",{enumerable:!0,get:function(){return m.BaseFilter}});var n=a.r(11965);Object.defineProperty(c,"FilterStackFactory",{enumerable:!0,get:function(){return n.FilterStackFactory}});var o=a.r(83084);Object.defineProperty(c,"registerAdminService",{enumerable:!0,get:function(){return o.registerAdminService}});var p=a.r(63462);Object.defineProperty(c,"BaseSubchannelWrapper",{enumerable:!0,get:function(){return p.BaseSubchannelWrapper}});var q=a.r(67333);Object.defineProperty(c,"OutlierDetectionLoadBalancingConfig",{enumerable:!0,get:function(){return q.OutlierDetectionLoadBalancingConfig}})},45893,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.setup=void 0;let d=a.r(88858);class e{constructor(a,b,c){let d;this.listener=b,this.addresses=[],this.hasReturnedResult=!1,d=""===a.authority?"/"+a.path:a.path,this.addresses=[{path:d}]}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(this.listener.onSuccessfulResolution,this.addresses,null,null,null,{}))}destroy(){}static getDefaultAuthority(a){return"localhost"}}c.setup=function(){(0,d.registerResolver)("unix",e)}},67826,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.setup=void 0;let d=a.r(4446),e=a.r(41335),f=a.r(60803),g=a.r(88858),h=a.r(24223),i=a.r(77497),j="ip_resolver";function k(a){i.trace(e.LogVerbosity.DEBUG,j,a)}let l="ipv4",m="ipv6",n=443;class o{constructor(a,b,c){var g;this.listener=b,this.addresses=[],this.error=null,this.hasReturnedResult=!1,k("Resolver constructed for target "+(0,h.uriToString)(a));const i=[];if(a.scheme!==l&&a.scheme!==m){this.error={code:e.Status.UNAVAILABLE,details:`Unrecognized scheme ${a.scheme} in IP resolver`,metadata:new f.Metadata};return}for(const b of a.path.split(",")){const c=(0,h.splitHostPort)(b);if(null===c||a.scheme===l&&!(0,d.isIPv4)(c.host)||a.scheme===m&&!(0,d.isIPv6)(c.host)){this.error={code:e.Status.UNAVAILABLE,details:`Failed to parse ${a.scheme} address ${b}`,metadata:new f.Metadata};return}i.push({host:c.host,port:null!=(g=c.port)?g:n})}this.addresses=i,k("Parsed "+a.scheme+" address list "+this.addresses)}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(()=>{this.error?this.listener.onError(this.error):this.listener.onSuccessfulResolution(this.addresses,null,null,null,{})}))}destroy(){this.hasReturnedResult=!1}static getDefaultAuthority(a){return a.path.split(",")[0]}}c.setup=function(){(0,g.registerResolver)(l,o),(0,g.registerResolver)(m,o)}},90697,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.setup=c.PickFirstLoadBalancer=c.shuffled=c.PickFirstLoadBalancingConfig=void 0;let d=a.r(77704),e=a.r(3682),f=a.r(90104),g=a.r(77497),h=a.r(41335),i="pick_first";function j(a){g.trace(h.LogVerbosity.DEBUG,i,a)}let k="pick_first",l=250;class m{constructor(a){this.shuffleAddressList=a}getLoadBalancerName(){return k}toJsonObject(){return{[k]:{shuffleAddressList:this.shuffleAddressList}}}getShuffleAddressList(){return this.shuffleAddressList}static createFromJson(a){if("shuffleAddressList"in a&&"boolean"!=typeof a.shuffleAddressList)throw Error("pick_first config field shuffleAddressList must be a boolean if provided");return new m(!0===a.shuffleAddressList)}}c.PickFirstLoadBalancingConfig=m;class n{constructor(a){this.subchannel=a}pick(a){return{pickResultType:f.PickResultType.COMPLETE,subchannel:this.subchannel,status:null,onCallStarted:null,onCallEnded:null}}}function o(a){let b=a.slice();for(let a=b.length-1;a>1;a--){let c=Math.floor(Math.random()*(a+1)),d=b[a];b[a]=b[c],b[c]=d}return b}c.shuffled=o;class p{constructor(a){this.channelControlHelper=a,this.children=[],this.currentState=e.ConnectivityState.IDLE,this.currentSubchannelIndex=0,this.currentPick=null,this.subchannelStateListener=(a,b,c,d,e)=>{this.onSubchannelStateUpdate(a,b,c,e)},this.triedAllSubchannels=!1,this.stickyTransientFailureMode=!1,this.requestedResolutionSinceLastUpdate=!1,this.lastError=null,this.latestAddressList=null,this.connectionDelayTimeout=setTimeout(()=>{},0),clearTimeout(this.connectionDelayTimeout)}allChildrenHaveReportedTF(){return this.children.every(a=>a.hasReportedTransientFailure)}calculateAndReportNewState(){this.currentPick?this.updateState(e.ConnectivityState.READY,new n(this.currentPick)):0===this.children.length?this.updateState(e.ConnectivityState.IDLE,new f.QueuePicker(this)):this.stickyTransientFailureMode?this.updateState(e.ConnectivityState.TRANSIENT_FAILURE,new f.UnavailablePicker({details:`No connection established. Last error: ${this.lastError}`})):this.updateState(e.ConnectivityState.CONNECTING,new f.QueuePicker(this))}requestReresolution(){this.requestedResolutionSinceLastUpdate=!0,this.channelControlHelper.requestReresolution()}maybeEnterStickyTransientFailureMode(){if(this.allChildrenHaveReportedTF()&&(this.requestedResolutionSinceLastUpdate||this.requestReresolution(),!this.stickyTransientFailureMode)){for(let{subchannel:a}of(this.stickyTransientFailureMode=!0,this.children))a.startConnecting();this.calculateAndReportNewState()}}removeCurrentPick(){if(null!==this.currentPick){let a=this.currentPick;this.currentPick=null,a.unref(),a.removeConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.removeChannelzChild(a.getChannelzRef())}}onSubchannelStateUpdate(a,b,c,d){var f;if(null==(f=this.currentPick)?void 0:f.realSubchannelEquals(a)){c!==e.ConnectivityState.READY&&(this.removeCurrentPick(),this.calculateAndReportNewState(),this.requestReresolution());return}for(let[b,f]of this.children.entries())if(a.realSubchannelEquals(f.subchannel)){c===e.ConnectivityState.READY&&this.pickSubchannel(f.subchannel),c===e.ConnectivityState.TRANSIENT_FAILURE&&(f.hasReportedTransientFailure=!0,d&&(this.lastError=d),this.maybeEnterStickyTransientFailureMode(),b===this.currentSubchannelIndex&&this.startNextSubchannelConnecting(b+1)),f.subchannel.startConnecting();return}}startNextSubchannelConnecting(a){if(clearTimeout(this.connectionDelayTimeout),!this.triedAllSubchannels){for(let[b,c]of this.children.entries())if(b>=a){let a=c.subchannel.getConnectivityState();if(a===e.ConnectivityState.IDLE||a===e.ConnectivityState.CONNECTING)return void this.startConnecting(b)}this.triedAllSubchannels=!0,this.maybeEnterStickyTransientFailureMode()}}startConnecting(a){var b,c;clearTimeout(this.connectionDelayTimeout),this.currentSubchannelIndex=a,this.children[a].subchannel.getConnectivityState()===e.ConnectivityState.IDLE&&(j("Start connecting to subchannel with address "+this.children[a].subchannel.getAddress()),process.nextTick(()=>{var b;null==(b=this.children[a])||b.subchannel.startConnecting()})),this.connectionDelayTimeout=null==(c=(b=setTimeout(()=>{this.startNextSubchannelConnecting(a+1)},l)).unref)?void 0:c.call(b)}pickSubchannel(a){this.currentPick&&a.realSubchannelEquals(this.currentPick)||(j("Pick subchannel with address "+a.getAddress()),this.stickyTransientFailureMode=!1,null!==this.currentPick&&(this.currentPick.unref(),this.channelControlHelper.removeChannelzChild(this.currentPick.getChannelzRef()),this.currentPick.removeConnectivityStateListener(this.subchannelStateListener)),this.currentPick=a,a.ref(),this.channelControlHelper.addChannelzChild(a.getChannelzRef()),this.resetSubchannelList(),clearTimeout(this.connectionDelayTimeout),this.calculateAndReportNewState())}updateState(a,b){j(e.ConnectivityState[this.currentState]+" -> "+e.ConnectivityState[a]),this.currentState=a,this.channelControlHelper.updateState(a,b)}resetSubchannelList(){for(let a of this.children)this.currentPick&&a.subchannel.realSubchannelEquals(this.currentPick)||a.subchannel.removeConnectivityStateListener(this.subchannelStateListener),a.subchannel.unref(),this.channelControlHelper.removeChannelzChild(a.subchannel.getChannelzRef());this.currentSubchannelIndex=0,this.children=[],this.triedAllSubchannels=!1,this.requestedResolutionSinceLastUpdate=!1}connectToAddressList(a){let b=a.map(a=>({subchannel:this.channelControlHelper.createSubchannel(a,{}),hasReportedTransientFailure:!1}));for(let{subchannel:a}of b)a.ref(),this.channelControlHelper.addChannelzChild(a.getChannelzRef());for(let{subchannel:a}of(this.resetSubchannelList(),this.children=b,this.children))if(a.addConnectivityStateListener(this.subchannelStateListener),a.getConnectivityState()===e.ConnectivityState.READY)return void this.pickSubchannel(a);for(let a of this.children)a.subchannel.getConnectivityState()===e.ConnectivityState.TRANSIENT_FAILURE&&(a.hasReportedTransientFailure=!0);this.startNextSubchannelConnecting(0),this.calculateAndReportNewState()}updateAddressList(a,b){b instanceof m&&(b.getShuffleAddressList()&&(a=o(a)),this.latestAddressList=a,this.connectToAddressList(a))}exitIdle(){this.currentState===e.ConnectivityState.IDLE&&this.latestAddressList&&this.connectToAddressList(this.latestAddressList)}resetBackoff(){}destroy(){this.resetSubchannelList(),this.removeCurrentPick()}getTypeName(){return k}}c.PickFirstLoadBalancer=p,c.setup=function(){(0,d.registerLoadBalancerType)(k,p,m),(0,d.registerDefaultLoadBalancerType)(k)}},69175,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.setup=c.RoundRobinLoadBalancer=void 0;let d=a.r(77704),e=a.r(3682),f=a.r(90104),g=a.r(86361),h=a.r(77497),i=a.r(41335),j="round_robin";function k(a){h.trace(i.LogVerbosity.DEBUG,j,a)}let l="round_robin";class m{getLoadBalancerName(){return l}toJsonObject(){return{[l]:{}}}static createFromJson(a){return new m}}class n{constructor(a,b=0){this.subchannelList=a,this.nextIndex=b}pick(a){let b=this.subchannelList[this.nextIndex];return this.nextIndex=(this.nextIndex+1)%this.subchannelList.length,{pickResultType:f.PickResultType.COMPLETE,subchannel:b,status:null,onCallStarted:null,onCallEnded:null}}peekNextSubchannel(){return this.subchannelList[this.nextIndex]}}class o{constructor(a){this.channelControlHelper=a,this.subchannels=[],this.currentState=e.ConnectivityState.IDLE,this.currentReadyPicker=null,this.lastError=null,this.subchannelStateListener=(a,b,c,d,f)=>{this.calculateAndUpdateState(),(c===e.ConnectivityState.TRANSIENT_FAILURE||c===e.ConnectivityState.IDLE)&&(f&&(this.lastError=f),this.channelControlHelper.requestReresolution(),a.startConnecting())}}countSubchannelsWithState(a){return this.subchannels.filter(b=>b.getConnectivityState()===a).length}calculateAndUpdateState(){if(this.countSubchannelsWithState(e.ConnectivityState.READY)>0){let a=this.subchannels.filter(a=>a.getConnectivityState()===e.ConnectivityState.READY),b=0;null!==this.currentReadyPicker&&(b=a.indexOf(this.currentReadyPicker.peekNextSubchannel()))<0&&(b=0),this.updateState(e.ConnectivityState.READY,new n(a,b))}else this.countSubchannelsWithState(e.ConnectivityState.CONNECTING)>0?this.updateState(e.ConnectivityState.CONNECTING,new f.QueuePicker(this)):this.countSubchannelsWithState(e.ConnectivityState.TRANSIENT_FAILURE)>0?this.updateState(e.ConnectivityState.TRANSIENT_FAILURE,new f.UnavailablePicker({details:`No connection established. Last error: ${this.lastError}`})):this.updateState(e.ConnectivityState.IDLE,new f.QueuePicker(this))}updateState(a,b){k(e.ConnectivityState[this.currentState]+" -> "+e.ConnectivityState[a]),a===e.ConnectivityState.READY?this.currentReadyPicker=b:this.currentReadyPicker=null,this.currentState=a,this.channelControlHelper.updateState(a,b)}resetSubchannelList(){for(let a of this.subchannels)a.removeConnectivityStateListener(this.subchannelStateListener),a.unref(),this.channelControlHelper.removeChannelzChild(a.getChannelzRef());this.subchannels=[]}updateAddressList(a,b){for(let b of(this.resetSubchannelList(),k("Connect to address list "+a.map(a=>(0,g.subchannelAddressToString)(a))),this.subchannels=a.map(a=>this.channelControlHelper.createSubchannel(a,{})),this.subchannels)){b.ref(),b.addConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.addChannelzChild(b.getChannelzRef());let a=b.getConnectivityState();(a===e.ConnectivityState.IDLE||a===e.ConnectivityState.TRANSIENT_FAILURE)&&b.startConnecting()}this.calculateAndUpdateState()}exitIdle(){for(let a of this.subchannels)a.startConnecting()}resetBackoff(){}destroy(){this.resetSubchannelList()}getTypeName(){return l}}c.RoundRobinLoadBalancer=o,c.setup=function(){(0,d.registerLoadBalancerType)(l,o,m)}},83015,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.experimental=c.addAdminServicesToServer=c.getChannelzHandlers=c.getChannelzServiceDefinition=c.InterceptorConfigurationError=c.InterceptingCall=c.RequesterBuilder=c.ListenerBuilder=c.StatusBuilder=c.getClientChannel=c.ServerCredentials=c.Server=c.setLogVerbosity=c.setLogger=c.load=c.loadObject=c.CallCredentials=c.ChannelCredentials=c.waitForClientReady=c.closeClient=c.Channel=c.makeGenericClientConstructor=c.makeClientConstructor=c.loadPackageDefinition=c.Client=c.compressionAlgorithms=c.propagate=c.connectivityState=c.status=c.logVerbosity=c.Metadata=c.credentials=void 0;let d=a.r(11914);Object.defineProperty(c,"CallCredentials",{enumerable:!0,get:function(){return d.CallCredentials}});let e=a.r(78096);Object.defineProperty(c,"Channel",{enumerable:!0,get:function(){return e.ChannelImplementation}});let f=a.r(57200);Object.defineProperty(c,"compressionAlgorithms",{enumerable:!0,get:function(){return f.CompressionAlgorithms}});let g=a.r(3682);Object.defineProperty(c,"connectivityState",{enumerable:!0,get:function(){return g.ConnectivityState}});let h=a.r(11457);Object.defineProperty(c,"ChannelCredentials",{enumerable:!0,get:function(){return h.ChannelCredentials}});let i=a.r(88105);Object.defineProperty(c,"Client",{enumerable:!0,get:function(){return i.Client}});let j=a.r(41335);Object.defineProperty(c,"logVerbosity",{enumerable:!0,get:function(){return j.LogVerbosity}}),Object.defineProperty(c,"status",{enumerable:!0,get:function(){return j.Status}}),Object.defineProperty(c,"propagate",{enumerable:!0,get:function(){return j.Propagate}});let k=a.r(77497),l=a.r(61595);Object.defineProperty(c,"loadPackageDefinition",{enumerable:!0,get:function(){return l.loadPackageDefinition}}),Object.defineProperty(c,"makeClientConstructor",{enumerable:!0,get:function(){return l.makeClientConstructor}}),Object.defineProperty(c,"makeGenericClientConstructor",{enumerable:!0,get:function(){return l.makeClientConstructor}});let m=a.r(60803);Object.defineProperty(c,"Metadata",{enumerable:!0,get:function(){return m.Metadata}});let n=a.r(74273);Object.defineProperty(c,"Server",{enumerable:!0,get:function(){return n.Server}});let o=a.r(14277);Object.defineProperty(c,"ServerCredentials",{enumerable:!0,get:function(){return o.ServerCredentials}});let p=a.r(50615);Object.defineProperty(c,"StatusBuilder",{enumerable:!0,get:function(){return p.StatusBuilder}}),c.credentials={combineChannelCredentials:(a,...b)=>b.reduce((a,b)=>a.compose(b),a),combineCallCredentials:(a,...b)=>b.reduce((a,b)=>a.compose(b),a),createInsecure:h.ChannelCredentials.createInsecure,createSsl:h.ChannelCredentials.createSsl,createFromSecureContext:h.ChannelCredentials.createFromSecureContext,createFromMetadataGenerator:d.CallCredentials.createFromMetadataGenerator,createFromGoogleCredential:d.CallCredentials.createFromGoogleCredential,createEmpty:d.CallCredentials.createEmpty},c.closeClient=a=>a.close(),c.waitForClientReady=(a,b,c)=>a.waitForReady(b,c),c.loadObject=(a,b)=>{throw Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")},c.load=(a,b,c)=>{throw Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")},c.setLogger=a=>{k.setLogger(a)},c.setLogVerbosity=a=>{k.setLoggerVerbosity(a)},c.getClientChannel=a=>i.Client.prototype.getChannel.call(a);var q=a.r(16678);Object.defineProperty(c,"ListenerBuilder",{enumerable:!0,get:function(){return q.ListenerBuilder}}),Object.defineProperty(c,"RequesterBuilder",{enumerable:!0,get:function(){return q.RequesterBuilder}}),Object.defineProperty(c,"InterceptingCall",{enumerable:!0,get:function(){return q.InterceptingCall}}),Object.defineProperty(c,"InterceptorConfigurationError",{enumerable:!0,get:function(){return q.InterceptorConfigurationError}});var r=a.r(34206);Object.defineProperty(c,"getChannelzServiceDefinition",{enumerable:!0,get:function(){return r.getChannelzServiceDefinition}}),Object.defineProperty(c,"getChannelzHandlers",{enumerable:!0,get:function(){return r.getChannelzHandlers}});var s=a.r(83084);Object.defineProperty(c,"addAdminServicesToServer",{enumerable:!0,get:function(){return s.addAdminServicesToServer}}),c.experimental=a.r(68515);let t=a.r(95463),u=a.r(45893),v=a.r(67826),w=a.r(90697),x=a.r(69175),y=a.r(67333),z=a.r(34206);(()=>{t.setup(),u.setup(),v.setup(),w.setup(),x.setup(),y.setup(),z.setup()})()},26356,45829,55199,a=>{"use strict";let b,c,d=()=>void 0,e={NODE_CLIENT:!1},f=function(a){let b=[],c=0;for(let d=0;d<a.length;d++){let e=a.charCodeAt(d);e<128?b[c++]=e:(e<2048?b[c++]=e>>6|192:((64512&e)==55296&&d+1<a.length&&(64512&a.charCodeAt(d+1))==56320?(e=65536+((1023&e)<<10)+(1023&a.charCodeAt(++d)),b[c++]=e>>18|240,b[c++]=e>>12&63|128):b[c++]=e>>12|224,b[c++]=e>>6&63|128),b[c++]=63&e|128)}return b},g=function(a){let b=[],c=0,d=0;for(;c<a.length;){let e=a[c++];if(e<128)b[d++]=String.fromCharCode(e);else if(e>191&&e<224){let f=a[c++];b[d++]=String.fromCharCode((31&e)<<6|63&f)}else if(e>239&&e<365){let f=((7&e)<<18|(63&a[c++])<<12|(63&a[c++])<<6|63&a[c++])-65536;b[d++]=String.fromCharCode(55296+(f>>10)),b[d++]=String.fromCharCode(56320+(1023&f))}else{let f=a[c++],g=a[c++];b[d++]=String.fromCharCode((15&e)<<12|(63&f)<<6|63&g)}}return b.join("")},h={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(a,b){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();let c=b?this.byteToCharMapWebSafe_:this.byteToCharMap_,d=[];for(let b=0;b<a.length;b+=3){let e=a[b],f=b+1<a.length,g=f?a[b+1]:0,h=b+2<a.length,i=h?a[b+2]:0,j=e>>2,k=(3&e)<<4|g>>4,l=(15&g)<<2|i>>6,m=63&i;!h&&(m=64,f||(l=64)),d.push(c[j],c[k],c[l],c[m])}return d.join("")},encodeString(a,b){return this.HAS_NATIVE_SUPPORT&&!b?btoa(a):this.encodeByteArray(f(a),b)},decodeString(a,b){return this.HAS_NATIVE_SUPPORT&&!b?atob(a):g(this.decodeStringToByteArray(a,b))},decodeStringToByteArray(a,b){this.init_();let c=b?this.charToByteMapWebSafe_:this.charToByteMap_,d=[];for(let b=0;b<a.length;){let e=c[a.charAt(b++)],f=b<a.length?c[a.charAt(b)]:0,g=++b<a.length?c[a.charAt(b)]:64,h=++b<a.length?c[a.charAt(b)]:64;if(++b,null==e||null==f||null==g||null==h)throw new i;let j=e<<2|f>>4;if(d.push(j),64!==g){let a=f<<4&240|g>>2;if(d.push(a),64!==h){let a=g<<6&192|h;d.push(a)}}}return d},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class i extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}let j=function(a){let b=f(a);return h.encodeByteArray(b,!0)},k=function(a){return j(a).replace(/\./g,"")},l=function(a){try{return h.decodeString(a,!0)}catch(a){console.error("base64Decode failed: ",a)}return null};function m(){return"u">typeof self?self:a.g}let n=()=>m().__FIREBASE_DEFAULTS__,o=()=>{if("u"<typeof process||void 0===process.env)return;let a=process.env.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},p=()=>{let a;if("u"<typeof document)return;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(a){return}let b=a&&l(a[1]);return b&&JSON.parse(b)},q=()=>{try{return d()||n()||o()||p()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},r=a=>q()?.emulatorHosts?.[a],s=a=>{let b=r(a);if(!b)return;let c=b.lastIndexOf(":");if(c<=0||c+1===b.length)throw Error(`Invalid host ${b} with no separate hostname and port!`);let d=parseInt(b.substring(c+1),10);return"["===b[0]?[b.substring(1,c-1),d]:[b.substring(0,c),d]},t=()=>q()?.config;class u{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((a,b)=>{this.resolve=a,this.reject=b})}wrapCallback(a){return(b,c)=>{b?this.reject(b):this.resolve(c),"function"==typeof a&&(this.promise.catch(()=>{}),1===a.length?a(b):a(b,c))}}}function v(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function w(a){return(await fetch(a,{credentials:"include"})).ok}function x(a,b){if(a.uid)throw Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let c={alg:"none",type:"JWT"},d=b||"demo-project",e=a.iat||0,f=a.sub||a.user_id;if(!f)throw Error("mockUserToken must contain 'sub' or 'user_id' field!");let g={iss:`https://securetoken.google.com/${d}`,aud:d,iat:e,exp:e+3600,auth_time:e,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}},...a},h="";return[k(JSON.stringify(c)),k(JSON.stringify(g)),h].join(".")}function y(a,b){}function z(){return"u">typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function A(){let b=q()?.forceEnvironment;if("node"===b)return!0;if("browser"===b)return!1;try{return"[object process]"===Object.prototype.toString.call(a.g.process)}catch(a){return!1}}function B(){return C()}function C(){return"u">typeof WorkerGlobalScope&&"u">typeof self&&self instanceof WorkerGlobalScope}function D(){return!A()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function E(){return!A()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function F(){try{return"object"==typeof indexedDB}catch(a){return!1}}function G(){return new Promise((a,b)=>{try{let c=!0,d="validate-browser-context-for-indexeddb-analytics-module",e=self.indexedDB.open(d);e.onsuccess=()=>{e.result.close(),c||self.indexedDB.deleteDatabase(d),a(!0)},e.onupgradeneeded=()=>{c=!1},e.onerror=()=>{b(e.error?.message||"")}}catch(a){b(a)}})}let H="FirebaseError";class I extends Error{constructor(a,b,c){super(b),this.code=a,this.customData=c,this.name=H,Object.setPrototypeOf(this,I.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,J.prototype.create)}}class J{constructor(a,b,c){this.service=a,this.serviceName=b,this.errors=c}create(a,...b){let c=b[0]||{},d=`${this.service}/${a}`,e=this.errors[a],f=e?K(e,c):"Error",g=`${this.serviceName}: ${f} (${d}).`;return new I(d,g,c)}}function K(a,b){return a.replace(L,(a,c)=>{let d=b[c];return null!=d?String(d):`<${c}?>`})}let L=/\{\$([^}]+)}/g;function M(a,b){if(a===b)return!0;let c=Object.keys(a),d=Object.keys(b);for(let e of c){if(!d.includes(e))return!1;let c=a[e],f=b[e];if(N(c)&&N(f)){if(!M(c,f))return!1}else if(c!==f)return!1}for(let a of d)if(!c.includes(a))return!1;return!0}function N(a){return null!==a&&"object"==typeof a}function O(a){return a&&a._delegate?a._delegate:a}e.NODE_CLIENT=!0;class P{constructor(a,b,c){this.name=a,this.instanceFactory=b,this.type=c,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(a){return this.instantiationMode=a,this}setMultipleInstances(a){return this.multipleInstances=a,this}setServiceProps(a){return this.serviceProps=a,this}setInstanceCreatedCallback(a){return this.onInstanceCreated=a,this}}let Q="[DEFAULT]";class R{constructor(a,b){this.name=a,this.container=b,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(a){let b=this.normalizeInstanceIdentifier(a);if(!this.instancesDeferred.has(b)){let a=new u;if(this.instancesDeferred.set(b,a),this.isInitialized(b)||this.shouldAutoInitialize())try{let c=this.getOrInitializeService({instanceIdentifier:b});c&&a.resolve(c)}catch(a){}}return this.instancesDeferred.get(b).promise}getImmediate(a){let b=this.normalizeInstanceIdentifier(a?.identifier),c=a?.optional??!1;if(this.isInitialized(b)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:b})}catch(a){if(c)return null;throw a}if(c)return null;throw Error(`Service ${this.name} is not available`)}getComponent(){return this.component}setComponent(a){if(a.name!==this.name)throw Error(`Mismatching Component ${a.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=a,this.shouldAutoInitialize()){if(T(a))try{this.getOrInitializeService({instanceIdentifier:Q})}catch(a){}for(let[a,b]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(a);try{let a=this.getOrInitializeService({instanceIdentifier:c});b.resolve(a)}catch(a){}}}}clearInstance(a=Q){this.instancesDeferred.delete(a),this.instancesOptions.delete(a),this.instances.delete(a)}async delete(){let a=Array.from(this.instances.values());await Promise.all([...a.filter(a=>"INTERNAL"in a).map(a=>a.INTERNAL.delete()),...a.filter(a=>"_delete"in a).map(a=>a._delete())])}isComponentSet(){return null!=this.component}isInitialized(a=Q){return this.instances.has(a)}getOptions(a=Q){return this.instancesOptions.get(a)||{}}initialize(a={}){let{options:b={}}=a,c=this.normalizeInstanceIdentifier(a.instanceIdentifier);if(this.isInitialized(c))throw Error(`${this.name}(${c}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let d=this.getOrInitializeService({instanceIdentifier:c,options:b});for(let[a,b]of this.instancesDeferred.entries())c===this.normalizeInstanceIdentifier(a)&&b.resolve(d);return d}onInit(a,b){let c=this.normalizeInstanceIdentifier(b),d=this.onInitCallbacks.get(c)??new Set;d.add(a),this.onInitCallbacks.set(c,d);let e=this.instances.get(c);return e&&a(e,c),()=>{d.delete(a)}}invokeOnInitCallbacks(a,b){let c=this.onInitCallbacks.get(b);if(c)for(let d of c)try{d(a,b)}catch{}}getOrInitializeService({instanceIdentifier:a,options:b={}}){let c=this.instances.get(a);if(!c&&this.component&&(c=this.component.instanceFactory(this.container,{instanceIdentifier:S(a),options:b}),this.instances.set(a,c),this.instancesOptions.set(a,b),this.invokeOnInitCallbacks(c,a),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,a,c)}catch{}return c||null}normalizeInstanceIdentifier(a=Q){return this.component?this.component.multipleInstances?a:Q:a}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function S(a){return a===Q?void 0:a}function T(a){return"EAGER"===a.instantiationMode}class U{constructor(a){this.name=a,this.providers=new Map}addComponent(a){let b=this.getProvider(a.name);if(b.isComponentSet())throw Error(`Component ${a.name} has already been registered with ${this.name}`);b.setComponent(a)}addOrOverwriteComponent(a){this.getProvider(a.name).isComponentSet()&&this.providers.delete(a.name),this.addComponent(a)}getProvider(a){if(this.providers.has(a))return this.providers.get(a);let b=new R(a,this);return this.providers.set(a,b),b}getProviders(){return Array.from(this.providers.values())}}let V=[];!function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"}(bh||(bh={}));let W={debug:bh.DEBUG,verbose:bh.VERBOSE,info:bh.INFO,warn:bh.WARN,error:bh.ERROR,silent:bh.SILENT},X=bh.INFO,Y={[bh.DEBUG]:"log",[bh.VERBOSE]:"log",[bh.INFO]:"info",[bh.WARN]:"warn",[bh.ERROR]:"error"},Z=(a,b,...c)=>{if(b<a.logLevel)return;let d=new Date().toISOString(),e=Y[b];if(e)console[e](`[${d}]  ${a.name}:`,...c);else throw Error(`Attempted to log a message with an invalid logType (value: ${b})`)};class ${constructor(a){this.name=a,this._logLevel=X,this._logHandler=Z,this._userLogHandler=null,V.push(this)}get logLevel(){return this._logLevel}set logLevel(a){if(!(a in bh))throw TypeError(`Invalid value "${a}" assigned to \`logLevel\``);this._logLevel=a}setLogLevel(a){this._logLevel="string"==typeof a?W[a]:a}get logHandler(){return this._logHandler}set logHandler(a){if("function"!=typeof a)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=a}get userLogHandler(){return this._userLogHandler}set userLogHandler(a){this._userLogHandler=a}debug(...a){this._userLogHandler&&this._userLogHandler(this,bh.DEBUG,...a),this._logHandler(this,bh.DEBUG,...a)}log(...a){this._userLogHandler&&this._userLogHandler(this,bh.VERBOSE,...a),this._logHandler(this,bh.VERBOSE,...a)}info(...a){this._userLogHandler&&this._userLogHandler(this,bh.INFO,...a),this._logHandler(this,bh.INFO,...a)}warn(...a){this._userLogHandler&&this._userLogHandler(this,bh.WARN,...a),this._logHandler(this,bh.WARN,...a)}error(...a){this._userLogHandler&&this._userLogHandler(this,bh.ERROR,...a),this._logHandler(this,bh.ERROR,...a)}}function _(a){V.forEach(b=>{b.setLogLevel(a)})}function aa(a,b){for(let c of V){let d=null;b&&b.level&&(d=W[b.level]),null===a?c.userLogHandler=null:c.userLogHandler=(b,c,...e)=>{let f=e.map(a=>{if(null==a)return null;if("string"==typeof a)return a;if("number"==typeof a||"boolean"==typeof a)return a.toString();if(a instanceof Error)return a.message;try{return JSON.stringify(a)}catch(a){return null}}).filter(a=>a).join(" ");c>=(d??b.logLevel)&&a({level:bh[c].toLowerCase(),message:f,args:e,type:b.name})}}}let ab=(a,b)=>b.some(b=>a instanceof b);function ac(){return b||(b=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ad(){return c||(c=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}let ae=new WeakMap,af=new WeakMap,ag=new WeakMap,ah=new WeakMap,ai=new WeakMap;function aj(a){let b=new Promise((b,c)=>{let d=()=>{a.removeEventListener("success",e),a.removeEventListener("error",f)},e=()=>{b(ap(a.result)),d()},f=()=>{c(a.error),d()};a.addEventListener("success",e),a.addEventListener("error",f)});return b.then(b=>{b instanceof IDBCursor&&ae.set(b,a)}).catch(()=>{}),ai.set(b,a),b}function ak(a){if(af.has(a))return;let b=new Promise((b,c)=>{let d=()=>{a.removeEventListener("complete",e),a.removeEventListener("error",f),a.removeEventListener("abort",f)},e=()=>{b(),d()},f=()=>{c(a.error||new DOMException("AbortError","AbortError")),d()};a.addEventListener("complete",e),a.addEventListener("error",f),a.addEventListener("abort",f)});af.set(a,b)}let al={get(a,b,c){if(a instanceof IDBTransaction){if("done"===b)return af.get(a);if("objectStoreNames"===b)return a.objectStoreNames||ag.get(a);if("store"===b)return c.objectStoreNames[1]?void 0:c.objectStore(c.objectStoreNames[0])}return ap(a[b])},set:(a,b,c)=>(a[b]=c,!0),has:(a,b)=>a instanceof IDBTransaction&&("done"===b||"store"===b)||b in a};function am(a){al=a(al)}function an(a){return a!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?ad().includes(a)?function(...b){return a.apply(aq(this),b),ap(ae.get(this))}:function(...b){return ap(a.apply(aq(this),b))}:function(b,...c){let d=a.call(aq(this),b,...c);return ag.set(d,b.sort?b.sort():[b]),ap(d)}}function ao(a){return"function"==typeof a?an(a):(a instanceof IDBTransaction&&ak(a),ab(a,ac()))?new Proxy(a,al):a}function ap(a){if(a instanceof IDBRequest)return aj(a);if(ah.has(a))return ah.get(a);let b=ao(a);return b!==a&&(ah.set(a,b),ai.set(b,a)),b}let aq=a=>ai.get(a);function ar(a,b,{blocked:c,upgrade:d,blocking:e,terminated:f}={}){let g=indexedDB.open(a,b),h=ap(g);return d&&g.addEventListener("upgradeneeded",a=>{d(ap(g.result),a.oldVersion,a.newVersion,ap(g.transaction),a)}),c&&g.addEventListener("blocked",a=>c(a.oldVersion,a.newVersion,a)),h.then(a=>{f&&a.addEventListener("close",()=>f()),e&&a.addEventListener("versionchange",a=>e(a.oldVersion,a.newVersion,a))}).catch(()=>{}),h}let as=["get","getKey","getAll","getAllKeys","count"],at=["put","add","delete","clear"],au=new Map;function av(a,b){if(!(a instanceof IDBDatabase&&!(b in a)&&"string"==typeof b))return;if(au.get(b))return au.get(b);let c=b.replace(/FromIndex$/,""),d=b!==c,e=at.includes(c);if(!(c in(d?IDBIndex:IDBObjectStore).prototype)||!(e||as.includes(c)))return;let f=async function(a,...b){let f=this.transaction(a,e?"readwrite":"readonly"),g=f.store;return d&&(g=g.index(b.shift())),(await Promise.all([g[c](...b),e&&f.done]))[0]};return au.set(b,f),f}am(a=>({...a,get:(b,c,d)=>av(b,c)||a.get(b,c,d),has:(b,c)=>!!av(b,c)||a.has(b,c)}));class aw{constructor(a){this.container=a}getPlatformInfoString(){return this.container.getProviders().map(a=>{if(!ax(a))return null;{let b=a.getImmediate();return`${b.library}/${b.version}`}}).filter(a=>a).join(" ")}}function ax(a){let b=a.getComponent();return b?.type==="VERSION"}let ay="@firebase/app",az="0.14.7",aA=new $("@firebase/app"),aB="12.8.0",aC="[DEFAULT]",aD={[ay]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/ai":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},aE=new Map,aF=new Map,aG=new Map;function aH(a,b){try{a.container.addComponent(b)}catch(c){aA.debug(`Component ${b.name} failed to register with FirebaseApp ${a.name}`,c)}}function aI(a,b){a.container.addOrOverwriteComponent(b)}function aJ(a){let b=a.name;if(aG.has(b))return aA.debug(`There were multiple attempts to register component ${b}.`),!1;for(let c of(aG.set(b,a),aE.values()))aH(c,a);for(let b of aF.values())aH(b,a);return!0}function aK(a,b){let c=a.container.getProvider("heartbeat").getImmediate({optional:!0});return c&&c.triggerHeartbeat(),a.container.getProvider(b)}function aL(a,b,c=aC){aK(a,b).clearInstance(c)}function aM(a){return void 0!==a.options}function aN(a){return!aM(a)&&("authIdToken"in a||"appCheckToken"in a||"releaseOnDeref"in a||"automaticDataCollectionEnabled"in a)}function aO(a){return null!=a&&void 0!==a.settings}function aP(){aG.clear()}let aQ=new J("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class aR{constructor(a,b,c){this._isDeleted=!1,this._options={...a},this._config={...b},this._name=b.name,this._automaticDataCollectionEnabled=b.automaticDataCollectionEnabled,this._container=c,this.container.addComponent(new P("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(a){this.checkDestroyed(),this._automaticDataCollectionEnabled=a}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(a){this._isDeleted=a}checkDestroyed(){if(this.isDeleted)throw aQ.create("app-deleted",{appName:this._name})}}function aS(a,b){let c=l(a.split(".")[1]);null===c?console.error(`FirebaseServerApp ${b} is invalid: second part could not be parsed.`):void 0===JSON.parse(c).exp?console.error(`FirebaseServerApp ${b} is invalid: expiration claim could not be parsed`):1e3*JSON.parse(c).exp-new Date().getTime()<=0&&console.error(`FirebaseServerApp ${b} is invalid: the token has expired.`)}class aT extends aR{constructor(a,b,c,d){const e=void 0===b.automaticDataCollectionEnabled||b.automaticDataCollectionEnabled,f={name:c,automaticDataCollectionEnabled:e};void 0!==a.apiKey?super(a,f,d):super(a.options,f,d),this._serverConfig={automaticDataCollectionEnabled:e,...b},this._serverConfig.authIdToken&&aS(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&aS(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,"u">typeof FinalizationRegistry&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,b.releaseOnDeref=void 0,a$(ay,az,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(a){this.isDeleted||(this._refCount++,void 0!==a&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(a,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){aZ(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw aQ.create("server-app-deleted")}}let aU=aB;function aV(a,b={}){let c=a;"object"!=typeof b&&(b={name:b});let d={name:aC,automaticDataCollectionEnabled:!0,...b},e=d.name;if("string"!=typeof e||!e)throw aQ.create("bad-app-name",{appName:String(e)});if(c||(c=t()),!c)throw aQ.create("no-options");let f=aE.get(e);if(f)if(M(c,f.options)&&M(d,f.config))return f;else throw aQ.create("duplicate-app",{appName:e});let g=new U(e);for(let a of aG.values())g.addComponent(a);let h=new aR(c,d,g);return aE.set(e,h),h}function aW(a,b={}){let c;if(B()&&!C())throw aQ.create("invalid-server-app-environment");let d=b||{};if(a&&(aM(a)?c=a.options:aN(a)?d=a:c=a),void 0===d.automaticDataCollectionEnabled&&(d.automaticDataCollectionEnabled=!0),c||(c=t()),!c)throw aQ.create("no-options");let e={...d,...c};void 0!==e.releaseOnDeref&&delete e.releaseOnDeref;let f=a=>[...a].reduce((a,b)=>Math.imul(31,a)+b.charCodeAt(0)|0,0);if(void 0!==d.releaseOnDeref&&"u"<typeof FinalizationRegistry)throw aQ.create("finalization-registry-not-supported",{});let g=""+f(JSON.stringify(e)),h=aF.get(g);if(h)return h.incRefCount(d.releaseOnDeref),h;let i=new U(g);for(let a of aG.values())i.addComponent(a);let j=new aT(c,d,g,i);return aF.set(g,j),j}function aX(a=aC){let b=aE.get(a);if(!b&&a===aC&&t())return aV();if(!b)throw aQ.create("no-app",{appName:a});return b}function aY(){return Array.from(aE.values())}async function aZ(a){let b=!1,c=a.name;aE.has(c)?(b=!0,aE.delete(c)):aF.has(c)&&0>=a.decRefCount()&&(aF.delete(c),b=!0),b&&(await Promise.all(a.container.getProviders().map(a=>a.delete())),a.isDeleted=!0)}function a$(a,b,c){let d=aD[a]??a;c&&(d+=`-${c}`);let e=d.match(/\s|\//),f=b.match(/\s|\//);if(e||f){let a=[`Unable to register library "${d}" with version "${b}":`];e&&a.push(`library name "${d}" contains illegal characters (whitespace or "/")`),e&&f&&a.push("and"),f&&a.push(`version name "${b}" contains illegal characters (whitespace or "/")`),aA.warn(a.join(" "));return}aJ(new P(`${d}-version`,()=>({library:d,version:b}),"VERSION"))}function a_(a,b){if(null!==a&&"function"!=typeof a)throw aQ.create("invalid-log-argument");aa(a,b)}function a0(a){_(a)}let a1="firebase-heartbeat-database",a2=1,a3="firebase-heartbeat-store",a4=null;function a5(){return a4||(a4=ar(a1,a2,{upgrade:(a,b)=>{if(0===b)try{a.createObjectStore(a3)}catch(a){console.warn(a)}}}).catch(a=>{throw aQ.create("idb-open",{originalErrorMessage:a.message})})),a4}async function a6(a){try{let b=(await a5()).transaction(a3),c=await b.objectStore(a3).get(a8(a));return await b.done,c}catch(a){if(a instanceof I)aA.warn(a.message);else{let b=aQ.create("idb-get",{originalErrorMessage:a?.message});aA.warn(b.message)}}}async function a7(a,b){try{let c=(await a5()).transaction(a3,"readwrite"),d=c.objectStore(a3);await d.put(b,a8(a)),await c.done}catch(a){if(a instanceof I)aA.warn(a.message);else{let b=aQ.create("idb-set",{originalErrorMessage:a?.message});aA.warn(b.message)}}}function a8(a){return`${a.name}!${a.options.appId}`}let a9=1024,ba=30;class bb{constructor(a){this.container=a,this._heartbeatsCache=null;const b=this.container.getProvider("app").getImmediate();this._storage=new be(b),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{let a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),b=bc();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===b||this._heartbeatsCache.heartbeats.some(a=>a.date===b))return;if(this._heartbeatsCache.heartbeats.push({date:b,agent:a}),this._heartbeatsCache.heartbeats.length>ba){let a=bg(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){aA.warn(a)}}async getHeartbeatsHeader(){try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||0===this._heartbeatsCache.heartbeats.length)return"";let a=bc(),{heartbeatsToSend:b,unsentEntries:c}=bd(this._heartbeatsCache.heartbeats),d=k(JSON.stringify({version:2,heartbeats:b}));return this._heartbeatsCache.lastSentHeartbeatDate=a,c.length>0?(this._heartbeatsCache.heartbeats=c,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),d}catch(a){return aA.warn(a),""}}}function bc(){return new Date().toISOString().substring(0,10)}function bd(a,b=a9){let c=[],d=a.slice();for(let e of a){let a=c.find(a=>a.agent===e.agent);if(a){if(a.dates.push(e.date),bf(c)>b){a.dates.pop();break}}else if(c.push({agent:e.agent,dates:[e.date]}),bf(c)>b){c.pop();break}d=d.slice(1)}return{heartbeatsToSend:c,unsentEntries:d}}class be{constructor(a){this.app=a,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!F()&&G().then(()=>!0).catch(()=>!1)}async read(){if(!await this._canUseIndexedDBPromise)return{heartbeats:[]};{let a=await a6(this.app);return a?.heartbeats?a:{heartbeats:[]}}}async overwrite(a){if(await this._canUseIndexedDBPromise){let b=await this.read();return a7(this.app,{lastSentHeartbeatDate:a.lastSentHeartbeatDate??b.lastSentHeartbeatDate,heartbeats:a.heartbeats})}}async add(a){if(await this._canUseIndexedDBPromise){let b=await this.read();return a7(this.app,{lastSentHeartbeatDate:a.lastSentHeartbeatDate??b.lastSentHeartbeatDate,heartbeats:[...b.heartbeats,...a.heartbeats]})}}}function bf(a){return k(JSON.stringify({version:2,heartbeats:a})).length}function bg(a){if(0===a.length)return -1;let b=0,c=a[0].date;for(let d=1;d<a.length;d++)a[d].date<c&&(c=a[d].date,b=d);return b}(function(a){aJ(new P("platform-logger",a=>new aw(a),"PRIVATE")),aJ(new P("heartbeat",a=>new bb(a),"PRIVATE")),a$(ay,az,""),a$(ay,az,"esm2020"),a$("fire-js","")})(""),a.s(["SDK_VERSION",()=>aU,"_DEFAULT_ENTRY_NAME",()=>aC,"_addComponent",()=>aH,"_addOrOverwriteComponent",()=>aI,"_apps",()=>aE,"_clearComponents",()=>aP,"_components",()=>aG,"_getProvider",()=>aK,"_isFirebaseApp",()=>aM,"_isFirebaseServerApp",()=>aO,"_isFirebaseServerAppSettings",()=>aN,"_registerComponent",()=>aJ,"_removeServiceInstance",()=>aL,"_serverApps",()=>aF,"deleteApp",()=>aZ,"getApp",()=>aX,"getApps",()=>aY,"initializeApp",()=>aV,"initializeServerApp",()=>aW,"onLog",()=>a_,"registerVersion",()=>a$,"setLogLevel",()=>a0],86900),a$("firebase","12.8.0","app"),a.i(86900);var bh,bi,bj,bk,bl,bm="u">typeof globalThis?globalThis:a.g,bn={};(function(){function a(){this.blockSize=-1,this.blockSize=64,this.g=[,,,,],this.C=Array(this.blockSize),this.o=this.h=0,this.u()}function b(a,b,c){c||(c=0);let d=Array(16);if("string"==typeof b)for(var e=0;e<16;++e)d[e]=b.charCodeAt(c++)|b.charCodeAt(c++)<<8|b.charCodeAt(c++)<<16|b.charCodeAt(c++)<<24;else for(e=0;e<16;++e)d[e]=b[c++]|b[c++]<<8|b[c++]<<16|b[c++]<<24;b=a.g[0],c=a.g[1],e=a.g[2];let f=a.g[3],g;g=b+(f^c&(e^f))+d[0]+0xd76aa478|0,g=f+(e^(b=c+(g<<7|g>>>25))&(c^e))+d[1]+0xe8c7b756|0,g=e+(c^(f=b+(g<<12|g>>>20))&(b^c))+d[2]+0x242070db|0,g=c+(b^(e=f+(g<<17|g>>>15))&(f^b))+d[3]+0xc1bdceee|0,g=b+(f^(c=e+(g<<22|g>>>10))&(e^f))+d[4]+0xf57c0faf|0,g=f+(e^(b=c+(g<<7|g>>>25))&(c^e))+d[5]+0x4787c62a|0,g=e+(c^(f=b+(g<<12|g>>>20))&(b^c))+d[6]+0xa8304613|0,g=c+(b^(e=f+(g<<17|g>>>15))&(f^b))+d[7]+0xfd469501|0,g=b+(f^(c=e+(g<<22|g>>>10))&(e^f))+d[8]+0x698098d8|0,g=f+(e^(b=c+(g<<7|g>>>25))&(c^e))+d[9]+0x8b44f7af|0,g=e+(c^(f=b+(g<<12|g>>>20))&(b^c))+d[10]+0xffff5bb1|0,g=c+(b^(e=f+(g<<17|g>>>15))&(f^b))+d[11]+0x895cd7be|0,g=b+(f^(c=e+(g<<22|g>>>10))&(e^f))+d[12]+0x6b901122|0,g=f+(e^(b=c+(g<<7|g>>>25))&(c^e))+d[13]+0xfd987193|0,g=e+(c^(f=b+(g<<12|g>>>20))&(b^c))+d[14]+0xa679438e|0,g=c+(b^(e=f+(g<<17|g>>>15))&(f^b))+d[15]+0x49b40821|0,c=e+(g<<22|g>>>10),g=b+(e^f&(c^e))+d[1]+0xf61e2562|0,b=c+(g<<5|g>>>27),g=f+(c^e&(b^c))+d[6]+0xc040b340|0,f=b+(g<<9|g>>>23),g=e+(b^c&(f^b))+d[11]+0x265e5a51|0,e=f+(g<<14|g>>>18),g=c+(f^b&(e^f))+d[0]+0xe9b6c7aa|0,c=e+(g<<20|g>>>12),g=b+(e^f&(c^e))+d[5]+0xd62f105d|0,b=c+(g<<5|g>>>27),g=f+(c^e&(b^c))+d[10]+0x2441453|0,f=b+(g<<9|g>>>23),g=e+(b^c&(f^b))+d[15]+0xd8a1e681|0,e=f+(g<<14|g>>>18),g=c+(f^b&(e^f))+d[4]+0xe7d3fbc8|0,c=e+(g<<20|g>>>12),g=b+(e^f&(c^e))+d[9]+0x21e1cde6|0,b=c+(g<<5|g>>>27),g=f+(c^e&(b^c))+d[14]+0xc33707d6|0,f=b+(g<<9|g>>>23),g=e+(b^c&(f^b))+d[3]+0xf4d50d87|0,e=f+(g<<14|g>>>18),g=c+(f^b&(e^f))+d[8]+0x455a14ed|0,c=e+(g<<20|g>>>12),g=b+(e^f&(c^e))+d[13]+0xa9e3e905|0,b=c+(g<<5|g>>>27),g=f+(c^e&(b^c))+d[2]+0xfcefa3f8|0,f=b+(g<<9|g>>>23),g=e+(b^c&(f^b))+d[7]+0x676f02d9|0,e=f+(g<<14|g>>>18),g=c+(f^b&(e^f))+d[12]+0x8d2a4c8a|0,g=b+((c=e+(g<<20|g>>>12))^e^f)+d[5]+0xfffa3942|0,g=f+((b=c+(g<<4|g>>>28))^c^e)+d[8]+0x8771f681|0,g=e+((f=b+(g<<11|g>>>21))^b^c)+d[11]+0x6d9d6122|0,g=c+((e=f+(g<<16|g>>>16))^f^b)+d[14]+0xfde5380c|0,g=b+((c=e+(g<<23|g>>>9))^e^f)+d[1]+0xa4beea44|0,g=f+((b=c+(g<<4|g>>>28))^c^e)+d[4]+0x4bdecfa9|0,g=e+((f=b+(g<<11|g>>>21))^b^c)+d[7]+0xf6bb4b60|0,g=c+((e=f+(g<<16|g>>>16))^f^b)+d[10]+0xbebfbc70|0,g=b+((c=e+(g<<23|g>>>9))^e^f)+d[13]+0x289b7ec6|0,g=f+((b=c+(g<<4|g>>>28))^c^e)+d[0]+0xeaa127fa|0,g=e+((f=b+(g<<11|g>>>21))^b^c)+d[3]+0xd4ef3085|0,g=c+((e=f+(g<<16|g>>>16))^f^b)+d[6]+0x4881d05|0,g=b+((c=e+(g<<23|g>>>9))^e^f)+d[9]+0xd9d4d039|0,g=f+((b=c+(g<<4|g>>>28))^c^e)+d[12]+0xe6db99e5|0,g=e+((f=b+(g<<11|g>>>21))^b^c)+d[15]+0x1fa27cf8|0,g=c+((e=f+(g<<16|g>>>16))^f^b)+d[2]+0xc4ac5665|0,c=e+(g<<23|g>>>9),g=b+(e^(c|~f))+d[0]+0xf4292244|0,b=c+(g<<6|g>>>26),g=f+(c^(b|~e))+d[7]+0x432aff97|0,f=b+(g<<10|g>>>22),g=e+(b^(f|~c))+d[14]+0xab9423a7|0,e=f+(g<<15|g>>>17),g=c+(f^(e|~b))+d[5]+0xfc93a039|0,c=e+(g<<21|g>>>11),g=b+(e^(c|~f))+d[12]+0x655b59c3|0,b=c+(g<<6|g>>>26),g=f+(c^(b|~e))+d[3]+0x8f0ccc92|0,f=b+(g<<10|g>>>22),g=e+(b^(f|~c))+d[10]+0xffeff47d|0,e=f+(g<<15|g>>>17),g=c+(f^(e|~b))+d[1]+0x85845dd1|0,c=e+(g<<21|g>>>11),g=b+(e^(c|~f))+d[8]+0x6fa87e4f|0,b=c+(g<<6|g>>>26),g=f+(c^(b|~e))+d[15]+0xfe2ce6e0|0,f=b+(g<<10|g>>>22),g=e+(b^(f|~c))+d[6]+0xa3014314|0,e=f+(g<<15|g>>>17),g=c+(f^(e|~b))+d[13]+0x4e0811a1|0,c=e+(g<<21|g>>>11),g=b+(e^(c|~f))+d[4]+0xf7537e82|0,b=c+(g<<6|g>>>26),g=f+(c^(b|~e))+d[11]+0xbd3af235|0,f=b+(g<<10|g>>>22),g=e+(b^(f|~c))+d[2]+0x2ad7d2bb|0,e=f+(g<<15|g>>>17),g=c+(f^(e|~b))+d[9]+0xeb86d391|0,a.g[0]=a.g[0]+b|0,a.g[1]=a.g[1]+(e+(g<<21|g>>>11))|0,a.g[2]=a.g[2]+e|0,a.g[3]=a.g[3]+f|0}function c(a,b){var c=f;return Object.prototype.hasOwnProperty.call(c,a)?c[a]:c[a]=b(a)}function d(a,b){this.h=b;let c=[],d=!0;for(let e=a.length-1;e>=0;e--){let f=0|a[e];d&&f==b||(c[e]=f,d=!1)}this.g=c}(function(a,b){function c(){}c.prototype=b.prototype,a.F=b.prototype,a.prototype=new c,a.prototype.constructor=a,a.D=function(a,c,d){for(var e=Array(arguments.length-2),f=2;f<arguments.length;f++)e[f-2]=arguments[f];return b.prototype[c].apply(a,e)}})(a,function(){this.blockSize=-1}),a.prototype.u=function(){this.g[0]=0x67452301,this.g[1]=0xefcdab89,this.g[2]=0x98badcfe,this.g[3]=0x10325476,this.o=this.h=0},a.prototype.v=function(a,c){void 0===c&&(c=a.length);let d=c-this.blockSize,e=this.C,f=this.h,g=0;for(;g<c;){if(0==f)for(;g<=d;)b(this,a,g),g+=this.blockSize;if("string"==typeof a){for(;g<c;)if(e[f++]=a.charCodeAt(g++),f==this.blockSize){b(this,e),f=0;break}}else for(;g<c;)if(e[f++]=a[g++],f==this.blockSize){b(this,e),f=0;break}}this.h=f,this.o+=c},a.prototype.A=function(){var a=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);a[0]=128;for(var b=1;b<a.length-8;++b)a[b]=0;b=8*this.o;for(var c=a.length-8;c<a.length;++c)a[c]=255&b,b/=256;for(this.v(a),a=Array(16),b=0,c=0;c<4;++c)for(let d=0;d<32;d+=8)a[b++]=this.g[c]>>>d&255;return a};var e,f={};function g(a){return -128<=a&&a<128?c(a,function(a){return new d([0|a],a<0?-1:0)}):new d([0|a],a<0?-1:0)}function h(a){if(isNaN(a)||!isFinite(a))return j;if(a<0)return o(h(-a));let b=[],c=1;for(let d=0;a>=c;d++)b[d]=a/c|0,c*=0x100000000;return new d(b,0)}function i(a,b){if(0==a.length)throw Error("number format error: empty string");if((b=b||10)<2||36<b)throw Error("radix out of range: "+b);if("-"==a.charAt(0))return o(i(a.substring(1),b));if(a.indexOf("-")>=0)throw Error('number format error: interior "-" character');let c=h(Math.pow(b,8)),d=j;for(let f=0;f<a.length;f+=8){var e=Math.min(8,a.length-f);let g=parseInt(a.substring(f,f+e),b);e<8?(e=h(Math.pow(b,e)),d=d.j(e).add(h(g))):d=(d=d.j(c)).add(h(g))}return d}var j=g(0),k=g(1),l=g(0x1000000);function m(a){if(0!=a.h)return!1;for(let b=0;b<a.g.length;b++)if(0!=a.g[b])return!1;return!0}function n(a){return -1==a.h}function o(a){let b=a.g.length,c=[];for(let d=0;d<b;d++)c[d]=~a.g[d];return new d(c,~a.h).add(k)}function p(a,b){return a.add(o(b))}function q(a,b){for(;(65535&a[b])!=a[b];)a[b+1]+=a[b]>>>16,a[b]&=65535,b++}function r(a,b){this.g=a,this.h=b}function s(a,b){if(m(b))throw Error("division by zero");if(m(a))return new r(j,j);if(n(a))return b=s(o(a),b),new r(o(b.g),o(b.h));if(n(b))return b=s(a,o(b)),new r(o(b.g),b.h);if(a.g.length>30){if(n(a)||n(b))throw Error("slowDivide_ only works with positive integers.");for(var c=k,d=b;0>=d.l(a);)c=t(c),d=t(d);var e=u(c,1),f=u(d,1);for(d=u(d,2),c=u(c,2);!m(d);){var g=f.add(d);0>=g.l(a)&&(e=e.add(c),f=g),d=u(d,1),c=u(c,1)}return b=p(a,e.j(b)),new r(e,b)}for(e=j;a.l(b)>=0;){for(d=(d=Math.ceil(Math.log(c=Math.max(1,Math.floor(a.m()/b.m())))/Math.LN2))<=48?1:Math.pow(2,d-48),g=(f=h(c)).j(b);n(g)||g.l(a)>0;)c-=d,g=(f=h(c)).j(b);m(f)&&(f=k),e=e.add(f),a=p(a,g)}return new r(e,a)}function t(a){let b=a.g.length+1,c=[];for(let d=0;d<b;d++)c[d]=a.i(d)<<1|a.i(d-1)>>>31;return new d(c,a.h)}function u(a,b){let c=b>>5;b%=32;let e=a.g.length-c,f=[];for(let d=0;d<e;d++)f[d]=b>0?a.i(d+c)>>>b|a.i(d+c+1)<<32-b:a.i(d+c);return new d(f,a.h)}(e=d.prototype).m=function(){if(n(this))return-o(this).m();let a=0,b=1;for(let c=0;c<this.g.length;c++){let d=this.i(c);a+=(d>=0?d:0x100000000+d)*b,b*=0x100000000}return a},e.toString=function(a){if((a=a||10)<2||36<a)throw Error("radix out of range: "+a);if(m(this))return"0";if(n(this))return"-"+o(this).toString(a);let b=h(Math.pow(a,6));var c=this;let d="";for(;;){let e=s(c,b).g,f=(((c=p(c,e.j(b))).g.length>0?c.g[0]:c.h)>>>0).toString(a);if(m(c=e))return f+d;for(;f.length<6;)f="0"+f;d=f+d}},e.i=function(a){return a<0?0:a<this.g.length?this.g[a]:this.h},e.l=function(a){return n(a=p(this,a))?-1:+!m(a)},e.abs=function(){return n(this)?o(this):this},e.add=function(a){let b=Math.max(this.g.length,a.g.length),c=[],e=0;for(let d=0;d<=b;d++){let b=e+(65535&this.i(d))+(65535&a.i(d)),f=(b>>>16)+(this.i(d)>>>16)+(a.i(d)>>>16);e=f>>>16,b&=65535,f&=65535,c[d]=f<<16|b}return new d(c,-0x80000000&c[c.length-1]?-1:0)},e.j=function(a){if(m(this)||m(a))return j;if(n(this))return n(a)?o(this).j(o(a)):o(o(this).j(a));if(n(a))return o(this.j(o(a)));if(0>this.l(l)&&0>a.l(l))return h(this.m()*a.m());let b=this.g.length+a.g.length,c=[];for(var e=0;e<2*b;e++)c[e]=0;for(e=0;e<this.g.length;e++)for(let b=0;b<a.g.length;b++){let d=this.i(e)>>>16,f=65535&this.i(e),g=a.i(b)>>>16,h=65535&a.i(b);c[2*e+2*b]+=f*h,q(c,2*e+2*b),c[2*e+2*b+1]+=d*h,q(c,2*e+2*b+1),c[2*e+2*b+1]+=f*g,q(c,2*e+2*b+1),c[2*e+2*b+2]+=d*g,q(c,2*e+2*b+2)}for(a=0;a<b;a++)c[a]=c[2*a+1]<<16|c[2*a];for(a=b;a<2*b;a++)c[a]=0;return new d(c,0)},e.B=function(a){return s(this,a).h},e.and=function(a){let b=Math.max(this.g.length,a.g.length),c=[];for(let d=0;d<b;d++)c[d]=this.i(d)&a.i(d);return new d(c,this.h&a.h)},e.or=function(a){let b=Math.max(this.g.length,a.g.length),c=[];for(let d=0;d<b;d++)c[d]=this.i(d)|a.i(d);return new d(c,this.h|a.h)},e.xor=function(a){let b=Math.max(this.g.length,a.g.length),c=[];for(let d=0;d<b;d++)c[d]=this.i(d)^a.i(d);return new d(c,this.h^a.h)},a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,bj=bn.Md5=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=h,d.fromString=i,bi=bn.Integer=d}).apply(void 0!==bm?bm:"u">typeof self?self:{});var bo=a.i(24361),bp=a.i(54799),bq=a.i(83015),br=a.i(79163);class bs{constructor(a){this.uid=a}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(a){return a.uid===this.uid}}bs.UNAUTHENTICATED=new bs(null),bs.GOOGLE_CREDENTIALS=new bs("google-credentials-uid"),bs.FIRST_PARTY=new bs("first-party-uid"),bs.MOCK_USER=new bs("mock-user");let bt="12.8.0";function bu(a){bt=a}function bv(a){return(0,bo.inspect)(a,{depth:100})}let bw=new $("@firebase/firestore");function bx(){return bw.logLevel}function by(a,...b){if(bw.logLevel<=bh.DEBUG){let c=b.map(bB);bw.debug(`Firestore (${bt}): ${a}`,...c)}}function bz(a,...b){if(bw.logLevel<=bh.ERROR){let c=b.map(bB);bw.error(`Firestore (${bt}): ${a}`,...c)}}function bA(a,...b){if(bw.logLevel<=bh.WARN){let c=b.map(bB);bw.warn(`Firestore (${bt}): ${a}`,...c)}}function bB(a){if("string"==typeof a)return a;try{return bv(a)}catch(b){return a}}function bC(a,b,c){let d="Unexpected state";"string"==typeof b?d=b:c=b,bD(a,d,c)}function bD(a,b,c){let d=`FIRESTORE (${bt}) INTERNAL ASSERTION FAILED: ${b} (ID: ${a.toString(16)})`;if(void 0!==c)try{let a=JSON.stringify(c);d+=" CONTEXT: "+a}catch(a){d+=" CONTEXT: "+c}throw bz(d),Error(d)}function bE(a,b,c,d){let e="Unexpected state";"string"==typeof c?e=c:d=c,a||bD(b,e,d)}function bF(a,b){return a}let bG="ok",bH="cancelled",bI="unknown",bJ="invalid-argument",bK="deadline-exceeded",bL="not-found",bM="already-exists",bN="permission-denied",bO="unauthenticated",bP="resource-exhausted",bQ="failed-precondition",bR="aborted",bS="out-of-range",bT="unimplemented",bU="internal",bV="unavailable",bW="data-loss";class bX extends I{constructor(a,b){super(a,b),this.code=a,this.message=b,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class bY{constructor(){this.promise=new Promise((a,b)=>{this.resolve=a,this.reject=b})}}class bZ{constructor(a,b){this.user=b,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${a}`)}}class b${getToken(){return Promise.resolve(null)}invalidateToken(){}start(a,b){a.enqueueRetryable(()=>b(bs.UNAUTHENTICATED))}shutdown(){}}class b_{constructor(a){this.token=a,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(a,b){this.changeListener=b,a.enqueueRetryable(()=>b(this.token.user))}shutdown(){this.changeListener=null}}class b0{constructor(a){this.authProvider=a,this.currentUser=bs.UNAUTHENTICATED,this.tokenCounter=0,this.forceRefresh=!1,this.auth=null}start(a,b){bE(void 0===this.tokenListener,42304);let c=this.tokenCounter,d=a=>this.tokenCounter!==c?(c=this.tokenCounter,b(a)):Promise.resolve(),e=new bY;this.tokenListener=()=>{this.tokenCounter++,this.currentUser=this.getUser(),e.resolve(),e=new bY,a.enqueueRetryable(()=>d(this.currentUser))};let f=()=>{let b=e;a.enqueueRetryable(async()=>{await b.promise,await d(this.currentUser)})},g=a=>{by("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=a,this.tokenListener&&(this.auth.addAuthTokenListener(this.tokenListener),f())};this.authProvider.onInit(a=>g(a)),setTimeout(()=>{if(!this.auth){let a=this.authProvider.getImmediate({optional:!0});a?g(a):(by("FirebaseAuthCredentialsProvider","Auth not yet detected"),e.resolve(),e=new bY)}},0),f()}getToken(){let a=this.tokenCounter,b=this.forceRefresh;return(this.forceRefresh=!1,this.auth)?this.auth.getToken(b).then(b=>this.tokenCounter!==a?(by("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):b?(bE("string"==typeof b.accessToken,31837,{tokenData:b}),new bZ(b.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.tokenListener&&this.auth.removeAuthTokenListener(this.tokenListener),this.tokenListener=void 0}getUser(){let a=this.auth&&this.auth.getUid();return bE(null===a||"string"==typeof a,2055,{currentUid:a}),new bs(a)}}class b1{constructor(a,b,c){this.sessionIndex=a,this.iamToken=b,this.authTokenFactory=c,this.type="FirstParty",this.user=bs.FIRST_PARTY,this._headers=new Map}getAuthToken(){return this.authTokenFactory?this.authTokenFactory():null}get headers(){this._headers.set("X-Goog-AuthUser",this.sessionIndex);let a=this.getAuthToken();return a&&this._headers.set("Authorization",a),this.iamToken&&this._headers.set("X-Goog-Iam-Authorization-Token",this.iamToken),this._headers}}class b2{constructor(a,b,c){this.sessionIndex=a,this.iamToken=b,this.authTokenFactory=c}getToken(){return Promise.resolve(new b1(this.sessionIndex,this.iamToken,this.authTokenFactory))}start(a,b){a.enqueueRetryable(()=>b(bs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class b3{constructor(a){this.value=a,this.type="AppCheck",this.headers=new Map,a&&a.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class b4{constructor(a,b){this.appCheckProvider=b,this.forceRefresh=!1,this.appCheck=null,this.latestAppCheckToken=null,this.serverAppAppCheckToken=null,aO(a)&&a.settings.appCheckToken&&(this.serverAppAppCheckToken=a.settings.appCheckToken)}start(a,b){bE(void 0===this.tokenListener,3512);let c=a=>{null!=a.error&&by("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);let c=a.token!==this.latestAppCheckToken;return this.latestAppCheckToken=a.token,by("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?b(a.token):Promise.resolve()};this.tokenListener=b=>{a.enqueueRetryable(()=>c(b))};let d=a=>{by("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.tokenListener&&this.appCheck.addTokenListener(this.tokenListener)};this.appCheckProvider.onInit(a=>d(a)),setTimeout(()=>{if(!this.appCheck){let a=this.appCheckProvider.getImmediate({optional:!0});a?d(a):by("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.serverAppAppCheckToken)return Promise.resolve(new b3(this.serverAppAppCheckToken));let a=this.forceRefresh;return(this.forceRefresh=!1,this.appCheck)?this.appCheck.getToken(a).then(a=>a?(bE("string"==typeof a.token,44558,{tokenResult:a}),this.latestAppCheckToken=a.token,new b3(a.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.tokenListener&&this.appCheck.removeTokenListener(this.tokenListener),this.tokenListener=void 0}}function b5(a){if(!a)return new b$;switch(a.type){case"firstParty":return new b2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new bX(bJ,"makeAuthCredentialsProvider failed due to invalid credential type")}}function b6(a){return(0,bp.randomBytes)(a)}class b7{static newId(){let a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",b=Math.floor(256/a.length)*a.length,c="",d=20;for(;c.length<d;){let e=b6(40);for(let f=0;f<e.length;++f)c.length<d&&e[f]<b&&(c+=a.charAt(e[f]%a.length))}return c}}function b8(a,b){return a<b?-1:+(a>b)}function b9(a,b){let c=Math.min(a.length,b.length);for(let d=0;d<c;d++){let c=a.charAt(d),e=b.charAt(d);if(c!==e)return cc(c)===cc(e)?b8(c,e):cc(c)?1:-1}return b8(a.length,b.length)}let ca=55296,cb=57343;function cc(a){let b=a.charCodeAt(0);return b>=ca&&b<=cb}function cd(a,b,c){return a.length===b.length&&a.every((a,d)=>c(a,b[d]))}function ce(a){return a+"\0"}let cf="__name__";class cg{constructor(a,b,c){void 0===b?b=0:b>a.length&&bC(637,{offset:b,range:a.length}),void 0===c?c=a.length-b:c>a.length-b&&bC(1746,{length:c,range:a.length-b}),this.segments=a,this.offset=b,this.len=c}get length(){return this.len}isEqual(a){return 0===cg.comparator(this,a)}child(a){let b=this.segments.slice(this.offset,this.limit());return a instanceof cg?a.forEach(a=>{b.push(a)}):b.push(a),this.construct(b)}limit(){return this.offset+this.length}popFirst(a){return a=void 0===a?1:a,this.construct(this.segments,this.offset+a,this.length-a)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(a){return this.segments[this.offset+a]}isEmpty(){return 0===this.length}isPrefixOf(a){if(a.length<this.length)return!1;for(let b=0;b<this.length;b++)if(this.get(b)!==a.get(b))return!1;return!0}isImmediateParentOf(a){if(this.length+1!==a.length)return!1;for(let b=0;b<this.length;b++)if(this.get(b)!==a.get(b))return!1;return!0}forEach(a){for(let b=this.offset,c=this.limit();b<c;b++)a(this.segments[b])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(a,b){let c=Math.min(a.length,b.length);for(let d=0;d<c;d++){let c=cg.compareSegments(a.get(d),b.get(d));if(0!==c)return c}return b8(a.length,b.length)}static compareSegments(a,b){let c=cg.isNumericId(a),d=cg.isNumericId(b);return c&&!d?-1:!c&&d?1:c&&d?cg.extractNumericId(a).compare(cg.extractNumericId(b)):b9(a,b)}static isNumericId(a){return a.startsWith("__id")&&a.endsWith("__")}static extractNumericId(a){return bi.fromString(a.substring(4,a.length-2))}}class ch extends cg{construct(a,b,c){return new ch(a,b,c)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...a){let b=[];for(let c of a){if(c.indexOf("//")>=0)throw new bX(bJ,`Invalid segment (${c}). Paths must not contain // in them.`);b.push(...c.split("/").filter(a=>a.length>0))}return new ch(b)}static emptyPath(){return new ch([])}}let ci=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cj extends cg{construct(a,b,c){return new cj(a,b,c)}static isValidIdentifier(a){return ci.test(a)}canonicalString(){return this.toArray().map(a=>(a=a.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cj.isValidIdentifier(a)||(a="`"+a+"`"),a)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===cf}static keyField(){return new cj([cf])}static fromServerFormat(a){let b=[],c="",d=0,e=()=>{if(0===c.length)throw new bX(bJ,`Invalid field path (${a}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);b.push(c),c=""},f=!1;for(;d<a.length;){let b=a[d];if("\\"===b){if(d+1===a.length)throw new bX(bJ,"Path has trailing escape character: "+a);let b=a[d+1];if("\\"!==b&&"."!==b&&"`"!==b)throw new bX(bJ,"Path has invalid escape sequence: "+a);c+=b,d+=2}else"`"===b?f=!f:"."!==b||f?c+=b:e(),d++}if(e(),f)throw new bX(bJ,"Unterminated ` in path: "+a);return new cj(b)}static emptyPath(){return new cj([])}}class ck{constructor(a){this.path=a}static fromPath(a){return new ck(ch.fromString(a))}static fromName(a){return new ck(ch.fromString(a).popFirst(5))}static empty(){return new ck(ch.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(a){return this.path.length>=2&&this.path.get(this.path.length-2)===a}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(a){return null!==a&&0===ch.comparator(this.path,a.path)}toString(){return this.path.toString()}static comparator(a,b){return ch.comparator(a.path,b.path)}static isDocumentKey(a){return a.length%2==0}static fromSegments(a){return new ck(new ch(a.slice()))}}function cl(a,b,c){if(!c)throw new bX(bJ,`Function ${a}() cannot be called with an empty ${b}.`)}function cm(a,b,c,d){if(!0===b&&!0===d)throw new bX(bJ,`${a} and ${c} cannot be used together.`)}function cn(a){if(!ck.isDocumentKey(a))throw new bX(bJ,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function co(a){if(ck.isDocumentKey(a))throw new bX(bJ,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function cp(a){return"object"==typeof a&&null!==a&&(Object.getPrototypeOf(a)===Object.prototype||null===Object.getPrototypeOf(a))}function cq(a){if(void 0===a)return"undefined";if(null===a)return"null";if("string"==typeof a)return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if("number"==typeof a||"boolean"==typeof a)return""+a;if("object"==typeof a)if(a instanceof Array)return"an array";else{let b=cr(a);return b?`a custom ${b} object`:"an object"}else if("function"==typeof a)return"a function";else return bC(12329,{type:typeof a})}function cr(a){return a.constructor?a.constructor.name:null}function cs(a,b){if("_delegate"in a&&(a=a._delegate),!(a instanceof b))if(b.name===a.constructor.name)throw new bX(bJ,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");else{let c=cq(a);throw new bX(bJ,`Expected type '${b.name}', but it was: ${c}`)}return a}function ct(a,b){if(b<=0)throw new bX(bJ,`Function ${a}() requires a positive number, but it was: ${b}.`)}function cu(a,b){let c={typeString:a};return b&&(c.value=b),c}function cv(a,b){let c;if(!cp(a))throw new bX(bJ,"JSON must be an object");for(let d in b)if(b[d]){let e=b[d].typeString,f="value"in b[d]?{value:b[d].value}:void 0;if(!(d in a)){c=`JSON missing required field: '${d}'`;break}let g=a[d];if(e&&typeof g!==e){c=`JSON field '${d}' must be a ${e}.`;break}if(void 0!==f&&g!==f.value){c=`Expected '${d}' field to equal '${f.value}'`;break}}if(c)throw new bX(bJ,c);return!0}let cw=-0xe7791f700,cx=1e6;class cy{static now(){return cy.fromMillis(Date.now())}static fromDate(a){return cy.fromMillis(a.getTime())}static fromMillis(a){let b=Math.floor(a/1e3),c=Math.floor((a-1e3*b)*cx);return new cy(b,c)}constructor(a,b){if(this.seconds=a,this.nanoseconds=b,b<0||b>=1e9)throw new bX(bJ,"Timestamp nanoseconds out of range: "+b);if(a<cw||a>=0x3afff44180)throw new bX(bJ,"Timestamp seconds out of range: "+a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cx}_compareTo(a){return this.seconds===a.seconds?b8(this.nanoseconds,a.nanoseconds):b8(this.seconds,a.seconds)}isEqual(a){return a.seconds===this.seconds&&a.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:cy._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(a){if(cv(a,cy._jsonSchema))return new cy(a.seconds,a.nanoseconds)}valueOf(){return String(this.seconds-cw).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}cy._jsonSchemaVersion="firestore/timestamp/1.0",cy._jsonSchema={type:cu("string",cy._jsonSchemaVersion),seconds:cu("number"),nanoseconds:cu("number")};class cz{static fromTimestamp(a){return new cz(a)}static min(){return new cz(new cy(0,0))}static max(){return new cz(new cy(0x3afff4417f,1e9-1))}constructor(a){this.timestamp=a}compareTo(a){return this.timestamp._compareTo(a.timestamp)}isEqual(a){return this.timestamp.isEqual(a.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}let cA=-1,cB=0;class cC{constructor(a,b,c,d){this.indexId=a,this.collectionGroup=b,this.fields=c,this.indexState=d}}function cD(a){return a.fields.find(a=>2===a.kind)}function cE(a){return a.fields.filter(a=>2!==a.kind)}function cF(a){let b=cE(a);return 0===b.length?0:b[b.length-1].kind}function cG(a,b){let c=b8(a.collectionGroup,b.collectionGroup);if(0!==c)return c;for(let d=0;d<Math.min(a.fields.length,b.fields.length);++d)if(0!==(c=cJ(a.fields[d],b.fields[d])))return c;return b8(a.fields.length,b.fields.length)}function cH(a){return`id=${a.indexId}|cg=${a.collectionGroup}|f=${a.fields.map(a=>`${a.fieldPath}:${a.kind}`).join(",")}`}cC.UNKNOWN_ID=-1;class cI{constructor(a,b){this.fieldPath=a,this.kind=b}}function cJ(a,b){let c=cj.comparator(a.fieldPath,b.fieldPath);return 0!==c?c:b8(a.kind,b.kind)}class cK{constructor(a,b){this.sequenceNumber=a,this.offset=b}static empty(){return new cK(cB,cN.min())}}function cL(a,b){let c=a.toTimestamp().seconds,d=a.toTimestamp().nanoseconds+1;return new cN(cz.fromTimestamp(1e9===d?new cy(c+1,0):new cy(c,d)),ck.empty(),b)}function cM(a){return new cN(a.readTime,a.key,cA)}class cN{constructor(a,b,c){this.readTime=a,this.documentKey=b,this.largestBatchId=c}static min(){return new cN(cz.min(),ck.empty(),cA)}static max(){return new cN(cz.max(),ck.empty(),cA)}}function cO(a,b){let c=a.readTime.compareTo(b.readTime);return 0!==c||0!==(c=ck.comparator(a.documentKey,b.documentKey))?c:b8(a.largestBatchId,b.largestBatchId)}let cP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cQ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(a){this.onCommittedListeners.push(a)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(a=>a())}}async function cR(a){if(a.code===bQ&&a.message===cP)by("LocalStore","Unexpectedly lost primary lease");else throw a}class cS{constructor(a){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,a(a=>{this.isDone=!0,this.result=a,this.nextCallback&&this.nextCallback(a)},a=>{this.isDone=!0,this.error=a,this.catchCallback&&this.catchCallback(a)})}catch(a){return this.next(void 0,a)}next(a,b){return(this.callbackAttached&&bC(59440),this.callbackAttached=!0,this.isDone)?this.error?this.wrapFailure(b,this.error):this.wrapSuccess(a,this.result):new cS((c,d)=>{this.nextCallback=b=>{this.wrapSuccess(a,b).next(c,d)},this.catchCallback=a=>{this.wrapFailure(b,a).next(c,d)}})}toPromise(){return new Promise((a,b)=>{this.next(a,b)})}wrapUserFunction(a){try{let b=a();if(b instanceof cS)return b;return cS.resolve(b)}catch(a){return cS.reject(a)}}wrapSuccess(a,b){return a?this.wrapUserFunction(()=>a(b)):cS.resolve(b)}wrapFailure(a,b){return a?this.wrapUserFunction(()=>a(b)):cS.reject(b)}static resolve(a){return new cS((b,c)=>{b(a)})}static reject(a){return new cS((b,c)=>{c(a)})}static waitFor(a){return new cS((b,c)=>{let d=0,e=0,f=!1;a.forEach(a=>{++d,a.next(()=>{++e,f&&e===d&&b()},a=>c(a))}),f=!0,e===d&&b()})}static or(a){let b=cS.resolve(!1);for(let c of a)b=b.next(a=>a?cS.resolve(a):c());return b}static forEach(a,b){let c=[];return a.forEach((a,d)=>{c.push(b.call(this,a,d))}),this.waitFor(c)}static mapArray(a,b){return new cS((c,d)=>{let e=a.length,f=Array(e),g=0;for(let h=0;h<e;h++){let i=h;b(a[i]).next(a=>{f[i]=a,++g===e&&c(f)},a=>d(a))}})}static doWhile(a,b){return new cS((c,d)=>{let e=()=>{!0===a()?b().next(()=>{e()},d):c()};e()})}}let cT="SimpleDb",cU=3;class cV{static open(a,b,c,d){try{return new cV(b,a.transaction(d,c))}catch(a){throw new cZ(b,a)}}constructor(a,b){this.action=a,this.transaction=b,this.aborted=!1,this.completionDeferred=new bY,this.transaction.oncomplete=()=>{this.completionDeferred.resolve()},this.transaction.onabort=()=>{b.error?this.completionDeferred.reject(new cZ(a,b.error)):this.completionDeferred.resolve()},this.transaction.onerror=b=>{let c=c2(b.target.error);this.completionDeferred.reject(new cZ(a,c))}}get completionPromise(){return this.completionDeferred.promise}abort(a){a&&this.completionDeferred.reject(a),this.aborted||(by(cT,"Aborting transaction:",a?a.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}maybeCommit(){let a=this.transaction;this.aborted||"function"!=typeof a.commit||a.commit()}store(a){return new c_(this.transaction.objectStore(a))}}class cW{static delete(a){return by(cT,"Removing database:",a),c0(m().indexedDB.deleteDatabase(a)).toPromise()}static isAvailable(){if(!F())return!1;if(cW.isMockPersistence())return!0;let a=z(),b=cW.getIOSVersion(a),c=0<b&&b<10,d=cX(a),e=0<d&&d<4.5;return!(a.indexOf("MSIE ")>0||a.indexOf("Trident/")>0||a.indexOf("Edge/")>0)&&!c&&!e}static isMockPersistence(){return"u">typeof process&&process.env?.USE_MOCK_PERSISTENCE==="YES"}static getStore(a,b){return a.store(b)}static getIOSVersion(a){let b=a.match(/i(?:phone|pad|pod) os ([\d_]+)/i);return Number(b?b[1].split("_").slice(0,2).join("."):"-1")}constructor(a,b,c){this.name=a,this.version=b,this.schemaConverter=c,this.lastClosedDbVersion=null,12.2===cW.getIOSVersion(z())&&bz("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async ensureDb(a){return this.db||(by(cT,"Opening database:",this.name),this.db=await new Promise((b,c)=>{let d=indexedDB.open(this.name,this.version);d.onsuccess=a=>{b(a.target.result)},d.onblocked=()=>{c(new cZ(a,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=b=>{let d=b.target.error;"VersionError"===d.name?c(new bX(bQ,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===d.name?c(new bX(bQ,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+d)):c(new cZ(a,d))},d.onupgradeneeded=a=>{by(cT,'Database "'+this.name+'" requires upgrade from version:',a.oldVersion);let b=a.target.result;this.schemaConverter.createOrUpgrade(b,d.transaction,a.oldVersion,this.version).next(()=>{by(cT,"Database upgrade to version "+this.version+" complete")})}})),this.versionchangelistener&&(this.db.onversionchange=a=>this.versionchangelistener(a)),this.db}setVersionChangeListener(a){this.versionchangelistener=a,this.db&&(this.db.onversionchange=b=>a(b))}async runTransaction(a,b,c,d){let e="readonly"===b,f=0;for(;;){++f;try{this.db=await this.ensureDb(a);let b=cV.open(this.db,a,e?"readonly":"readwrite",c),f=d(b).next(a=>(b.maybeCommit(),a)).catch(a=>(b.abort(a),cS.reject(a))).toPromise();return f.catch(()=>{}),await b.completionPromise,f}catch(c){let a=c,b="FirebaseError"!==a.name&&f<cU;if(by(cT,"Transaction failed with error:",a.message,"Retrying:",b),this.close(),!b)return Promise.reject(a)}}}close(){this.db&&this.db.close(),this.db=void 0}}function cX(a){let b=a.match(/Android ([\d.]+)/i);return Number(b?b[1].split(".").slice(0,2).join("."):"-1")}class cY{constructor(a){this.dbCursor=a,this.shouldStop=!1,this.nextKey=null}get isDone(){return this.shouldStop}get skipToKey(){return this.nextKey}set cursor(a){this.dbCursor=a}done(){this.shouldStop=!0}skip(a){this.nextKey=a}delete(){return c0(this.dbCursor.delete())}}class cZ extends bX{constructor(a,b){super(bV,`IndexedDB transaction '${a}' failed: ${b}`),this.name="IndexedDbTransactionError"}}function c$(a){return"IndexedDbTransactionError"===a.name}class c_{constructor(a){this.store=a}put(a,b){let c;return void 0!==b?(by(cT,"PUT",this.store.name,a,b),c=this.store.put(b,a)):(by(cT,"PUT",this.store.name,"<auto-key>",a),c=this.store.put(a)),c0(c)}add(a){return by(cT,"ADD",this.store.name,a,a),c0(this.store.add(a))}get(a){return c0(this.store.get(a)).next(b=>(void 0===b&&(b=null),by(cT,"GET",this.store.name,a,b),b))}delete(a){return by(cT,"DELETE",this.store.name,a),c0(this.store.delete(a))}count(){return by(cT,"COUNT",this.store.name),c0(this.store.count())}loadAll(a,b){let c=this.options(a,b),d=c.index?this.store.index(c.index):this.store;if("function"==typeof d.getAll){let a=d.getAll(c.range);return new cS((b,c)=>{a.onerror=a=>{c(a.target.error)},a.onsuccess=a=>{b(a.target.result)}})}{let a=this.cursor(c),b=[];return this.iterateCursor(a,(a,c)=>{b.push(c)}).next(()=>b)}}loadFirst(a,b){let c=this.store.getAll(a,null===b?void 0:b);return new cS((a,b)=>{c.onerror=a=>{b(a.target.error)},c.onsuccess=b=>{a(b.target.result)}})}deleteAll(a,b){by(cT,"DELETE ALL",this.store.name);let c=this.options(a,b);c.keysOnly=!1;let d=this.cursor(c);return this.iterateCursor(d,(a,b,c)=>c.delete())}iterate(a,b){let c;b?c=a:(c={},b=a);let d=this.cursor(c);return this.iterateCursor(d,b)}iterateSerial(a){let b=this.cursor({});return new cS((c,d)=>{b.onerror=a=>{d(c2(a.target.error))},b.onsuccess=b=>{let d=b.target.result;d?a(d.primaryKey,d.value).next(a=>{a?d.continue():c()}):c()}})}iterateCursor(a,b){let c=[];return new cS((d,e)=>{a.onerror=a=>{e(a.target.error)},a.onsuccess=a=>{let e=a.target.result;if(!e)return void d();let f=new cY(e),g=b(e.primaryKey,e.value,f);if(g instanceof cS){let a=g.catch(a=>(f.done(),cS.reject(a)));c.push(a)}f.isDone?d():null===f.skipToKey?e.continue():e.continue(f.skipToKey)}}).next(()=>cS.waitFor(c))}options(a,b){let c;return void 0!==a&&("string"==typeof a?c=a:b=a),{index:c,range:b}}cursor(a){let b="next";if(a.reverse&&(b="prev"),!a.index)return this.store.openCursor(a.range,b);{let c=this.store.index(a.index);return a.keysOnly?c.openKeyCursor(a.range,b):c.openCursor(a.range,b)}}}function c0(a){return new cS((b,c)=>{a.onsuccess=a=>{b(a.target.result)},a.onerror=a=>{c(c2(a.target.error))}})}let c1=!1;function c2(a){let b=cW.getIOSVersion(z());if(b>=12.2&&b<13){let b="An internal error was encountered in the Indexed Database server";if(a.message.indexOf(b)>=0){let a=new bX("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${b}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return c1||(c1=!0,setTimeout(()=>{throw a},0)),a}}return a}let c3="IndexBackfiller",c4=15e3,c5=6e4,c6=50;class c7{constructor(a,b){this.asyncQueue=a,this.backfiller=b,this.task=null}start(){this.schedule(c4)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}schedule(a){by(c3,`Scheduled in ${a}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",a,async()=>{this.task=null;try{let a=await this.backfiller.backfill();by(c3,`Documents written: ${a}`)}catch(a){c$(a)?by(c3,"Ignoring IndexedDB error during index backfill: ",a):await cR(a)}await this.schedule(c5)})}}class c8{constructor(a,b){this.localStore=a,this.persistence=b}async backfill(a=c6){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",b=>this.writeIndexEntries(b,a))}writeIndexEntries(a,b){let c=new Set,d=b,e=!0;return cS.doWhile(()=>!0===e&&d>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(a).next(b=>{if(!(null===b||c.has(b)))return by(c3,`Processing collection: ${b}`),this.writeEntriesForCollectionGroup(a,b,d).next(a=>{d-=a,c.add(b)});e=!1})).next(()=>b-d)}writeEntriesForCollectionGroup(a,b,c){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(a,b).next(d=>this.localStore.localDocuments.getNextDocuments(a,b,d,c).next(c=>{let e=c.changes;return this.localStore.indexManager.updateIndexEntries(a,e).next(()=>this.getNewOffset(d,c)).next(c=>(by(c3,`Updating offset: ${c}`),this.localStore.indexManager.updateCollectionGroup(a,b,c))).next(()=>e.size)}))}getNewOffset(a,b){let c=a;return b.changes.forEach((a,b)=>{let d=cM(b);cO(d,c)>0&&(c=d)}),new cN(c.readTime,c.documentKey,Math.max(b.batchId,a.largestBatchId))}}class c9{constructor(a,b){this.previousValue=a,b&&(b.sequenceNumberHandler=a=>this.setPreviousValue(a),this.writeNewSequenceNumber=a=>b.writeSequenceNumber(a))}setPreviousValue(a){return this.previousValue=Math.max(a,this.previousValue),this.previousValue}next(){let a=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(a),a}}c9.INVALID=-1;let da="\x01",db="\x01",dc="\x10",dd="\x11";function de(a){let b="";for(let c=0;c<a.length;c++)b.length>0&&(b=dg(b)),b=df(a.get(c),b);return dg(b)}function df(a,b){let c=b,d=a.length;for(let b=0;b<d;b++){let d=a.charAt(b);switch(d){case"\0":c+=da+dc;break;case da:c+=da+dd;break;default:c+=d}}return c}function dg(a){return a+da+db}function dh(a){let b=a.length;if(bE(b>=2,64408,{path:a}),2===b)return bE(a.charAt(0)===da&&a.charAt(1)===db,56145,{path:a}),ch.emptyPath();let c=b-2,d=[],e="";for(let f=0;f<b;){let b=a.indexOf(da,f);switch((b<0||b>c)&&bC(50515,{path:a}),a.charAt(b+1)){case db:let g,h=a.substring(f,b);0===e.length?g=h:(e+=h,g=e,e=""),d.push(g);break;case dc:e+=a.substring(f,b),e+="\0";break;case dd:e+=a.substring(f,b+1);break;default:bC(61167,{path:a})}f=b+2}return new ch(d)}let di="remoteDocuments",dj="owner",dk="owner",dl="mutationQueues",dm="userId",dn="mutations",dp="batchId",dq="userMutationsIndex",dr=["userId","batchId"];function ds(a){return[a]}function dt(a,b){return[a,de(b)]}function du(a,b,c){return[a,de(b),c]}let dv={},dw="documentMutations",dx="remoteDocumentsV14",dy=["prefixPath","collectionGroup","readTime","documentId"],dz="documentKeyIndex",dA=["prefixPath","collectionGroup","documentId"],dB="collectionGroupIndex",dC=["collectionGroup","readTime","prefixPath","documentId"],dD="remoteDocumentGlobal",dE="remoteDocumentGlobalKey",dF="targets",dG="targetId",dH="queryTargetsIndex",dI=["canonicalId","targetId"],dJ="targetDocuments",dK=["targetId","path"],dL="documentTargetsIndex",dM=["path","targetId"],dN="targetGlobalKey",dO="targetGlobal",dP="collectionParents",dQ=["collectionId","parent"],dR="clientMetadata",dS="clientId",dT="bundles",dU="bundleId",dV="namedQueries",dW="name",dX="indexConfiguration",dY="indexId",dZ="collectionGroupIndex",d$="collectionGroup",d_="indexState",d0=["indexId","uid"],d1="sequenceNumberIndex",d2=["uid","sequenceNumber"],d3="indexEntries",d4=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],d5="documentKeyIndex",d6=["indexId","uid","orderedDocumentKey"],d7="documentOverlays",d8=["userId","collectionPath","documentId"],d9="collectionPathOverlayIndex",ea=["userId","collectionPath","largestBatchId"],eb="collectionGroupOverlayIndex",ec=["userId","collectionGroup","largestBatchId"],ed="globals",ee="name",ef=[dl,dn,dw,di,dF,dj,dO,dJ,dR,dD,dP,dT,dV],eg=[...ef,d7],eh=[dl,dn,dw,dx,dF,dj,dO,dJ,dR,dD,dP,dT,dV,d7],ei=eh,ej=[...ei,dX,d_,d3],ek=ej,el=[...ej,ed],em=el;function en(a){return 18===a?em:17===a?el:16===a?ek:15===a?ej:14===a?ei:13===a?eh:12===a?eg:11===a?ef:void bC(60245)}class eo extends cQ{constructor(a,b){super(),this.simpleDbTransaction=a,this.currentSequenceNumber=b}}function ep(a,b){let c=bF(a);return cW.getStore(c.simpleDbTransaction,b)}function eq(a){let b=0;for(let c in a)Object.prototype.hasOwnProperty.call(a,c)&&b++;return b}function er(a,b){for(let c in a)Object.prototype.hasOwnProperty.call(a,c)&&b(c,a[c])}function es(a,b){let c=[];for(let d in a)Object.prototype.hasOwnProperty.call(a,d)&&c.push(b(a[d],d,a));return c}function et(a){for(let b in a)if(Object.prototype.hasOwnProperty.call(a,b))return!1;return!0}class eu{constructor(a,b){this.comparator=a,this.root=b||ew.EMPTY}insert(a,b){return new eu(this.comparator,this.root.insert(a,b,this.comparator).copy(null,null,ew.BLACK,null,null))}remove(a){return new eu(this.comparator,this.root.remove(a,this.comparator).copy(null,null,ew.BLACK,null,null))}get(a){let b=this.root;for(;!b.isEmpty();){let c=this.comparator(a,b.key);if(0===c)return b.value;c<0?b=b.left:c>0&&(b=b.right)}return null}indexOf(a){let b=0,c=this.root;for(;!c.isEmpty();){let d=this.comparator(a,c.key);if(0===d)return b+c.left.size;d<0?c=c.left:(b+=c.left.size+1,c=c.right)}return -1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(a){return this.root.inorderTraversal(a)}forEach(a){this.inorderTraversal((b,c)=>(a(b,c),!1))}toString(){let a=[];return this.inorderTraversal((b,c)=>(a.push(`${b}:${c}`),!1)),`{${a.join(", ")}}`}reverseTraversal(a){return this.root.reverseTraversal(a)}getIterator(){return new ev(this.root,null,this.comparator,!1)}getIteratorFrom(a){return new ev(this.root,a,this.comparator,!1)}getReverseIterator(){return new ev(this.root,null,this.comparator,!0)}getReverseIteratorFrom(a){return new ev(this.root,a,this.comparator,!0)}}class ev{constructor(a,b,c,d){this.isReverse=d,this.nodeStack=[];let e=1;for(;!a.isEmpty();)if(e=b?c(a.key,b):1,b&&d&&(e*=-1),e<0)a=this.isReverse?a.left:a.right;else if(0===e){this.nodeStack.push(a);break}else this.nodeStack.push(a),a=this.isReverse?a.right:a.left}getNext(){let a=this.nodeStack.pop(),b={key:a.key,value:a.value};if(this.isReverse)for(a=a.left;!a.isEmpty();)this.nodeStack.push(a),a=a.right;else for(a=a.right;!a.isEmpty();)this.nodeStack.push(a),a=a.left;return b}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;let a=this.nodeStack[this.nodeStack.length-1];return{key:a.key,value:a.value}}}class ew{constructor(a,b,c,d,e){this.key=a,this.value=b,this.color=null!=c?c:ew.RED,this.left=null!=d?d:ew.EMPTY,this.right=null!=e?e:ew.EMPTY,this.size=this.left.size+1+this.right.size}copy(a,b,c,d,e){return new ew(null!=a?a:this.key,null!=b?b:this.value,null!=c?c:this.color,null!=d?d:this.left,null!=e?e:this.right)}isEmpty(){return!1}inorderTraversal(a){return this.left.inorderTraversal(a)||a(this.key,this.value)||this.right.inorderTraversal(a)}reverseTraversal(a){return this.right.reverseTraversal(a)||a(this.key,this.value)||this.left.reverseTraversal(a)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(a,b,c){let d=this,e=c(a,d.key);return(d=e<0?d.copy(null,null,null,d.left.insert(a,b,c),null):0===e?d.copy(null,b,null,null,null):d.copy(null,null,null,null,d.right.insert(a,b,c))).fixUp()}removeMin(){if(this.left.isEmpty())return ew.EMPTY;let a=this;return a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),(a=a.copy(null,null,null,a.left.removeMin(),null)).fixUp()}remove(a,b){let c,d=this;if(0>b(a,d.key))d.left.isEmpty()||d.left.isRed()||d.left.left.isRed()||(d=d.moveRedLeft()),d=d.copy(null,null,null,d.left.remove(a,b),null);else{if(d.left.isRed()&&(d=d.rotateRight()),d.right.isEmpty()||d.right.isRed()||d.right.left.isRed()||(d=d.moveRedRight()),0===b(a,d.key))if(d.right.isEmpty())return ew.EMPTY;else c=d.right.min(),d=d.copy(c.key,c.value,null,null,d.right.removeMin());d=d.copy(null,null,null,null,d.right.remove(a,b))}return d.fixUp()}isRed(){return this.color}fixUp(){let a=this;return a.right.isRed()&&!a.left.isRed()&&(a=a.rotateLeft()),a.left.isRed()&&a.left.left.isRed()&&(a=a.rotateRight()),a.left.isRed()&&a.right.isRed()&&(a=a.colorFlip()),a}moveRedLeft(){let a=this.colorFlip();return a.right.left.isRed()&&(a=(a=(a=a.copy(null,null,null,null,a.right.rotateRight())).rotateLeft()).colorFlip()),a}moveRedRight(){let a=this.colorFlip();return a.left.left.isRed()&&(a=(a=a.rotateRight()).colorFlip()),a}rotateLeft(){let a=this.copy(null,null,ew.RED,null,this.right.left);return this.right.copy(null,null,this.color,a,null)}rotateRight(){let a=this.copy(null,null,ew.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,a)}colorFlip(){let a=this.left.copy(null,null,!this.left.color,null,null),b=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,a,b)}checkMaxDepth(){return Math.pow(2,this.check())<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw bC(43730,{key:this.key,value:this.value});if(this.right.isRed())throw bC(14113,{key:this.key,value:this.value});let a=this.left.check();if(a===this.right.check())return a+ +!this.isRed();throw bC(27949)}}ew.EMPTY=null,ew.RED=!0,ew.BLACK=!1;class ex{constructor(){this.size=0}get key(){throw bC(57766)}get value(){throw bC(16141)}get color(){throw bC(16727)}get left(){throw bC(29726)}get right(){throw bC(36894)}copy(a,b,c,d,e){return this}insert(a,b,c){return new ew(a,b)}remove(a,b){return this}isEmpty(){return!0}inorderTraversal(a){return!1}reverseTraversal(a){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}}ew.EMPTY=new ex;class ey{constructor(a){this.comparator=a,this.data=new eu(this.comparator)}has(a){return null!==this.data.get(a)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(a){return this.data.indexOf(a)}forEach(a){this.data.inorderTraversal((b,c)=>(a(b),!1))}forEachInRange(a,b){let c=this.data.getIteratorFrom(a[0]);for(;c.hasNext();){let d=c.getNext();if(this.comparator(d.key,a[1])>=0)return;b(d.key)}}forEachWhile(a,b){let c;for(c=void 0!==b?this.data.getIteratorFrom(b):this.data.getIterator();c.hasNext();)if(!a(c.getNext().key))return}firstAfterOrEqual(a){let b=this.data.getIteratorFrom(a);return b.hasNext()?b.getNext().key:null}getIterator(){return new ez(this.data.getIterator())}getIteratorFrom(a){return new ez(this.data.getIteratorFrom(a))}add(a){return this.copy(this.data.remove(a).insert(a,!0))}delete(a){return this.has(a)?this.copy(this.data.remove(a)):this}isEmpty(){return this.data.isEmpty()}unionWith(a){let b=this;return b.size<a.size&&(b=a,a=this),a.forEach(a=>{b=b.add(a)}),b}isEqual(a){if(!(a instanceof ey)||this.size!==a.size)return!1;let b=this.data.getIterator(),c=a.data.getIterator();for(;b.hasNext();){let a=b.getNext().key,d=c.getNext().key;if(0!==this.comparator(a,d))return!1}return!0}toArray(){let a=[];return this.forEach(b=>{a.push(b)}),a}toString(){let a=[];return this.forEach(b=>a.push(b)),"SortedSet("+a.toString()+")"}copy(a){let b=new ey(this.comparator);return b.data=a,b}}class ez{constructor(a){this.iter=a}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function eA(a,b,c,d,e){let f=a.getIterator(),g=b.getIterator(),h=eB(f),i=eB(g);for(;h||i;){let a=!1,b=!1;if(h&&i){let d=c(h,i);d<0?b=!0:d>0&&(a=!0)}else null!=h?b=!0:a=!0;a?(d(i),i=eB(g)):b?(e(h),h=eB(f)):(h=eB(f),i=eB(g))}}function eB(a){return a.hasNext()?a.getNext():void 0}class eC{constructor(a){this.fields=a,a.sort(cj.comparator)}static empty(){return new eC([])}unionWith(a){let b=new ey(cj.comparator);for(let a of this.fields)b=b.add(a);for(let c of a)b=b.add(c);return new eC(b.toArray())}covers(a){for(let b of this.fields)if(b.isPrefixOf(a))return!0;return!1}isEqual(a){return cd(this.fields,a.fields,(a,b)=>a.isEqual(b))}}function eD(a){return Buffer.from(a,"base64").toString("binary")}function eE(a){return Buffer.from(a,"binary").toString("base64")}class eF{constructor(a){this.binaryString=a}static fromBase64String(a){return new eF(eD(a))}static fromUint8Array(a){return new eF(eG(a))}[Symbol.iterator](){let a=0;return{next:()=>a<this.binaryString.length?{value:this.binaryString.charCodeAt(a++),done:!1}:{value:void 0,done:!0}}}toBase64(){return eE(this.binaryString)}toUint8Array(){return eH(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(a){return b8(this.binaryString,a.binaryString)}isEqual(a){return this.binaryString===a.binaryString}}function eG(a){let b="";for(let c=0;c<a.length;++c)b+=String.fromCharCode(a[c]);return b}function eH(a){let b=new Uint8Array(a.length);for(let c=0;c<a.length;c++)b[c]=a.charCodeAt(c);return b}eF.EMPTY_BYTE_STRING=new eF("");let eI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function eJ(a){if(bE(!!a,39018),"string"==typeof a){let b=0,c=eI.exec(a);if(bE(!!c,46558,{timestamp:a}),c[1]){let a=c[1];b=Number(a=(a+"000000000").substr(0,9))}return{seconds:Math.floor(new Date(a).getTime()/1e3),nanos:b}}return{seconds:eK(a.seconds),nanos:eK(a.nanos)}}function eK(a){return"number"==typeof a?a:"string"==typeof a?Number(a):0}function eL(a){return"string"==typeof a?eF.fromBase64String(a):eF.fromUint8Array(a)}let eM="server_timestamp",eN="__type__",eO="__previous_value__",eP="__local_write_time__";function eQ(a){return(a?.mapValue?.fields||{})[eN]?.stringValue===eM}function eR(a,b){let c={fields:{[eN]:{stringValue:eM},[eP]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return b&&eQ(b)&&(b=eS(b)),b&&(c.fields[eO]=b),{mapValue:c}}function eS(a){let b=a.mapValue.fields[eO];return eQ(b)?eS(b):b}function eT(a){let b=eJ(a.mapValue.fields[eP].timestampValue);return new cy(b.seconds,b.nanos)}class eU{constructor(a,b,c,d,e,f,g,h,i,j,k){this.databaseId=a,this.appId=b,this.persistenceKey=c,this.host=d,this.ssl=e,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=h,this.useFetchStreams=i,this.isUsingEmulator=j,this.apiKey=k}}let eV="(default)";class eW{constructor(a,b){this.projectId=a,this.database=b||eV}static empty(){return new eW("","")}get isDefaultDatabase(){return this.database===eV}isEqual(a){return a instanceof eW&&a.projectId===this.projectId&&a.database===this.database}}function eX(a,b){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new bX(bJ,'"projectId" not provided in firebase.initializeApp.');return new eW(a.options.projectId,b)}let eY=-1;function eZ(a){return null==a}function e$(a){return 0===a&&1/a==-1/0}function e_(a){return"number"==typeof a&&Number.isInteger(a)&&!e$(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}let e0="__type__",e1="__max__",e2={mapValue:{fields:{__type__:{stringValue:e1}}}},e3="__vector__",e4="value",e5={nullValue:"NULL_VALUE"};function e6(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?eQ(a)?4:fI(a)?0x1fffffffffffff:fG(a)?10:11:bC(28295,{value:a})}function e7(a,b){if(a===b)return!0;let c=e6(a);if(c!==e6(b))return!1;switch(c){case 0:case 0x1fffffffffffff:return!0;case 1:return a.booleanValue===b.booleanValue;case 4:return eT(a).isEqual(eT(b));case 3:return e8(a,b);case 5:return a.stringValue===b.stringValue;case 6:return fa(a,b);case 7:return a.referenceValue===b.referenceValue;case 8:return e9(a,b);case 2:return fb(a,b);case 9:return cd(a.arrayValue.values||[],b.arrayValue.values||[],e7);case 10:case 11:return fc(a,b);default:return bC(52216,{left:a})}}function e8(a,b){if("string"==typeof a.timestampValue&&"string"==typeof b.timestampValue&&a.timestampValue.length===b.timestampValue.length)return a.timestampValue===b.timestampValue;let c=eJ(a.timestampValue),d=eJ(b.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}function e9(a,b){return eK(a.geoPointValue.latitude)===eK(b.geoPointValue.latitude)&&eK(a.geoPointValue.longitude)===eK(b.geoPointValue.longitude)}function fa(a,b){return eL(a.bytesValue).isEqual(eL(b.bytesValue))}function fb(a,b){if("integerValue"in a&&"integerValue"in b)return eK(a.integerValue)===eK(b.integerValue);if("doubleValue"in a&&"doubleValue"in b){let c=eK(a.doubleValue),d=eK(b.doubleValue);return c===d?e$(c)===e$(d):isNaN(c)&&isNaN(d)}return!1}function fc(a,b){let c=a.mapValue.fields||{},d=b.mapValue.fields||{};if(eq(c)!==eq(d))return!1;for(let a in c)if(c.hasOwnProperty(a)&&(void 0===d[a]||!e7(c[a],d[a])))return!1;return!0}function fd(a,b){return void 0!==(a.values||[]).find(a=>e7(a,b))}function fe(a,b){if(a===b)return 0;let c=e6(a),d=e6(b);if(c!==d)return b8(c,d);switch(c){case 0:case 0x1fffffffffffff:return 0;case 1:return b8(a.booleanValue,b.booleanValue);case 2:return ff(a,b);case 3:return fg(a.timestampValue,b.timestampValue);case 4:return fg(eT(a),eT(b));case 5:return b9(a.stringValue,b.stringValue);case 6:return fj(a.bytesValue,b.bytesValue);case 7:return fh(a.referenceValue,b.referenceValue);case 8:return fi(a.geoPointValue,b.geoPointValue);case 9:return fk(a.arrayValue,b.arrayValue);case 10:return fl(a.mapValue,b.mapValue);case 11:return fm(a.mapValue,b.mapValue);default:throw bC(23264,{leftType:c})}}function ff(a,b){let c=eK(a.integerValue||a.doubleValue),d=eK(b.integerValue||b.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}function fg(a,b){if("string"==typeof a&&"string"==typeof b&&a.length===b.length)return b8(a,b);let c=eJ(a),d=eJ(b),e=b8(c.seconds,d.seconds);return 0!==e?e:b8(c.nanos,d.nanos)}function fh(a,b){let c=a.split("/"),d=b.split("/");for(let a=0;a<c.length&&a<d.length;a++){let b=b8(c[a],d[a]);if(0!==b)return b}return b8(c.length,d.length)}function fi(a,b){let c=b8(eK(a.latitude),eK(b.latitude));return 0!==c?c:b8(eK(a.longitude),eK(b.longitude))}function fj(a,b){let c=eL(a),d=eL(b);return c.compareTo(d)}function fk(a,b){let c=a.values||[],d=b.values||[];for(let a=0;a<c.length&&a<d.length;++a){let b=fe(c[a],d[a]);if(b)return b}return b8(c.length,d.length)}function fl(a,b){let c=a.fields||{},d=b.fields||{},e=c[e4]?.arrayValue,f=d[e4]?.arrayValue,g=b8(e?.values?.length||0,f?.values?.length||0);return 0!==g?g:fk(e,f)}function fm(a,b){if(a===e2.mapValue&&b===e2.mapValue)return 0;if(a===e2.mapValue)return 1;if(b===e2.mapValue)return -1;let c=a.fields||{},d=Object.keys(c),e=b.fields||{},f=Object.keys(e);d.sort(),f.sort();for(let a=0;a<d.length&&a<f.length;++a){let b=b9(d[a],f[a]);if(0!==b)return b;let g=fe(c[d[a]],e[f[a]]);if(0!==g)return g}return b8(d.length,f.length)}function fn(a){return fo(a)}function fo(a){if("nullValue"in a)return"null";if("booleanValue"in a)return""+a.booleanValue;if("integerValue"in a)return""+a.integerValue;if("doubleValue"in a)return""+a.doubleValue;if("timestampValue"in a)return fq(a.timestampValue);else if("stringValue"in a)return a.stringValue;else if("bytesValue"in a)return fp(a.bytesValue);else if("referenceValue"in a)return fs(a.referenceValue);else if("geoPointValue"in a)return fr(a.geoPointValue);else if("arrayValue"in a)return fu(a.arrayValue);else if("mapValue"in a)return ft(a.mapValue);else return bC(61005,{value:a})}function fp(a){return eL(a).toBase64()}function fq(a){let b=eJ(a);return`time(${b.seconds},${b.nanos})`}function fr(a){return`geo(${a.latitude},${a.longitude})`}function fs(a){return ck.fromName(a).toString()}function ft(a){let b=Object.keys(a.fields||{}).sort(),c="{",d=!0;for(let e of b)d?d=!1:c+=",",c+=`${e}:${fo(a.fields[e])}`;return c+"}"}function fu(a){let b="[",c=!0;for(let d of a.values||[])c?c=!1:b+=",",b+=fo(d);return b+"]"}function fv(a){switch(e6(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let b=eS(a);return b?16+fv(b):16;case 5:return 2*a.stringValue.length;case 6:return eL(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return fx(a.arrayValue);case 10:case 11:return fw(a.mapValue);default:throw bC(13486,{value:a})}}function fw(a){let b=0;return er(a.fields,(a,c)=>{b+=a.length+fv(c)}),b}function fx(a){return(a.values||[]).reduce((a,b)=>a+fv(b),0)}function fy(a,b){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${b.path.canonicalString()}`}}function fz(a){return!!a&&"integerValue"in a}function fA(a){return!!a&&"doubleValue"in a}function fB(a){return fz(a)||fA(a)}function fC(a){return!!a&&"arrayValue"in a}function fD(a){return!!a&&"nullValue"in a}function fE(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function fF(a){return!!a&&"mapValue"in a}function fG(a){return(a?.mapValue?.fields||{})[e0]?.stringValue===e3}function fH(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&"object"==typeof a.timestampValue)return{timestampValue:{...a.timestampValue}};if(a.mapValue){let b={mapValue:{fields:{}}};return er(a.mapValue.fields,(a,c)=>b.mapValue.fields[a]=fH(c)),b}{if(!a.arrayValue)return{...a};let b={arrayValue:{values:[]}};for(let c=0;c<(a.arrayValue.values||[]).length;++c)b.arrayValue.values[c]=fH(a.arrayValue.values[c]);return b}}function fI(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===e1}let fJ={mapValue:{fields:{[e0]:{stringValue:e3},[e4]:{arrayValue:{}}}}};function fK(a){if("nullValue"in a)return e5;if("booleanValue"in a)return{booleanValue:!1};if("integerValue"in a||"doubleValue"in a)return{doubleValue:NaN};if("timestampValue"in a)return{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}};if("stringValue"in a)return{stringValue:""};else if("bytesValue"in a)return{bytesValue:""};else if("referenceValue"in a)return fy(eW.empty(),ck.empty());else if("geoPointValue"in a)return{geoPointValue:{latitude:-90,longitude:-180}};else if("arrayValue"in a)return{arrayValue:{}};else if(!("mapValue"in a))return bC(35942,{value:a});else return fG(a)?fJ:{mapValue:{}}}function fL(a){if("nullValue"in a)return{booleanValue:!1};if("booleanValue"in a)return{doubleValue:NaN};if("integerValue"in a||"doubleValue"in a)return{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}};if("timestampValue"in a)return{stringValue:""};if("stringValue"in a)return{bytesValue:""};else if("bytesValue"in a)return fy(eW.empty(),ck.empty());else if("referenceValue"in a)return{geoPointValue:{latitude:-90,longitude:-180}};else if("geoPointValue"in a)return{arrayValue:{}};else if("arrayValue"in a)return fJ;else if(!("mapValue"in a))return bC(61959,{value:a});else return fG(a)?{mapValue:{}}:e2}function fM(a,b){let c=fe(a.value,b.value);return 0!==c?c:a.inclusive&&!b.inclusive?-1:!a.inclusive&&b.inclusive?1:0}function fN(a,b){let c=fe(a.value,b.value);return 0!==c?c:a.inclusive&&!b.inclusive?1:!a.inclusive&&b.inclusive?-1:0}class fO{constructor(a){this.value=a}static empty(){return new fO({mapValue:{}})}field(a){if(a.isEmpty())return this.value;{let b=this.value;for(let c=0;c<a.length-1;++c)if(!fF(b=(b.mapValue.fields||{})[a.get(c)]))return null;return(b=(b.mapValue.fields||{})[a.lastSegment()])||null}}set(a,b){this.getFieldsMap(a.popLast())[a.lastSegment()]=fH(b)}setAll(a){let b=cj.emptyPath(),c={},d=[];a.forEach((a,e)=>{if(!b.isImmediateParentOf(e)){let a=this.getFieldsMap(b);this.applyChanges(a,c,d),c={},d=[],b=e.popLast()}a?c[e.lastSegment()]=fH(a):d.push(e.lastSegment())});let e=this.getFieldsMap(b);this.applyChanges(e,c,d)}delete(a){let b=this.field(a.popLast());fF(b)&&b.mapValue.fields&&delete b.mapValue.fields[a.lastSegment()]}isEqual(a){return e7(this.value,a.value)}getFieldsMap(a){let b=this.value;b.mapValue.fields||(b.mapValue={fields:{}});for(let c=0;c<a.length;++c){let d=b.mapValue.fields[a.get(c)];fF(d)&&d.mapValue.fields||(d={mapValue:{fields:{}}},b.mapValue.fields[a.get(c)]=d),b=d}return b.mapValue.fields}applyChanges(a,b,c){for(let d of(er(b,(b,c)=>a[b]=c),c))delete a[d]}clone(){return new fO(fH(this.value))}}function fP(a){let b=[];return er(a.fields,(a,c)=>{let d=new cj([a]);if(fF(c)){let a=fP(c.mapValue).fields;if(0===a.length)b.push(d);else for(let c of a)b.push(d.child(c))}else b.push(d)}),new eC(b)}class fQ{constructor(a,b,c,d,e,f,g){this.key=a,this.documentType=b,this.version=c,this.readTime=d,this.createTime=e,this.data=f,this.documentState=g}static newInvalidDocument(a){return new fQ(a,0,cz.min(),cz.min(),cz.min(),fO.empty(),0)}static newFoundDocument(a,b,c,d){return new fQ(a,1,b,cz.min(),c,d,0)}static newNoDocument(a,b){return new fQ(a,2,b,cz.min(),cz.min(),fO.empty(),0)}static newUnknownDocument(a,b){return new fQ(a,3,b,cz.min(),cz.min(),fO.empty(),2)}convertToFoundDocument(a,b){return this.createTime.isEqual(cz.min())&&(2===this.documentType||0===this.documentType)&&(this.createTime=a),this.version=a,this.documentType=1,this.data=b,this.documentState=0,this}convertToNoDocument(a){return this.version=a,this.documentType=2,this.data=fO.empty(),this.documentState=0,this}convertToUnknownDocument(a){return this.version=a,this.documentType=3,this.data=fO.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=cz.min(),this}setReadTime(a){return this.readTime=a,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(a){return a instanceof fQ&&this.key.isEqual(a.key)&&this.version.isEqual(a.version)&&this.documentType===a.documentType&&this.documentState===a.documentState&&this.data.isEqual(a.data)}mutableCopy(){return new fQ(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}function fR(a,b,c){let d=b.data.field(a),e=c.data.field(a);return null!==d&&null!==e?fe(d,e):bC(42886)}class fS{constructor(a,b){this.position=a,this.inclusive=b}}function fT(a,b,c){let d=0;for(let e=0;e<a.position.length;e++){let f=b[e],g=a.position[e];if(d=f.field.isKeyField()?ck.comparator(ck.fromName(g.referenceValue),c.key):fe(g,c.data.field(f.field)),"desc"===f.dir&&(d*=-1),0!==d)break}return d}function fU(a,b,c){let d=fT(a,b,c);return a.inclusive?d>=0:d>0}function fV(a,b,c){let d=fT(a,b,c);return a.inclusive?d<=0:d<0}function fW(a,b){if(null===a)return null===b;if(null===b||a.inclusive!==b.inclusive||a.position.length!==b.position.length)return!1;for(let c=0;c<a.position.length;c++)if(!e7(a.position[c],b.position[c]))return!1;return!0}class fX{constructor(a,b="asc"){this.field=a,this.dir=b}}function fY(a){return a.field.canonicalString()+a.dir}function fZ(a){return`${a.field.canonicalString()} (${a.dir})`}function f$(a,b){return a.dir===b.dir&&a.field.isEqual(b.field)}class f_{}class f0 extends f_{constructor(a,b,c){super(),this.field=a,this.op=b,this.value=c}static create(a,b,c){if(a.isKeyField())if("in"===b||"not-in"===b)return this.createKeyFieldInFilter(a,b,c);else return new ge(a,b,c);if("array-contains"===b)return new gi(a,c);if("in"===b)return new gj(a,c);if("not-in"===b)return new gk(a,c);if("array-contains-any"===b)return new gl(a,c);else return new f0(a,b,c)}static createKeyFieldInFilter(a,b,c){return"in"===b?new gf(a,c):new gg(a,c)}matches(a){let b=a.data.field(this.field);return"!="===this.op?null!==b&&void 0===b.nullValue&&this.matchesComparison(fe(b,this.value)):null!==b&&e6(this.value)===e6(b)&&this.matchesComparison(fe(b,this.value))}matchesComparison(a){switch(this.op){case"<":return a<0;case"<=":return a<=0;case"==":return 0===a;case"!=":return 0!==a;case">":return a>0;case">=":return a>=0;default:return bC(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class f1 extends f_{constructor(a,b){super(),this.filters=a,this.op=b,this.memoizedFlattenedFilters=null}static create(a,b){return new f1(a,b)}matches(a){return f2(this)?void 0===this.filters.find(b=>!b.matches(a)):void 0!==this.filters.find(b=>b.matches(a))}getFlattenedFilters(){return null!==this.memoizedFlattenedFilters||(this.memoizedFlattenedFilters=this.filters.reduce((a,b)=>a.concat(b.getFlattenedFilters()),[])),this.memoizedFlattenedFilters}getFilters(){return Object.assign([],this.filters)}}function f2(a){return"and"===a.op}function f3(a){return"or"===a.op}function f4(a){return f5(a)&&f2(a)}function f5(a){for(let b of a.filters)if(b instanceof f1)return!1;return!0}function f6(a){if(a instanceof f0)return a.field.canonicalString()+a.op.toString()+fn(a.value);{if(f4(a))return a.filters.map(a=>f6(a)).join(",");let b=a.filters.map(a=>f6(a)).join(",");return`${a.op}(${b})`}}function f7(a,b){return a instanceof f0?f8(a,b):a instanceof f1?f9(a,b):void bC(19439)}function f8(a,b){return b instanceof f0&&a.op===b.op&&a.field.isEqual(b.field)&&e7(a.value,b.value)}function f9(a,b){return b instanceof f1&&a.op===b.op&&a.filters.length===b.filters.length&&a.filters.reduce((a,c,d)=>a&&f7(c,b.filters[d]),!0)}function ga(a,b){let c=a.filters.concat(b);return f1.create(c,a.op)}function gb(a){return a instanceof f0?gd(a):a instanceof f1?gc(a):"Filter"}function gc(a){return a.op.toString()+" {"+a.getFilters().map(gb).join(" ,")+"}"}function gd(a){return`${a.field.canonicalString()} ${a.op} ${fn(a.value)}`}class ge extends f0{constructor(a,b,c){super(a,b,c),this.key=ck.fromName(c.referenceValue)}matches(a){let b=ck.comparator(a.key,this.key);return this.matchesComparison(b)}}class gf extends f0{constructor(a,b){super(a,"in",b),this.keys=gh("in",b)}matches(a){return this.keys.some(b=>b.isEqual(a.key))}}class gg extends f0{constructor(a,b){super(a,"not-in",b),this.keys=gh("not-in",b)}matches(a){return!this.keys.some(b=>b.isEqual(a.key))}}function gh(a,b){return(b.arrayValue?.values||[]).map(a=>ck.fromName(a.referenceValue))}class gi extends f0{constructor(a,b){super(a,"array-contains",b)}matches(a){let b=a.data.field(this.field);return fC(b)&&fd(b.arrayValue,this.value)}}class gj extends f0{constructor(a,b){super(a,"in",b)}matches(a){let b=a.data.field(this.field);return null!==b&&fd(this.value.arrayValue,b)}}class gk extends f0{constructor(a,b){super(a,"not-in",b)}matches(a){if(fd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let b=a.data.field(this.field);return null!==b&&void 0===b.nullValue&&!fd(this.value.arrayValue,b)}}class gl extends f0{constructor(a,b){super(a,"array-contains-any",b)}matches(a){let b=a.data.field(this.field);return!!fC(b)&&!!b.arrayValue.values&&b.arrayValue.values.some(a=>fd(this.value.arrayValue,a))}}class gm{constructor(a,b=null,c=[],d=[],e=null,f=null,g=null){this.path=a,this.collectionGroup=b,this.orderBy=c,this.filters=d,this.limit=e,this.startAt=f,this.endAt=g,this.memoizedCanonicalId=null}}function gn(a,b=null,c=[],d=[],e=null,f=null,g=null){return new gm(a,b,c,d,e,f,g)}function go(a){let b=bF(a);if(null===b.memoizedCanonicalId){let a=b.path.canonicalString();null!==b.collectionGroup&&(a+="|cg:"+b.collectionGroup),a+="|f:",a+=b.filters.map(a=>f6(a)).join(","),a+="|ob:",a+=b.orderBy.map(a=>fY(a)).join(","),eZ(b.limit)||(a+="|l:",a+=b.limit),b.startAt&&(a+="|lb:",a+=b.startAt.inclusive?"b:":"a:",a+=b.startAt.position.map(a=>fn(a)).join(",")),b.endAt&&(a+="|ub:",a+=b.endAt.inclusive?"a:":"b:",a+=b.endAt.position.map(a=>fn(a)).join(",")),b.memoizedCanonicalId=a}return b.memoizedCanonicalId}function gp(a){let b=a.path.canonicalString();return null!==a.collectionGroup&&(b+=" collectionGroup="+a.collectionGroup),a.filters.length>0&&(b+=`, filters: [${a.filters.map(a=>gb(a)).join(", ")}]`),eZ(a.limit)||(b+=", limit: "+a.limit),a.orderBy.length>0&&(b+=`, orderBy: [${a.orderBy.map(a=>fZ(a)).join(", ")}]`),a.startAt&&(b+=", startAt: ",b+=a.startAt.inclusive?"b:":"a:",b+=a.startAt.position.map(a=>fn(a)).join(",")),a.endAt&&(b+=", endAt: ",b+=a.endAt.inclusive?"a:":"b:",b+=a.endAt.position.map(a=>fn(a)).join(",")),`Target(${b})`}function gq(a,b){if(a.limit!==b.limit||a.orderBy.length!==b.orderBy.length)return!1;for(let c=0;c<a.orderBy.length;c++)if(!f$(a.orderBy[c],b.orderBy[c]))return!1;if(a.filters.length!==b.filters.length)return!1;for(let c=0;c<a.filters.length;c++)if(!f7(a.filters[c],b.filters[c]))return!1;return a.collectionGroup===b.collectionGroup&&!!a.path.isEqual(b.path)&&!!fW(a.startAt,b.startAt)&&fW(a.endAt,b.endAt)}function gr(a){return ck.isDocumentKey(a.path)&&null===a.collectionGroup&&0===a.filters.length}function gs(a,b){return a.filters.filter(a=>a instanceof f0&&a.field.isEqual(b))}function gt(a,b){let c=cD(b);if(void 0===c)return null;for(let b of gs(a,c.fieldPath))switch(b.op){case"array-contains-any":return b.value.arrayValue.values||[];case"array-contains":return[b.value]}return null}function gu(a,b){let c=new Map;for(let d of cE(b))for(let b of gs(a,d.fieldPath))switch(b.op){case"==":case"in":c.set(d.fieldPath.canonicalString(),b.value);break;case"not-in":case"!=":return c.set(d.fieldPath.canonicalString(),b.value),Array.from(c.values())}return null}function gv(a,b){let c=[],d=!0;for(let e of cE(b)){let b=0===e.kind?gx(a,e.fieldPath,a.startAt):gy(a,e.fieldPath,a.startAt);c.push(b.value),d&&(d=b.inclusive)}return new fS(c,d)}function gw(a,b){let c=[],d=!0;for(let e of cE(b)){let b=0===e.kind?gy(a,e.fieldPath,a.endAt):gx(a,e.fieldPath,a.endAt);c.push(b.value),d&&(d=b.inclusive)}return new fS(c,d)}function gx(a,b,c){let d=e5,e=!0;for(let c of gs(a,b)){let a=e5,b=!0;switch(c.op){case"<":case"<=":a=fK(c.value);break;case"==":case"in":case">=":a=c.value;break;case">":a=c.value,b=!1;break;case"!=":case"not-in":a=e5}0>fM({value:d,inclusive:e},{value:a,inclusive:b})&&(d=a,e=b)}if(null!==c){for(let f=0;f<a.orderBy.length;++f)if(a.orderBy[f].field.isEqual(b)){let a=c.position[f];0>fM({value:d,inclusive:e},{value:a,inclusive:c.inclusive})&&(d=a,e=c.inclusive);break}}return{value:d,inclusive:e}}function gy(a,b,c){let d=e2,e=!0;for(let c of gs(a,b)){let a=e2,b=!0;switch(c.op){case">=":case">":a=fL(c.value),b=!1;break;case"==":case"in":case"<=":a=c.value;break;case"<":a=c.value,b=!1;break;case"!=":case"not-in":a=e2}fN({value:d,inclusive:e},{value:a,inclusive:b})>0&&(d=a,e=b)}if(null!==c){for(let f=0;f<a.orderBy.length;++f)if(a.orderBy[f].field.isEqual(b)){let a=c.position[f];fN({value:d,inclusive:e},{value:a,inclusive:c.inclusive})>0&&(d=a,e=c.inclusive);break}}return{value:d,inclusive:e}}function gz(a){let b=new ey(cj.comparator),c=!1;for(let d of a.filters)for(let a of d.getFlattenedFilters())a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?c=!0:b=b.add(a.field));for(let c of a.orderBy)c.field.isKeyField()||(b=b.add(c.field));return b.size+ +!!c}function gA(a){return null!==a.limit}class gB{constructor(a,b=null,c=[],d=[],e=null,f="F",g=null,h=null){this.path=a,this.collectionGroup=b,this.explicitOrderBy=c,this.filters=d,this.limit=e,this.limitType=f,this.startAt=g,this.endAt=h,this.memoizedNormalizedOrderBy=null,this.memoizedTarget=null,this.memoizedAggregateTarget=null,this.startAt,this.endAt}}function gC(a,b,c,d,e,f,g,h){return new gB(a,b,c,d,e,f,g,h)}function gD(a){return new gB(a)}function gE(a,b){return new gB(b,null,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}function gF(a){return 0===a.filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())}function gG(a){let b=new ey(cj.comparator);return a.filters.forEach(a=>{a.getFlattenedFilters().forEach(a=>{a.isInequality()&&(b=b.add(a.field))})}),b}function gH(a){return ck.isDocumentKey(a.path)&&null===a.collectionGroup&&0===a.filters.length}function gI(a){return null!==a.collectionGroup}function gJ(a){let b=bF(a);if(null===b.memoizedNormalizedOrderBy){b.memoizedNormalizedOrderBy=[];let a=new Set;for(let c of b.explicitOrderBy)b.memoizedNormalizedOrderBy.push(c),a.add(c.field.canonicalString());let c=b.explicitOrderBy.length>0?b.explicitOrderBy[b.explicitOrderBy.length-1].dir:"asc";gG(b).forEach(d=>{a.has(d.canonicalString())||d.isKeyField()||b.memoizedNormalizedOrderBy.push(new fX(d,c))}),a.has(cj.keyField().canonicalString())||b.memoizedNormalizedOrderBy.push(new fX(cj.keyField(),c))}return b.memoizedNormalizedOrderBy}function gK(a){let b=bF(a);return b.memoizedTarget||(b.memoizedTarget=gM(b,gJ(a))),b.memoizedTarget}function gL(a){let b=bF(a);return b.memoizedAggregateTarget||(b.memoizedAggregateTarget=gM(b,a.explicitOrderBy)),b.memoizedAggregateTarget}function gM(a,b){if("F"===a.limitType)return gn(a.path,a.collectionGroup,b,a.filters,a.limit,a.startAt,a.endAt);{b=b.map(a=>{let b="desc"===a.dir?"asc":"desc";return new fX(a.field,b)});let c=a.endAt?new fS(a.endAt.position,a.endAt.inclusive):null,d=a.startAt?new fS(a.startAt.position,a.startAt.inclusive):null;return gn(a.path,a.collectionGroup,b,a.filters,a.limit,c,d)}}function gN(a,b){let c=a.filters.concat([b]);return new gB(a.path,a.collectionGroup,a.explicitOrderBy.slice(),c,a.limit,a.limitType,a.startAt,a.endAt)}function gO(a,b){let c=a.explicitOrderBy.concat([b]);return new gB(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}function gP(a,b,c){return new gB(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),b,c,a.startAt,a.endAt)}function gQ(a,b){return new gB(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,b,a.endAt)}function gR(a,b){return new gB(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,b)}function gS(a,b){return gq(gK(a),gK(b))&&a.limitType===b.limitType}function gT(a){return`${go(gK(a))}|lt:${a.limitType}`}function gU(a){return`Query(target=${gp(gK(a))}; limitType=${a.limitType})`}function gV(a,b){return b.isFoundDocument()&&gW(a,b)&&gX(a,b)&&gY(a,b)&&gZ(a,b)}function gW(a,b){let c=b.key.path;return null!==a.collectionGroup?b.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ck.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)}function gX(a,b){for(let c of gJ(a))if(!c.field.isKeyField()&&null===b.data.field(c.field))return!1;return!0}function gY(a,b){for(let c of a.filters)if(!c.matches(b))return!1;return!0}function gZ(a,b){return(!a.startAt||!!fV(a.startAt,gJ(a),b))&&(!a.endAt||!!fU(a.endAt,gJ(a),b))}function g$(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function g_(a){return(b,c)=>{let d=!1;for(let e of gJ(a)){let a=g0(e,b,c);if(0!==a)return a;d=d||e.field.isKeyField()}return 0}}function g0(a,b,c){let d=a.field.isKeyField()?ck.comparator(b.key,c.key):fR(a.field,b,c);switch(a.dir){case"asc":return d;case"desc":return -1*d;default:return bC(19790,{direction:a.dir})}}class g1{constructor(a,b){this.mapKeyFn=a,this.equalsFn=b,this.inner={},this.innerSize=0}get(a){let b=this.mapKeyFn(a),c=this.inner[b];if(void 0!==c){for(let[b,d]of c)if(this.equalsFn(b,a))return d}}has(a){return void 0!==this.get(a)}set(a,b){let c=this.mapKeyFn(a),d=this.inner[c];if(void 0===d){this.inner[c]=[[a,b]],this.innerSize++;return}for(let c=0;c<d.length;c++)if(this.equalsFn(d[c][0],a)){d[c]=[a,b];return}d.push([a,b]),this.innerSize++}delete(a){let b=this.mapKeyFn(a),c=this.inner[b];if(void 0===c)return!1;for(let d=0;d<c.length;d++)if(this.equalsFn(c[d][0],a))return 1===c.length?delete this.inner[b]:c.splice(d,1),this.innerSize--,!0;return!1}forEach(a){er(this.inner,(b,c)=>{for(let[b,d]of c)a(b,d)})}isEmpty(){return et(this.inner)}size(){return this.innerSize}}let g2=new eu(ck.comparator);function g3(){return g2}let g4=new eu(ck.comparator);function g5(...a){let b=g4;for(let c of a)b=b.insert(c.key,c);return b}function g6(){return ha()}function g7(a){let b=g4;return a.forEach((a,c)=>b=b.insert(a,c.overlayedDocument)),b}function g8(){return ha()}function g9(){return ha()}function ha(){return new g1(a=>a.toString(),(a,b)=>a.isEqual(b))}let hb=new eu(ck.comparator);function hc(){return hb}let hd=new ey(ck.comparator);function he(...a){let b=hd;for(let c of a)b=b.add(c);return b}let hf=new ey(b8);function hg(){return hf}function hh(a,b){if(a.useProto3Json){if(isNaN(b))return{doubleValue:"NaN"};else if(b===1/0)return{doubleValue:"Infinity"};else if(b===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:e$(b)?"-0":b}}function hi(a){return{integerValue:""+a}}function hj(a,b){return e_(b)?hi(b):hh(a,b)}class hk{constructor(){this._=void 0}}function hl(a,b,c){return a instanceof hp?eR(c,b):a instanceof hq?hr(a,b):a instanceof hs?ht(a,b):hv(a,b)}function hm(a,b,c){return a instanceof hq?hr(a,b):a instanceof hs?ht(a,b):c}function hn(a,b){return a instanceof hu?fB(b)?b:{integerValue:0}:null}function ho(a,b){return a instanceof hq&&b instanceof hq||a instanceof hs&&b instanceof hs?cd(a.elements,b.elements,e7):a instanceof hu&&b instanceof hu?e7(a.operand,b.operand):a instanceof hp&&b instanceof hp}class hp extends hk{}class hq extends hk{constructor(a){super(),this.elements=a}}function hr(a,b){let c=hx(b);for(let b of a.elements)c.some(a=>e7(a,b))||c.push(b);return{arrayValue:{values:c}}}class hs extends hk{constructor(a){super(),this.elements=a}}function ht(a,b){let c=hx(b);for(let b of a.elements)c=c.filter(a=>!e7(a,b));return{arrayValue:{values:c}}}class hu extends hk{constructor(a,b){super(),this.serializer=a,this.operand=b}}function hv(a,b){let c=hn(a,b),d=hw(c)+hw(a.operand);return fz(c)&&fz(a.operand)?hi(d):hh(a.serializer,d)}function hw(a){return eK(a.integerValue||a.doubleValue)}function hx(a){return fC(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class hy{constructor(a,b){this.field=a,this.transform=b}}function hz(a,b){return a.field.isEqual(b.field)&&ho(a.transform,b.transform)}function hA(a,b){return void 0===a&&void 0===b||!!a&&!!b&&cd(a,b,(a,b)=>hz(a,b))}class hB{constructor(a,b){this.version=a,this.transformResults=b}}class hC{constructor(a,b){this.updateTime=a,this.exists=b}static none(){return new hC}static exists(a){return new hC(void 0,a)}static updateTime(a){return new hC(a)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(a){return this.exists===a.exists&&(this.updateTime?!!a.updateTime&&this.updateTime.isEqual(a.updateTime):!a.updateTime)}}function hD(a,b){return void 0!==a.updateTime?b.isFoundDocument()&&b.version.isEqual(a.updateTime):void 0===a.exists||a.exists===b.isFoundDocument()}class hE{}function hF(a,b){if(!a.hasLocalMutations||b&&0===b.fields.length)return null;if(null===b)if(a.isNoDocument())return new hT(a.key,hC.none());else return new hK(a.key,a.data,hC.none());{let c=a.data,d=fO.empty(),e=new ey(cj.comparator);for(let a of b.fields)if(!e.has(a)){let b=c.field(a);null===b&&a.length>1&&(a=a.popLast(),b=c.field(a)),null===b?d.delete(a):d.set(a,b),e=e.add(a)}return new hN(a.key,d,new eC(e.toArray()),hC.none())}}function hG(a,b,c){a instanceof hK?hL(a,b,c):a instanceof hN?hO(a,b,c):hU(a,b,c)}function hH(a,b,c,d){return a instanceof hK?hM(a,b,c,d):a instanceof hN?hP(a,b,c,d):hV(a,b,c)}function hI(a,b){let c=null;for(let d of a.fieldTransforms){let a=b.data.field(d.field),e=hn(d.transform,a||null);null!=e&&(null===c&&(c=fO.empty()),c.set(d.field,e))}return c||null}function hJ(a,b){return a.type===b.type&&!!a.key.isEqual(b.key)&&!!a.precondition.isEqual(b.precondition)&&!!hA(a.fieldTransforms,b.fieldTransforms)&&(0===a.type?a.value.isEqual(b.value):1!==a.type||a.data.isEqual(b.data)&&a.fieldMask.isEqual(b.fieldMask))}class hK extends hE{constructor(a,b,c,d=[]){super(),this.key=a,this.value=b,this.precondition=c,this.fieldTransforms=d,this.type=0}getFieldMask(){return null}}function hL(a,b,c){let d=a.value.clone(),e=hR(a.fieldTransforms,b,c.transformResults);d.setAll(e),b.convertToFoundDocument(c.version,d).setHasCommittedMutations()}function hM(a,b,c,d){if(!hD(a.precondition,b))return c;let e=a.value.clone(),f=hS(a.fieldTransforms,d,b);return e.setAll(f),b.convertToFoundDocument(b.version,e).setHasLocalMutations(),null}class hN extends hE{constructor(a,b,c,d,e=[]){super(),this.key=a,this.data=b,this.fieldMask=c,this.precondition=d,this.fieldTransforms=e,this.type=1}getFieldMask(){return this.fieldMask}}function hO(a,b,c){if(!hD(a.precondition,b))return void b.convertToUnknownDocument(c.version);let d=hR(a.fieldTransforms,b,c.transformResults),e=b.data;e.setAll(hQ(a)),e.setAll(d),b.convertToFoundDocument(c.version,e).setHasCommittedMutations()}function hP(a,b,c,d){if(!hD(a.precondition,b))return c;let e=hS(a.fieldTransforms,d,b),f=b.data;return(f.setAll(hQ(a)),f.setAll(e),b.convertToFoundDocument(b.version,f).setHasLocalMutations(),null===c)?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(a=>a.field))}function hQ(a){let b=new Map;return a.fieldMask.fields.forEach(c=>{if(!c.isEmpty()){let d=a.data.field(c);b.set(c,d)}}),b}function hR(a,b,c){let d=new Map;bE(a.length===c.length,32656,{serverTransformResultCount:c.length,fieldTransformCount:a.length});for(let e=0;e<c.length;e++){let f=a[e],g=f.transform,h=b.data.field(f.field);d.set(f.field,hm(g,h,c[e]))}return d}function hS(a,b,c){let d=new Map;for(let e of a){let a=e.transform,f=c.data.field(e.field);d.set(e.field,hl(a,f,b))}return d}class hT extends hE{constructor(a,b){super(),this.key=a,this.precondition=b,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}function hU(a,b,c){b.convertToNoDocument(c.version).setHasCommittedMutations()}function hV(a,b,c){return hD(a.precondition,b)?(b.convertToNoDocument(b.version).setHasLocalMutations(),null):c}class hW extends hE{constructor(a,b){super(),this.key=a,this.precondition=b,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class hX{constructor(a,b,c,d){this.batchId=a,this.localWriteTime=b,this.baseMutations=c,this.mutations=d}applyToRemoteDocument(a,b){let c=b.mutationResults;for(let b=0;b<this.mutations.length;b++){let d=this.mutations[b];d.key.isEqual(a.key)&&hG(d,a,c[b])}}applyToLocalView(a,b){for(let c of this.baseMutations)c.key.isEqual(a.key)&&(b=hH(c,a,b,this.localWriteTime));for(let c of this.mutations)c.key.isEqual(a.key)&&(b=hH(c,a,b,this.localWriteTime));return b}applyToLocalDocumentSet(a,b){let c=g9();return this.mutations.forEach(d=>{let e=a.get(d.key),f=e.overlayedDocument,g=this.applyToLocalView(f,e.mutatedFields),h=hF(f,g=b.has(d.key)?null:g);null!==h&&c.set(d.key,h),f.isValidDocument()||f.convertToNoDocument(cz.min())}),c}keys(){return this.mutations.reduce((a,b)=>a.add(b.key),he())}isEqual(a){return this.batchId===a.batchId&&cd(this.mutations,a.mutations,(a,b)=>hJ(a,b))&&cd(this.baseMutations,a.baseMutations,(a,b)=>hJ(a,b))}}class hY{constructor(a,b,c,d){this.batch=a,this.commitVersion=b,this.mutationResults=c,this.docVersions=d}static from(a,b,c){bE(a.mutations.length===c.length,58842,{mutationsSent:a.mutations.length,resultsReceived:c.length});let d=hc(),e=a.mutations;for(let a=0;a<e.length;a++)d=d.insert(e[a].key,c[a].version);return new hY(a,b,c,d)}}class hZ{constructor(a,b){this.largestBatchId=a,this.mutation=b}getKey(){return this.mutation.key}isEqual(a){return null!==a&&this.mutation===a.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class h${constructor(a,b){this.count=a,this.unchangedNames=b}}function h_(a){switch(a){case bG:return bC(64938);case bH:case bI:case bK:case bP:case bU:case bV:case bO:return!1;case bJ:case bL:case bM:case bN:case bQ:case bR:case bS:case bT:case bW:return!0;default:return bC(15467,{code:a})}}function h0(a){return h_(a)&&a!==bR}function h1(a){if(void 0===a)return bz("GRPC error has no .code"),bI;switch(a){case bk.OK:return bG;case bk.CANCELLED:return bH;case bk.UNKNOWN:return bI;case bk.DEADLINE_EXCEEDED:return bK;case bk.RESOURCE_EXHAUSTED:return bP;case bk.INTERNAL:return bU;case bk.UNAVAILABLE:return bV;case bk.UNAUTHENTICATED:return bO;case bk.INVALID_ARGUMENT:return bJ;case bk.NOT_FOUND:return bL;case bk.ALREADY_EXISTS:return bM;case bk.PERMISSION_DENIED:return bN;case bk.FAILED_PRECONDITION:return bQ;case bk.ABORTED:return bR;case bk.OUT_OF_RANGE:return bS;case bk.UNIMPLEMENTED:return bT;case bk.DATA_LOSS:return bW;default:return bC(39323,{code:a})}}!function(a){a[a.OK=0]="OK",a[a.CANCELLED=1]="CANCELLED",a[a.UNKNOWN=2]="UNKNOWN",a[a.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",a[a.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",a[a.NOT_FOUND=5]="NOT_FOUND",a[a.ALREADY_EXISTS=6]="ALREADY_EXISTS",a[a.PERMISSION_DENIED=7]="PERMISSION_DENIED",a[a.UNAUTHENTICATED=16]="UNAUTHENTICATED",a[a.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",a[a.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",a[a.ABORTED=10]="ABORTED",a[a.OUT_OF_RANGE=11]="OUT_OF_RANGE",a[a.UNIMPLEMENTED=12]="UNIMPLEMENTED",a[a.INTERNAL=13]="INTERNAL",a[a.UNAVAILABLE=14]="UNAVAILABLE",a[a.DATA_LOSS=15]="DATA_LOSS"}(bk||(bk={}));class h2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}let h3=null;function h4(a){if(h3)throw Error("a TestingHooksSpi instance is already set");h3=a}function h5(){return new bo.TextEncoder}function h6(){return new bo.TextDecoder("utf-8")}let h7=new bi([0xffffffff,0xffffffff],0);function h8(a){let b=h5().encode(a),c=new bj;return c.update(b),new Uint8Array(c.digest())}function h9(a){let b=new DataView(a.buffer),c=b.getUint32(0,!0),d=b.getUint32(4,!0),e=b.getUint32(8,!0),f=b.getUint32(12,!0);return[new bi([c,d],0),new bi([e,f],0)]}class ia{constructor(a,b,c){if(this.bitmap=a,this.padding=b,this.hashCount=c,b<0||b>=8)throw new ib(`Invalid padding: ${b}`);if(c<0||a.length>0&&0===this.hashCount)throw new ib(`Invalid hash count: ${c}`);if(0===a.length&&0!==b)throw new ib(`Invalid padding when bitmap length is 0: ${b}`);this.bitCount=8*a.length-b,this.bitCountInInteger=bi.fromNumber(this.bitCount)}getBitIndex(a,b,c){let d=a.add(b.multiply(bi.fromNumber(c)));return 1===d.compare(h7)&&(d=new bi([d.getBits(0),d.getBits(1)],0)),d.modulo(this.bitCountInInteger).toNumber()}isBitSet(a){return(this.bitmap[Math.floor(a/8)]&1<<a%8)!=0}mightContain(a){if(0===this.bitCount)return!1;let[b,c]=h9(h8(a));for(let a=0;a<this.hashCount;a++){let d=this.getBitIndex(b,c,a);if(!this.isBitSet(d))return!1}return!0}static create(a,b,c){let d=a%8==0?0:8-a%8,e=new ia(new Uint8Array(Math.ceil(a/8)),d,b);return c.forEach(a=>e.insert(a)),e}insert(a){if(0===this.bitCount)return;let[b,c]=h9(h8(a));for(let a=0;a<this.hashCount;a++){let d=this.getBitIndex(b,c,a);this.setBit(d)}}setBit(a){let b=Math.floor(a/8),c=a%8;this.bitmap[b]|=1<<c}}class ib extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ic{constructor(a,b,c,d,e){this.snapshotVersion=a,this.targetChanges=b,this.targetMismatches=c,this.documentUpdates=d,this.resolvedLimboDocuments=e}static createSynthesizedRemoteEventForCurrentChange(a,b,c){let d=new Map;return d.set(a,id.createSynthesizedTargetChangeForCurrentChange(a,b,c)),new ic(cz.min(),d,new eu(b8),g3(),he())}}class id{constructor(a,b,c,d,e){this.resumeToken=a,this.current=b,this.addedDocuments=c,this.modifiedDocuments=d,this.removedDocuments=e}static createSynthesizedTargetChangeForCurrentChange(a,b,c){return new id(c,b,he(),he(),he())}}class ie{constructor(a,b,c,d){this.updatedTargetIds=a,this.removedTargetIds=b,this.key=c,this.newDoc=d}}class ig{constructor(a,b){this.targetId=a,this.existenceFilter=b}}class ih{constructor(a,b,c=eF.EMPTY_BYTE_STRING,d=null){this.state=a,this.targetIds=b,this.resumeToken=c,this.cause=d}}class ii{constructor(){this.pendingResponses=0,this.documentChanges=im(),this._resumeToken=eF.EMPTY_BYTE_STRING,this._current=!1,this._hasPendingChanges=!0}get current(){return this._current}get resumeToken(){return this._resumeToken}get isPending(){return 0!==this.pendingResponses}get hasPendingChanges(){return this._hasPendingChanges}updateResumeToken(a){a.approximateByteSize()>0&&(this._hasPendingChanges=!0,this._resumeToken=a)}toTargetChange(){let a=he(),b=he(),c=he();return this.documentChanges.forEach((d,e)=>{switch(e){case 0:a=a.add(d);break;case 2:b=b.add(d);break;case 1:c=c.add(d);break;default:bC(38017,{changeType:e})}}),new id(this._resumeToken,this._current,a,b,c)}clearPendingChanges(){this._hasPendingChanges=!1,this.documentChanges=im()}addDocumentChange(a,b){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(a,b)}removeDocumentChange(a){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(a)}recordPendingTargetRequest(){this.pendingResponses+=1}recordTargetResponse(){this.pendingResponses-=1,bE(this.pendingResponses>=0,3241,{pendingResponses:this.pendingResponses})}markCurrent(){this._hasPendingChanges=!0,this._current=!0}}let ij="WatchChangeAggregator";class ik{constructor(a){this.metadataProvider=a,this.targetStates=new Map,this.pendingDocumentUpdates=g3(),this.pendingDocumentUpdatesByTarget=il(),this.pendingDocumentTargetMapping=il(),this.pendingTargetResets=new eu(b8)}handleDocumentChange(a){for(let b of a.updatedTargetIds)a.newDoc&&a.newDoc.isFoundDocument()?this.addDocumentToTarget(b,a.newDoc):this.removeDocumentFromTarget(b,a.key,a.newDoc);for(let b of a.removedTargetIds)this.removeDocumentFromTarget(b,a.key,a.newDoc)}handleTargetChange(a){this.forEachTarget(a,b=>{let c=this.ensureTargetState(b);switch(a.state){case 0:this.isActiveTarget(b)&&c.updateResumeToken(a.resumeToken);break;case 1:c.recordTargetResponse(),c.isPending||c.clearPendingChanges(),c.updateResumeToken(a.resumeToken);break;case 2:c.recordTargetResponse(),c.isPending||this.removeTarget(b);break;case 3:this.isActiveTarget(b)&&(c.markCurrent(),c.updateResumeToken(a.resumeToken));break;case 4:this.isActiveTarget(b)&&(this.resetTarget(b),c.updateResumeToken(a.resumeToken));break;default:bC(56790,{state:a.state})}})}forEachTarget(a,b){a.targetIds.length>0?a.targetIds.forEach(b):this.targetStates.forEach((a,c)=>{this.isActiveTarget(c)&&b(c)})}handleExistenceFilter(a){let b=a.targetId,c=a.existenceFilter.count,d=this.targetDataForActiveTarget(b);if(d){let e=d.target;if(gr(e))if(0===c){let a=new ck(e.path);this.removeDocumentFromTarget(b,a,fQ.newNoDocument(a,cz.min()))}else bE(1===c,20013,{expectedCount:c});else{let d=this.getCurrentDocumentCountForTarget(b);if(d!==c){let c=this.parseBloomFilter(a),e=c?this.applyBloomFilter(c,a,d):1;if(0!==e){this.resetTarget(b);let a=2===e?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.pendingTargetResets=this.pendingTargetResets.insert(b,a)}h3?.notifyOnExistenceFilterMismatch(io(d,a.existenceFilter,this.metadataProvider.getDatabaseId(),c,e))}}}}parseBloomFilter(a){let b,c,d=a.existenceFilter.unchangedNames;if(!d||!d.bits)return null;let{bits:{bitmap:e="",padding:f=0},hashCount:g=0}=d;try{b=eL(e).toUint8Array()}catch(a){if(a instanceof h2)return bA("Decoding the base64 bloom filter in existence filter failed ("+a.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw a}try{c=new ia(b,f,g)}catch(a){return a instanceof ib?bA("BloomFilter error: ",a):bA("Applying bloom filter failed: ",a),null}return 0===c.bitCount?null:c}applyBloomFilter(a,b,c){return 2*(b.existenceFilter.count!==c-this.filterRemovedDocuments(a,b.targetId))}filterRemovedDocuments(a,b){let c=this.metadataProvider.getRemoteKeysForTarget(b),d=0;return c.forEach(c=>{let e=this.metadataProvider.getDatabaseId(),f=`projects/${e.projectId}/databases/${e.database}/documents/${c.path.canonicalString()}`;!a.mightContain(f)&&(this.removeDocumentFromTarget(b,c,null),d++)}),d}createRemoteEvent(a){let b=new Map;this.targetStates.forEach((c,d)=>{let e=this.targetDataForActiveTarget(d);if(e){if(c.current&&gr(e.target)){let b=new ck(e.target.path);this.ensureDocumentUpdateByTarget(b).has(d)||this.targetContainsDocument(d,b)||this.removeDocumentFromTarget(d,b,fQ.newNoDocument(b,a))}c.hasPendingChanges&&(b.set(d,c.toTargetChange()),c.clearPendingChanges())}});let c=he();this.pendingDocumentTargetMapping.forEach((a,b)=>{let d=!0;b.forEachWhile(a=>{let b=this.targetDataForActiveTarget(a);return!b||"TargetPurposeLimboResolution"===b.purpose||(d=!1,!1)}),d&&(c=c.add(a))}),this.pendingDocumentUpdates.forEach((b,c)=>c.setReadTime(a));let d=new ic(a,b,this.pendingTargetResets,this.pendingDocumentUpdates,c);return this.pendingDocumentUpdates=g3(),this.pendingDocumentUpdatesByTarget=il(),this.pendingDocumentTargetMapping=il(),this.pendingTargetResets=new eu(b8),d}addDocumentToTarget(a,b){if(!this.isActiveTarget(a))return;let c=2*!!this.targetContainsDocument(a,b.key);this.ensureTargetState(a).addDocumentChange(b.key,c),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(b.key,b),this.pendingDocumentUpdatesByTarget=this.pendingDocumentUpdatesByTarget.insert(b.key,this.ensureDocumentUpdateByTarget(b.key).add(a)),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(b.key,this.ensureDocumentTargetMapping(b.key).add(a))}removeDocumentFromTarget(a,b,c){if(!this.isActiveTarget(a))return;let d=this.ensureTargetState(a);this.targetContainsDocument(a,b)?d.addDocumentChange(b,1):d.removeDocumentChange(b),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(b,this.ensureDocumentTargetMapping(b).delete(a)),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(b,this.ensureDocumentTargetMapping(b).add(a)),c&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(b,c))}removeTarget(a){this.targetStates.delete(a)}getCurrentDocumentCountForTarget(a){let b=this.ensureTargetState(a).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(a).size+b.addedDocuments.size-b.removedDocuments.size}recordPendingTargetRequest(a){this.ensureTargetState(a).recordPendingTargetRequest()}ensureTargetState(a){let b=this.targetStates.get(a);return b||(b=new ii,this.targetStates.set(a,b)),b}ensureDocumentTargetMapping(a){let b=this.pendingDocumentTargetMapping.get(a);return b||(b=new ey(b8),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(a,b)),b}ensureDocumentUpdateByTarget(a){let b=this.pendingDocumentUpdatesByTarget.get(a);return b||(b=new ey(b8),this.pendingDocumentUpdatesByTarget=this.pendingDocumentUpdatesByTarget.insert(a,b)),b}isActiveTarget(a){let b=null!==this.targetDataForActiveTarget(a);return b||by(ij,"Detected inactive target",a),b}targetDataForActiveTarget(a){let b=this.targetStates.get(a);return b&&b.isPending?null:this.metadataProvider.getTargetDataForTarget(a)}resetTarget(a){this.targetStates.set(a,new ii),this.metadataProvider.getRemoteKeysForTarget(a).forEach(b=>{this.removeDocumentFromTarget(a,b,null)})}targetContainsDocument(a,b){return this.metadataProvider.getRemoteKeysForTarget(a).has(b)}}function il(){return new eu(ck.comparator)}function im(){return new eu(ck.comparator)}function io(a,b,c,d,e){let f={localCacheCount:a,existenceFilterCount:b.count,databaseId:c.database,projectId:c.projectId},g=b.unchangedNames;return g&&(f.bloomFilter={applied:0===e,hashCount:g?.hashCount??0,bitmapLength:g?.bits?.bitmap?.length??0,padding:g?.bits?.padding??0,mightContain:a=>d?.mightContain(a)??!1}),f}let ip=(()=>{let a={};return a.asc="ASCENDING",a.desc="DESCENDING",a})(),iq=(()=>{let a={};return a["<"]="LESS_THAN",a["<="]="LESS_THAN_OR_EQUAL",a[">"]="GREATER_THAN",a[">="]="GREATER_THAN_OR_EQUAL",a["=="]="EQUAL",a["!="]="NOT_EQUAL",a["array-contains"]="ARRAY_CONTAINS",a.in="IN",a["not-in"]="NOT_IN",a["array-contains-any"]="ARRAY_CONTAINS_ANY",a})(),ir=(()=>{let a={};return a.and="AND",a.or="OR",a})();function is(a,b){}class it{constructor(a,b){this.databaseId=a,this.useProto3Json=b}}function iu(a){return new bX(void 0===a.code?bI:h1(a.code),a.message||"")}function iv(a,b){return a.useProto3Json||eZ(b)?b:{value:b}}function iw(a){let b;return eZ(b="object"==typeof a?a.value:a)?null:b}function ix(a,b){if(!a.useProto3Json)return{seconds:""+b.seconds,nanos:b.nanoseconds};{let a=new Date(1e3*b.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),c=("000000000"+b.nanoseconds).slice(-9);return`${a}.${c}Z`}}function iy(a){let b=eJ(a);return new cy(b.seconds,b.nanos)}function iz(a,b){return a.useProto3Json?b.toBase64():b.toUint8Array()}function iA(a,b){return a.useProto3Json?(bE(void 0===b||"string"==typeof b,58123),eF.fromBase64String(b||"")):(bE(void 0===b||b instanceof Buffer||b instanceof Uint8Array,16193),eF.fromUint8Array(b||new Uint8Array))}function iB(a,b){return ix(a,b.toTimestamp())}function iC(a){return bE(!!a,49232),cz.fromTimestamp(iy(a))}function iD(a,b){return iE(a,b).canonicalString()}function iE(a,b){let c=iL(a).child("documents");return void 0===b?c:c.child(b)}function iF(a){let b=ch.fromString(a);return bE(jC(b),10190,{key:b.toString()}),b}function iG(a,b){return iD(a.databaseId,b.path)}function iH(a,b){let c=iF(b);if(c.get(1)!==a.databaseId.projectId)throw new bX(bJ,"Tried to deserialize key from different project: "+c.get(1)+" vs "+a.databaseId.projectId);if(c.get(3)!==a.databaseId.database)throw new bX(bJ,"Tried to deserialize key from different database: "+c.get(3)+" vs "+a.databaseId.database);return new ck(iM(c))}function iI(a,b){return iD(a.databaseId,b)}function iJ(a){let b=iF(a);return 4===b.length?ch.emptyPath():iM(b)}function iK(a){return new ch(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function iL(a){return new ch(["projects",a.projectId,"databases",a.database])}function iM(a){return bE(a.length>4&&"documents"===a.get(4),29091,{key:a.toString()}),a.popFirst(5)}function iN(a,b,c){return{name:iG(a,b),fields:c.value.mapValue.fields}}function iO(a,b){return{name:iG(a,b.key),fields:b.data.value.mapValue.fields,updateTime:ix(a,b.version.toTimestamp()),createTime:ix(a,b.createTime.toTimestamp())}}function iP(a,b,c){let d=iH(a,b.name),e=iC(b.updateTime),f=b.createTime?iC(b.createTime):cz.min(),g=new fO({mapValue:{fields:b.fields}}),h=fQ.newFoundDocument(d,e,f,g);return c&&h.setHasCommittedMutations(),c?h.setHasCommittedMutations():h}function iQ(a,b){bE(!!b.found,43571),is(b.found.name),is(b.found.updateTime);let c=iH(a,b.found.name),d=iC(b.found.updateTime),e=b.found.createTime?iC(b.found.createTime):cz.min(),f=new fO({mapValue:{fields:b.found.fields}});return fQ.newFoundDocument(c,d,e,f)}function iR(a,b){bE(!!b.missing,3894),bE(!!b.readTime,22933);let c=iH(a,b.missing),d=iC(b.readTime);return fQ.newNoDocument(c,d)}function iS(a,b){return"found"in b?iQ(a,b):"missing"in b?iR(a,b):bC(7234,{result:b})}function iT(a,b){let c;if("targetChange"in b){is(b.targetChange);let d=iU(b.targetChange.targetChangeType||"NO_CHANGE"),e=b.targetChange.targetIds||[],f=iA(a,b.targetChange.resumeToken),g=b.targetChange.cause;c=new ih(d,e,f,g&&iu(g)||null)}else if("documentChange"in b){is(b.documentChange);let d=b.documentChange;is(d.document),is(d.document.name),is(d.document.updateTime);let e=iH(a,d.document.name),f=iC(d.document.updateTime),g=d.document.createTime?iC(d.document.createTime):cz.min(),h=new fO({mapValue:{fields:d.document.fields}}),i=fQ.newFoundDocument(e,f,g,h);c=new ie(d.targetIds||[],d.removedTargetIds||[],i.key,i)}else if("documentDelete"in b){is(b.documentDelete);let d=b.documentDelete;is(d.document);let e=iH(a,d.document),f=d.readTime?iC(d.readTime):cz.min(),g=fQ.newNoDocument(e,f);c=new ie([],d.removedTargetIds||[],g.key,g)}else if("documentRemove"in b){is(b.documentRemove);let d=b.documentRemove;is(d.document);let e=iH(a,d.document);c=new ie([],d.removedTargetIds||[],e,null)}else{if(!("filter"in b))return bC(11601,{change:b});is(b.filter);let a=b.filter;is(a.targetId);let{count:d=0,unchangedNames:e}=a,f=new h$(d,e);c=new ig(a.targetId,f)}return c}function iU(a){if("NO_CHANGE"===a)return 0;if("ADD"===a)return 1;if("REMOVE"===a)return 2;if("CURRENT"===a)return 3;if("RESET"===a)return 4;else return bC(39313,{state:a})}function iV(a){if(!("targetChange"in a))return cz.min();let b=a.targetChange;return b.targetIds&&b.targetIds.length||!b.readTime?cz.min():iC(b.readTime)}function iW(a,b){let c;if(b instanceof hK)c={update:iN(a,b.key,b.value)};else if(b instanceof hT)c={delete:iG(a,b.key)};else if(b instanceof hN)c={update:iN(a,b.key,b.data),updateMask:jA(b.fieldMask)};else{if(!(b instanceof hW))return bC(16599,{mutationType:b.type});c={verify:iG(a,b.key)}}return b.fieldTransforms.length>0&&(c.updateTransforms=b.fieldTransforms.map(b=>i0(a,b))),b.precondition.isNone||(c.currentDocument=iY(a,b.precondition)),c}function iX(a,b){let c=b.currentDocument?iZ(b.currentDocument):hC.none(),d=b.updateTransforms?b.updateTransforms.map(b=>i1(a,b)):[];if(b.update){is(b.update.name);let e=iH(a,b.update.name),f=new fO({mapValue:{fields:b.update.fields}});return b.updateMask?new hN(e,f,jB(b.updateMask),c,d):new hK(e,f,c,d)}return b.delete?new hT(iH(a,b.delete),c):b.verify?new hW(iH(a,b.verify),c):bC(1463,{proto:b})}function iY(a,b){return void 0!==b.updateTime?{updateTime:iB(a,b.updateTime)}:void 0!==b.exists?{exists:b.exists}:bC(27497)}function iZ(a){return void 0!==a.updateTime?hC.updateTime(iC(a.updateTime)):void 0!==a.exists?hC.exists(a.exists):hC.none()}function i$(a,b){let c=a.updateTime?iC(a.updateTime):iC(b);return c.isEqual(cz.min())&&(c=iC(b)),new hB(c,a.transformResults||[])}function i_(a,b){return a&&a.length>0?(bE(void 0!==b,14353),a.map(a=>i$(a,b))):[]}function i0(a,b){let c=b.transform;if(c instanceof hp)return{fieldPath:b.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof hq)return{fieldPath:b.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof hs)return{fieldPath:b.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof hu)return{fieldPath:b.field.canonicalString(),increment:c.operand};throw bC(20930,{transform:b.transform})}function i1(a,b){let c=null;return"setToServerValue"in b?(bE("REQUEST_TIME"===b.setToServerValue,16630,{proto:b}),c=new hp):"appendMissingElements"in b?c=new hq(b.appendMissingElements.values||[]):"removeAllFromArray"in b?c=new hs(b.removeAllFromArray.values||[]):"increment"in b?c=new hu(a,b.increment):bC(16584,{proto:b}),new hy(cj.fromServerFormat(b.fieldPath),c)}function i2(a,b){return{documents:[iI(a,b.path)]}}function i3(a){let b=a.documents.length;return bE(1===b,1966,{count:b}),gK(gD(iJ(a.documents[0])))}function i4(a,b){let c,d={structuredQuery:{}},e=b.path;null!==b.collectionGroup?(c=e,d.structuredQuery.from=[{collectionId:b.collectionGroup,allDescendants:!0}]):(c=e.popLast(),d.structuredQuery.from=[{collectionId:e.lastSegment()}]),d.parent=iI(a,c);let f=jb(b.filters);f&&(d.structuredQuery.where=f);let g=je(b.orderBy);g&&(d.structuredQuery.orderBy=g);let h=iv(a,b.limit);return null!==h&&(d.structuredQuery.limit=h),b.startAt&&(d.structuredQuery.startAt=jg(b.startAt)),b.endAt&&(d.structuredQuery.endAt=jh(b.endAt)),{queryTarget:d,parent:c}}function i5(a,b,c,d){let{queryTarget:e,parent:f}=i4(a,b),g={},h=[],i=0;return c.forEach(a=>{let b=d?a.alias:`aggregate_${i++}`;g[b]=a.alias,"count"===a.aggregateType?h.push({alias:b,count:{}}):"avg"===a.aggregateType?h.push({alias:b,avg:{field:jq(a.fieldPath)}}):"sum"===a.aggregateType&&h.push({alias:b,sum:{field:jq(a.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:h,structuredQuery:e.structuredQuery},parent:e.parent},aliasMap:g,parent:f}}function i6(a){let b=iJ(a.parent),c=a.structuredQuery,d=c.from?c.from.length:0,e=null;if(d>0){bE(1===d,65062);let a=c.from[0];a.allDescendants?e=a.collectionId:b=b.child(a.collectionId)}let f=[];c.where&&(f=jc(c.where));let g=[];c.orderBy&&(g=jf(c.orderBy));let h=null;c.limit&&(h=iw(c.limit));let i=null;c.startAt&&(i=ji(c.startAt));let j=null;return c.endAt&&(j=jj(c.endAt)),gC(b,e,g,f,h,"F",i,j)}function i7(a){return gK(i6(a))}function i8(a,b){let c=i9(b.purpose);return null==c?null:{"goog-listen-tags":c}}function i9(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return bC(28987,{purpose:a})}}function ja(a,b){let c,d=b.target;if((c=gr(d)?{documents:i2(a,d)}:{query:i4(a,d).queryTarget}).targetId=b.targetId,b.resumeToken.approximateByteSize()>0){c.resumeToken=iz(a,b.resumeToken);let d=iv(a,b.expectedCount);null!==d&&(c.expectedCount=d)}else if(b.snapshotVersion.compareTo(cz.min())>0){c.readTime=ix(a,b.snapshotVersion.toTimestamp());let d=iv(a,b.expectedCount);null!==d&&(c.expectedCount=d)}return c}function jb(a){if(0!==a.length)return ju(f1.create(a,"and"))}function jc(a){let b=jd(a);return b instanceof f1&&f4(b)?b.getFilters():[b]}function jd(a){return void 0!==a.unaryFilter?jx(a):void 0!==a.fieldFilter?jy(a):void 0!==a.compositeFilter?jz(a):bC(30097,{filter:a})}function je(a){if(0!==a.length)return a.map(a=>js(a))}function jf(a){return a.map(a=>jt(a))}function jg(a){return{before:a.inclusive,values:a.position}}function jh(a){return{before:!a.inclusive,values:a.position}}function ji(a){let b=!!a.before;return new fS(a.values||[],b)}function jj(a){let b=!a.before;return new fS(a.values||[],b)}function jk(a){return ip[a]}function jl(a){switch(a){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}function jm(a){return iq[a]}function jn(a){return ir[a]}function jo(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return bC(58110);default:return bC(50506)}}function jp(a){switch(a){case"AND":return"and";case"OR":return"or";default:return bC(1026)}}function jq(a){return{fieldPath:a.canonicalString()}}function jr(a){return cj.fromServerFormat(a.fieldPath)}function js(a){return{field:jq(a.field),direction:jk(a.dir)}}function jt(a){return new fX(jr(a.field),jl(a.direction))}function ju(a){return a instanceof f0?jw(a):a instanceof f1?jv(a):bC(54877,{filter:a})}function jv(a){let b=a.getFilters().map(a=>ju(a));return 1===b.length?b[0]:{compositeFilter:{op:jn(a.op),filters:b}}}function jw(a){if("=="===a.op){if(fE(a.value))return{unaryFilter:{field:jq(a.field),op:"IS_NAN"}};else if(fD(a.value))return{unaryFilter:{field:jq(a.field),op:"IS_NULL"}}}else if("!="===a.op){if(fE(a.value))return{unaryFilter:{field:jq(a.field),op:"IS_NOT_NAN"}};else if(fD(a.value))return{unaryFilter:{field:jq(a.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jq(a.field),op:jm(a.op),value:a.value}}}function jx(a){switch(a.unaryFilter.op){case"IS_NAN":let b=jr(a.unaryFilter.field);return f0.create(b,"==",{doubleValue:NaN});case"IS_NULL":let c=jr(a.unaryFilter.field);return f0.create(c,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let d=jr(a.unaryFilter.field);return f0.create(d,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let e=jr(a.unaryFilter.field);return f0.create(e,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return bC(61313);default:return bC(60726)}}function jy(a){return f0.create(jr(a.fieldFilter.field),jo(a.fieldFilter.op),a.fieldFilter.value)}function jz(a){return f1.create(a.compositeFilter.filters.map(a=>jd(a)),jp(a.compositeFilter.op))}function jA(a){let b=[];return a.fields.forEach(a=>b.push(a.canonicalString())),{fieldPaths:b}}function jB(a){return new eC((a.fieldPaths||[]).map(a=>cj.fromServerFormat(a)))}function jC(a){return a.length>=4&&"projects"===a.get(0)&&"databases"===a.get(2)}function jD(a){return!!a&&"function"==typeof a._toProto&&"ProtoValue"===a._protoValueType}class jE{constructor(a,b,c,d,e=cz.min(),f=cz.min(),g=eF.EMPTY_BYTE_STRING,h=null){this.target=a,this.targetId=b,this.purpose=c,this.sequenceNumber=d,this.snapshotVersion=e,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=h}withSequenceNumber(a){return new jE(this.target,this.targetId,this.purpose,a,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(a,b){return new jE(this.target,this.targetId,this.purpose,this.sequenceNumber,b,this.lastLimboFreeSnapshotVersion,a,null)}withExpectedCount(a){return new jE(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,a)}withLastLimboFreeSnapshotVersion(a){return new jE(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,a,this.resumeToken,this.expectedCount)}}class jF{constructor(a){this.remoteSerializer=a}}function jG(a,b){let c;if(b.document)c=iP(a.remoteSerializer,b.document,!!b.hasCommittedMutations);else if(b.noDocument){let a=ck.fromSegments(b.noDocument.path),d=jL(b.noDocument.readTime);c=fQ.newNoDocument(a,d),b.hasCommittedMutations&&c.setHasCommittedMutations()}else{if(!b.unknownDocument)return bC(56709);let a=ck.fromSegments(b.unknownDocument.path),d=jL(b.unknownDocument.version);c=fQ.newUnknownDocument(a,d)}return b.readTime&&c.setReadTime(jJ(b.readTime)),c}function jH(a,b){let c=b.key,d={prefixPath:c.getCollectionPath().popLast().toArray(),collectionGroup:c.collectionGroup,documentId:c.path.lastSegment(),readTime:jI(b.readTime),hasCommittedMutations:b.hasCommittedMutations};if(b.isFoundDocument())d.document=iO(a.remoteSerializer,b);else if(b.isNoDocument())d.noDocument={path:c.path.toArray(),readTime:jK(b.version)};else{if(!b.isUnknownDocument())return bC(57904,{document:b});d.unknownDocument={path:c.path.toArray(),version:jK(b.version)}}return d}function jI(a){let b=a.toTimestamp();return[b.seconds,b.nanoseconds]}function jJ(a){let b=new cy(a[0],a[1]);return cz.fromTimestamp(b)}function jK(a){let b=a.toTimestamp();return{seconds:b.seconds,nanoseconds:b.nanoseconds}}function jL(a){let b=new cy(a.seconds,a.nanoseconds);return cz.fromTimestamp(b)}function jM(a,b,c){let d=c.baseMutations.map(b=>iW(a.remoteSerializer,b)),e=c.mutations.map(b=>iW(a.remoteSerializer,b));return{userId:b,batchId:c.batchId,localWriteTimeMs:c.localWriteTime.toMillis(),baseMutations:d,mutations:e}}function jN(a,b){let c=(b.baseMutations||[]).map(b=>iX(a.remoteSerializer,b));for(let a=0;a<b.mutations.length-1;++a){let c=b.mutations[a];a+1<b.mutations.length&&void 0!==b.mutations[a+1].transform&&(c.updateTransforms=b.mutations[a+1].transform.fieldTransforms,b.mutations.splice(a+1,1),++a)}let d=b.mutations.map(b=>iX(a.remoteSerializer,b)),e=cy.fromMillis(b.localWriteTimeMs);return new hX(b.batchId,e,c,d)}function jO(a){let b,c=jL(a.readTime),d=void 0!==a.lastLimboFreeSnapshotVersion?jL(a.lastLimboFreeSnapshotVersion):cz.min();return new jE(b=jQ(a.query)?i3(a.query):i7(a.query),a.targetId,"TargetPurposeListen",a.lastListenSequenceNumber,c,d,eF.fromBase64String(a.resumeToken))}function jP(a,b){let c,d=jK(b.snapshotVersion),e=jK(b.lastLimboFreeSnapshotVersion);c=gr(b.target)?i2(a.remoteSerializer,b.target):i4(a.remoteSerializer,b.target).queryTarget;let f=b.resumeToken.toBase64();return{targetId:b.targetId,canonicalId:go(b.target),readTime:d,resumeToken:f,lastListenSequenceNumber:b.sequenceNumber,lastLimboFreeSnapshotVersion:e,query:c}}function jQ(a){return void 0!==a.documents}function jR(a){return{id:a.bundleId,createTime:jL(a.createTime),version:a.version}}function jS(a){return{bundleId:a.id,createTime:jK(iC(a.createTime)),version:a.version}}function jT(a){return{name:a.name,query:jV(a.bundledQuery),readTime:jL(a.readTime)}}function jU(a){return{name:a.name,readTime:jK(iC(a.readTime)),bundledQuery:a.bundledQuery}}function jV(a){let b=i6({parent:a.parent,structuredQuery:a.structuredQuery});return"LAST"===a.limitType?gP(b,b.limit,"L"):b}function jW(a){return{name:a.name,query:jV(a.bundledQuery),readTime:iC(a.readTime)}}function jX(a){return{id:a.id,version:a.version,createTime:iC(a.createTime)}}function jY(a,b){return new hZ(b.largestBatchId,iX(a.remoteSerializer,b.overlayMutation))}function jZ(a,b,c){let[d,e,f]=j$(b,c.mutation.key);return{userId:b,collectionPath:e,documentId:f,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:iW(a.remoteSerializer,c.mutation)}}function j$(a,b){let c=b.path.lastSegment();return[a,de(b.path.popLast()),c]}function j_(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(a=>[a.fieldPath.canonicalString(),a.kind])}}function j0(a,b){let c=b?new cK(b.sequenceNumber,new cN(jL(b.readTime),new ck(dh(b.documentKey)),b.largestBatchId)):cK.empty(),d=a.fields.map(([a,b])=>new cI(cj.fromServerFormat(a),b));return new cC(a.indexId,a.collectionGroup,d,c)}function j1(a,b,c,d){return{indexId:a,uid:b,sequenceNumber:c,readTime:jK(d.readTime),documentKey:de(d.documentKey.path),largestBatchId:d.largestBatchId}}class j2{getBundleMetadata(a,b){return j3(a).get(b).next(a=>{if(a)return jR(a)})}saveBundleMetadata(a,b){return j3(a).put(jS(b))}getNamedQuery(a,b){return j4(a).get(b).next(a=>{if(a)return jT(a)})}saveNamedQuery(a,b){return j4(a).put(jU(b))}}function j3(a){return ep(a,dT)}function j4(a){return ep(a,dV)}class j5{constructor(a,b){this.serializer=a,this.userId=b}static forUser(a,b){return new j5(a,b.uid||"")}getOverlay(a,b){return j6(a).get(j$(this.userId,b)).next(a=>a?jY(this.serializer,a):null)}getOverlays(a,b){let c=g8();return cS.forEach(b,b=>this.getOverlay(a,b).next(a=>{null!==a&&c.set(b,a)})).next(()=>c)}saveOverlays(a,b,c){let d=[];return c.forEach((c,e)=>{let f=new hZ(b,e);d.push(this.saveOverlay(a,f))}),cS.waitFor(d)}removeOverlaysForBatchId(a,b,c){let d=new Set;b.forEach(a=>d.add(de(a.getCollectionPath())));let e=[];return d.forEach(b=>{let d=IDBKeyRange.bound([this.userId,b,c],[this.userId,b,c+1],!1,!0);e.push(j6(a).deleteAll(d9,d))}),cS.waitFor(e)}getOverlaysForCollection(a,b,c){let d=g8(),e=de(b),f=IDBKeyRange.bound([this.userId,e,c],[this.userId,e,1/0],!0);return j6(a).loadAll(d9,f).next(a=>{for(let b of a){let a=jY(this.serializer,b);d.set(a.getKey(),a)}return d})}getOverlaysForCollectionGroup(a,b,c,d){let e,f=g8(),g=IDBKeyRange.bound([this.userId,b,c],[this.userId,b,1/0],!0);return j6(a).iterate({index:eb,range:g},(a,b,c)=>{let g=jY(this.serializer,b);f.size()<d||g.largestBatchId===e?(f.set(g.getKey(),g),e=g.largestBatchId):c.done()}).next(()=>f)}saveOverlay(a,b){return j6(a).put(jZ(this.serializer,this.userId,b))}}function j6(a){return ep(a,d7)}class j7{globalsStore(a){return ep(a,ed)}getSessionToken(a){return this.globalsStore(a).get("sessionToken").next(a=>{let b=a?.value;return b?eF.fromUint8Array(b):eF.EMPTY_BYTE_STRING})}setSessionToken(a,b){return this.globalsStore(a).put({name:"sessionToken",value:b.toUint8Array()})}}let j8=5,j9=10,ka=13,kb=15,kc=20,kd=25,ke=30,kf=37,kg=45,kh=50,ki=53,kj=55,kk=60,kl=2;class km{writeIndexValue(a,b){this.writeIndexValueAux(a,b),b.writeInfinity()}writeIndexValueAux(a,b){if("nullValue"in a)this.writeValueTypeLabel(b,j8);else if("booleanValue"in a)this.writeValueTypeLabel(b,j9),b.writeNumber(+!!a.booleanValue);else if("integerValue"in a)this.writeValueTypeLabel(b,kb),b.writeNumber(eK(a.integerValue));else if("doubleValue"in a){let c=eK(a.doubleValue);isNaN(c)?this.writeValueTypeLabel(b,ka):(this.writeValueTypeLabel(b,kb),e$(c)?b.writeNumber(0):b.writeNumber(c))}else if("timestampValue"in a){let c=a.timestampValue;this.writeValueTypeLabel(b,kc),"string"==typeof c&&(c=eJ(c)),b.writeString(`${c.seconds||""}`),b.writeNumber(c.nanos||0)}else if("stringValue"in a)this.writeIndexString(a.stringValue,b),this.writeTruncationMarker(b);else if("bytesValue"in a)this.writeValueTypeLabel(b,ke),b.writeBytes(eL(a.bytesValue)),this.writeTruncationMarker(b);else if("referenceValue"in a)this.writeIndexEntityRef(a.referenceValue,b);else if("geoPointValue"in a){let c=a.geoPointValue;this.writeValueTypeLabel(b,kg),b.writeNumber(c.latitude||0),b.writeNumber(c.longitude||0)}else"mapValue"in a?fI(a)?this.writeValueTypeLabel(b,Number.MAX_SAFE_INTEGER):fG(a)?this.writeIndexVector(a.mapValue,b):(this.writeIndexMap(a.mapValue,b),this.writeTruncationMarker(b)):"arrayValue"in a?(this.writeIndexArray(a.arrayValue,b),this.writeTruncationMarker(b)):bC(19022,{indexValue:a})}writeIndexString(a,b){this.writeValueTypeLabel(b,kd),this.writeUnlabeledIndexString(a,b)}writeUnlabeledIndexString(a,b){b.writeString(a)}writeIndexMap(a,b){let c=a.fields||{};for(let a of(this.writeValueTypeLabel(b,kj),Object.keys(c)))this.writeIndexString(a,b),this.writeIndexValueAux(c[a],b)}writeIndexVector(a,b){let c=a.fields||{};this.writeValueTypeLabel(b,ki);let d=e4,e=c[d].arrayValue?.values?.length||0;this.writeValueTypeLabel(b,kb),b.writeNumber(eK(e)),this.writeIndexString(d,b),this.writeIndexValueAux(c[d],b)}writeIndexArray(a,b){let c=a.values||[];for(let a of(this.writeValueTypeLabel(b,kh),c))this.writeIndexValueAux(a,b)}writeIndexEntityRef(a,b){this.writeValueTypeLabel(b,kf),ck.fromName(a).path.forEach(a=>{this.writeValueTypeLabel(b,kk),this.writeUnlabeledIndexString(a,b)})}writeValueTypeLabel(a,b){a.writeNumber(b)}writeTruncationMarker(a){a.writeNumber(kl)}}km.INSTANCE=new km;let kn="\uD800",ko="\uDBFF",kp=0,kq=255,kr=1,ks=255,kt=255,ku=0,kv=64,kw=8,kx=1024;function ky(a){let b=new DataView(new ArrayBuffer(8));return b.setFloat64(0,a,!1),new Uint8Array(b.buffer)}function kz(a){if(0===a)return 8;let b=0;return a>>4==0&&(b+=4,a<<=4),a>>6==0&&(b+=2,a<<=2),a>>7==0&&(b+=1),b}function kA(a){let b=0;for(let c=0;c<8;++c){let d=kz(255&a[c]);if(b+=d,8!==d)break}return b}function kB(a){return Math.ceil((kv-kA(a))/kw)}class kC{constructor(){this.buffer=new Uint8Array(kx),this.position=0}writeBytesAscending(a){let b=a[Symbol.iterator](),c=b.next();for(;!c.done;)this.writeByteAscending(c.value),c=b.next();this.writeSeparatorAscending()}writeBytesDescending(a){let b=a[Symbol.iterator](),c=b.next();for(;!c.done;)this.writeByteDescending(c.value),c=b.next();this.writeSeparatorDescending()}writeUtf8Ascending(a){for(let b of a){let a=b.charCodeAt(0);if(a<128)this.writeByteAscending(a);else if(a<2048)this.writeByteAscending(960|a>>>6),this.writeByteAscending(128|63&a);else if(b<kn||ko<b)this.writeByteAscending(480|a>>>12),this.writeByteAscending(128|63&a>>>6),this.writeByteAscending(128|63&a);else{let a=b.codePointAt(0);this.writeByteAscending(240|a>>>18),this.writeByteAscending(128|63&a>>>12),this.writeByteAscending(128|63&a>>>6),this.writeByteAscending(128|63&a)}}this.writeSeparatorAscending()}writeUtf8Descending(a){for(let b of a){let a=b.charCodeAt(0);if(a<128)this.writeByteDescending(a);else if(a<2048)this.writeByteDescending(960|a>>>6),this.writeByteDescending(128|63&a);else if(b<kn||ko<b)this.writeByteDescending(480|a>>>12),this.writeByteDescending(128|63&a>>>6),this.writeByteDescending(128|63&a);else{let a=b.codePointAt(0);this.writeByteDescending(240|a>>>18),this.writeByteDescending(128|63&a>>>12),this.writeByteDescending(128|63&a>>>6),this.writeByteDescending(128|63&a)}}this.writeSeparatorDescending()}writeNumberAscending(a){let b=this.toOrderedBits(a),c=kB(b);this.ensureAvailable(1+c),this.buffer[this.position++]=255&c;for(let a=b.length-c;a<b.length;++a)this.buffer[this.position++]=255&b[a]}writeNumberDescending(a){let b=this.toOrderedBits(a),c=kB(b);this.ensureAvailable(1+c),this.buffer[this.position++]=~(255&c);for(let a=b.length-c;a<b.length;++a)this.buffer[this.position++]=~(255&b[a])}writeInfinityAscending(){this.writeEscapedByteAscending(ks),this.writeEscapedByteAscending(kt)}writeInfinityDescending(){this.writeEscapedByteDescending(ks),this.writeEscapedByteDescending(kt)}reset(){this.position=0}seed(a){this.ensureAvailable(a.length),this.buffer.set(a,this.position),this.position+=a.length}encodedBytes(){return this.buffer.slice(0,this.position)}toOrderedBits(a){let b=ky(a),c=(128&b[0])!=0;b[0]^=c?255:128;for(let a=1;a<b.length;++a)b[a]^=255*!!c;return b}writeByteAscending(a){let b=255&a;b===kp?(this.writeEscapedByteAscending(kp),this.writeEscapedByteAscending(kq)):b===ks?(this.writeEscapedByteAscending(ks),this.writeEscapedByteAscending(ku)):this.writeEscapedByteAscending(b)}writeByteDescending(a){let b=255&a;b===kp?(this.writeEscapedByteDescending(kp),this.writeEscapedByteDescending(kq)):b===ks?(this.writeEscapedByteDescending(ks),this.writeEscapedByteDescending(ku)):this.writeEscapedByteDescending(a)}writeSeparatorAscending(){this.writeEscapedByteAscending(kp),this.writeEscapedByteAscending(kr)}writeSeparatorDescending(){this.writeEscapedByteDescending(kp),this.writeEscapedByteDescending(kr)}writeEscapedByteAscending(a){this.ensureAvailable(1),this.buffer[this.position++]=a}writeEscapedByteDescending(a){this.ensureAvailable(1),this.buffer[this.position++]=~a}ensureAvailable(a){let b=a+this.position;if(b<=this.buffer.length)return;let c=2*this.buffer.length;c<b&&(c=b);let d=new Uint8Array(c);d.set(this.buffer),this.buffer=d}}class kD{constructor(a){this.orderedCode=a}writeBytes(a){this.orderedCode.writeBytesAscending(a)}writeString(a){this.orderedCode.writeUtf8Ascending(a)}writeNumber(a){this.orderedCode.writeNumberAscending(a)}writeInfinity(){this.orderedCode.writeInfinityAscending()}}class kE{constructor(a){this.orderedCode=a}writeBytes(a){this.orderedCode.writeBytesDescending(a)}writeString(a){this.orderedCode.writeUtf8Descending(a)}writeNumber(a){this.orderedCode.writeNumberDescending(a)}writeInfinity(){this.orderedCode.writeInfinityDescending()}}class kF{constructor(){this.orderedCode=new kC,this.ascending=new kD(this.orderedCode),this.descending=new kE(this.orderedCode)}seed(a){this.orderedCode.seed(a)}forKind(a){return 0===a?this.ascending:this.descending}encodedBytes(){return this.orderedCode.encodedBytes()}reset(){this.orderedCode.reset()}}class kG{constructor(a,b,c,d){this._indexId=a,this._documentKey=b,this._arrayValue=c,this._directionalValue=d}successor(){let a=this._directionalValue.length,b=0===a||255===this._directionalValue[a-1]?a+1:a,c=new Uint8Array(b);return c.set(this._directionalValue,0),b!==a?c.set([0],this._directionalValue.length):++c[c.length-1],new kG(this._indexId,this._documentKey,this._arrayValue,c)}dbIndexEntry(a,b,c){return{indexId:this._indexId,uid:a,arrayValue:kJ(this._arrayValue),directionalValue:kJ(this._directionalValue),orderedDocumentKey:kJ(b),documentKey:c.path.toArray()}}dbIndexEntryKey(a,b,c){let d=this.dbIndexEntry(a,b,c);return[d.indexId,d.uid,d.arrayValue,d.directionalValue,d.orderedDocumentKey,d.documentKey]}}function kH(a,b){let c=a._indexId-b._indexId;return 0!==c||0!==(c=kI(a._arrayValue,b._arrayValue))||0!==(c=kI(a._directionalValue,b._directionalValue))?c:ck.comparator(a._documentKey,b._documentKey)}function kI(a,b){for(let c=0;c<a.length&&c<b.length;++c){let d=a[c]-b[c];if(0!==d)return d}return a.length-b.length}function kJ(a){return E()?kL(a):a}function kK(a){return"string"!=typeof a?a:kM(a)}function kL(a){let b="";for(let c=0;c<a.length;c++)b+=String.fromCharCode(a[c]);return b}function kM(a){let b=new Uint8Array(a.length);for(let c=0;c<a.length;c++)b[c]=a.charCodeAt(c);return b}class kN{constructor(a){for(const b of(this.inequalityFilters=new ey((a,b)=>cj.comparator(a.field,b.field)),this.collectionId=null!=a.collectionGroup?a.collectionGroup:a.path.lastSegment(),this.orderBys=a.orderBy,this.equalityFilters=[],a.filters)){const a=b;a.isInequality()?this.inequalityFilters=this.inequalityFilters.add(a):this.equalityFilters.push(a)}}get hasMultipleInequality(){return this.inequalityFilters.size>1}servedByIndex(a){if(bE(a.collectionGroup===this.collectionId,49279),this.hasMultipleInequality)return!1;let b=cD(a);if(void 0!==b&&!this.hasMatchingEqualityFilter(b))return!1;let c=cE(a),d=new Set,e=0,f=0;for(;e<c.length;++e)if(this.hasMatchingEqualityFilter(c[e]))d=d.add(c[e].fieldPath.canonicalString());else break;if(e===c.length)return!0;if(this.inequalityFilters.size>0){let a=this.inequalityFilters.getIterator().getNext();if(!d.has(a.field.canonicalString())){let b=c[e];if(!this.matchesFilter(a,b)||!this.matchesOrderBy(this.orderBys[f++],b))return!1}++e}for(;e<c.length;++e){let a=c[e];if(f>=this.orderBys.length||!this.matchesOrderBy(this.orderBys[f++],a))return!1}return!0}buildTargetIndex(){if(this.hasMultipleInequality)return null;let a=new ey(cj.comparator),b=[];for(let c of this.equalityFilters)if(!c.field.isKeyField())if("array-contains"===c.op||"array-contains-any"===c.op)b.push(new cI(c.field,2));else{if(a.has(c.field))continue;a=a.add(c.field),b.push(new cI(c.field,0))}for(let c of this.orderBys)!c.field.isKeyField()&&(a.has(c.field)||(a=a.add(c.field),b.push(new cI(c.field,+("asc"!==c.dir)))));return new cC(cC.UNKNOWN_ID,this.collectionId,b,cK.empty())}hasMatchingEqualityFilter(a){for(let b of this.equalityFilters)if(this.matchesFilter(b,a))return!0;return!1}matchesFilter(a,b){if(void 0===a||!a.field.isEqual(b.fieldPath))return!1;let c="array-contains"===a.op||"array-contains-any"===a.op;return 2===b.kind===c}matchesOrderBy(a,b){return!!a.field.isEqual(b.fieldPath)&&(0===b.kind&&"asc"===a.dir||1===b.kind&&"desc"===a.dir)}}function kO(a){if(bE(a instanceof f0||a instanceof f1,20012),a instanceof f0)if(!(a instanceof gj))return a;else{let b=a.value.arrayValue?.values?.map(b=>f0.create(a.field,"==",b))||[];return f1.create(b,"or")}let b=a.filters.map(a=>kO(a));return f1.create(b,a.op)}function kP(a){if(0===a.getFilters().length)return[];let b=kU(kO(a));return(bE(kS(b),7391),kQ(b)||kR(b))?[b]:b.getFilters()}function kQ(a){return a instanceof f0}function kR(a){return a instanceof f1&&f4(a)}function kS(a){return kQ(a)||kR(a)||kT(a)}function kT(a){if(a instanceof f1&&f3(a)){for(let b of a.getFilters())if(!kQ(b)&&!kR(b))return!1;return!0}return!1}function kU(a){if(bE(a instanceof f0||a instanceof f1,34018),a instanceof f0)return a;if(1===a.filters.length)return kU(a.filters[0]);let b=a.filters.map(a=>kU(a)),c=f1.create(b,a.op);return kS(c=kZ(c))?c:(bE(c instanceof f1,64498),bE(f2(c),40251),bE(c.filters.length>1,57927),c.filters.reduce((a,b)=>kV(a,b)))}function kV(a,b){let c;return bE(a instanceof f0||a instanceof f1,38388),bE(b instanceof f0||b instanceof f1,25473),kZ(c=a instanceof f0?b instanceof f0?kW(a,b):kY(a,b):b instanceof f0?kY(b,a):kX(a,b))}function kW(a,b){return f1.create([a,b],"and")}function kX(a,b){if(bE(a.filters.length>0&&b.filters.length>0,48005),f2(a)&&f2(b))return ga(a,b.getFilters());let c=f3(a)?a:b,d=f3(a)?b:a,e=c.filters.map(a=>kV(a,d));return f1.create(e,"or")}function kY(a,b){if(f2(b))return ga(b,a.getFilters());{let c=b.filters.map(b=>kV(a,b));return f1.create(c,"or")}}function kZ(a){if(bE(a instanceof f0||a instanceof f1,11850),a instanceof f0)return a;let b=a.getFilters();if(1===b.length)return kZ(b[0]);if(f5(a))return a;let c=b.map(a=>kZ(a)),d=[];return(c.forEach(b=>{b instanceof f0?d.push(b):b instanceof f1&&(b.op===a.op?d.push(...b.filters):d.push(b))}),1===d.length)?d[0]:f1.create(d,a.op)}class k${constructor(){this.collectionParentIndex=new k_}addToCollectionParentIndex(a,b){return this.collectionParentIndex.add(b),cS.resolve()}getCollectionParents(a,b){return cS.resolve(this.collectionParentIndex.getEntries(b))}addFieldIndex(a,b){return cS.resolve()}deleteFieldIndex(a,b){return cS.resolve()}deleteAllFieldIndexes(a){return cS.resolve()}createTargetIndexes(a,b){return cS.resolve()}getDocumentsMatchingTarget(a,b){return cS.resolve(null)}getIndexType(a,b){return cS.resolve(0)}getFieldIndexes(a,b){return cS.resolve([])}getNextCollectionGroupToUpdate(a){return cS.resolve(null)}getMinOffset(a,b){return cS.resolve(cN.min())}getMinOffsetFromCollectionGroup(a,b){return cS.resolve(cN.min())}updateCollectionGroup(a,b,c){return cS.resolve()}updateIndexEntries(a,b){return cS.resolve()}}class k_{constructor(){this.index={}}add(a){let b=a.lastSegment(),c=a.popLast(),d=this.index[b]||new ey(ch.comparator),e=!d.has(c);return this.index[b]=d.add(c),e}has(a){let b=a.lastSegment(),c=a.popLast(),d=this.index[b];return d&&d.has(c)}getEntries(a){return(this.index[a]||new ey(ch.comparator)).toArray()}}let k0="IndexedDbIndexManager",k1=new Uint8Array(0);class k2{constructor(a,b){this.databaseId=b,this.collectionParentsCache=new k_,this.targetToDnfSubTargets=new g1(a=>go(a),(a,b)=>gq(a,b)),this.uid=a.uid||""}addToCollectionParentIndex(a,b){if(!this.collectionParentsCache.has(b)){let c=b.lastSegment(),d=b.popLast();a.addOnCommittedListener(()=>{this.collectionParentsCache.add(b)});let e={collectionId:c,parent:de(d)};return k3(a).put(e)}return cS.resolve()}getCollectionParents(a,b){let c=[],d=IDBKeyRange.bound([b,""],[ce(b),""],!1,!0);return k3(a).loadAll(d).next(a=>{for(let d of a){if(d.collectionId!==b)break;c.push(dh(d.parent))}return c})}addFieldIndex(a,b){let c=k5(a),d=j_(b);delete d.indexId;let e=c.add(d);if(!b.indexState)return e.next();{let c=k6(a);return e.next(a=>{c.put(j1(a,this.uid,b.indexState.sequenceNumber,b.indexState.offset))})}}deleteFieldIndex(a,b){let c=k5(a),d=k6(a),e=k4(a);return c.delete(b.indexId).next(()=>d.delete(IDBKeyRange.bound([b.indexId],[b.indexId+1],!1,!0))).next(()=>e.delete(IDBKeyRange.bound([b.indexId],[b.indexId+1],!1,!0)))}deleteAllFieldIndexes(a){let b=k5(a),c=k4(a),d=k6(a);return b.deleteAll().next(()=>c.deleteAll()).next(()=>d.deleteAll())}createTargetIndexes(a,b){return cS.forEach(this.getSubTargets(b),b=>this.getIndexType(a,b).next(c=>{if(0===c||1===c){let c=new kN(b).buildTargetIndex();if(null!=c)return this.addFieldIndex(a,c)}}))}getDocumentsMatchingTarget(a,b){let c=k4(a),d=!0,e=new Map;return cS.forEach(this.getSubTargets(b),b=>this.getFieldIndex(a,b).next(a=>{d&&(d=!!a),e.set(b,a)})).next(()=>{if(!d)return cS.resolve(null);{let a=he(),d=[];return cS.forEach(e,(e,f)=>{by(k0,`Using index ${cH(e)} to execute ${go(b)}`);let g=gt(f,e),h=gu(f,e),i=gv(f,e),j=gw(f,e),k=this.encodeBound(e,f,i),l=this.encodeBound(e,f,j),m=this.encodeValues(e,f,h),n=this.generateIndexRanges(e.indexId,g,k,i.inclusive,l,j.inclusive,m);return cS.forEach(n,e=>c.loadFirst(e,b.limit).next(b=>{b.forEach(b=>{let c=ck.fromSegments(b.documentKey);a.has(c)||(a=a.add(c),d.push(c))})}))}).next(()=>d)}})}getSubTargets(a){let b=this.targetToDnfSubTargets.get(a);return b||(b=0===a.filters.length?[a]:kP(f1.create(a.filters,"and")).map(b=>gn(a.path,a.collectionGroup,a.orderBy,b.getFilters(),a.limit,a.startAt,a.endAt)),this.targetToDnfSubTargets.set(a,b)),b}generateIndexRanges(a,b,c,d,e,f,g){let h=(null!=b?b.length:1)*Math.max(c.length,e.length),i=h/(null!=b?b.length:1),j=[];for(let k=0;k<h;++k){let h=b?this.encodeSingleElement(b[k/i]):k1,l=this.generateLowerBound(a,h,c[k%i],d),m=this.generateUpperBound(a,h,e[k%i],f),n=g.map(b=>this.generateLowerBound(a,h,b,!0));j.push(...this.createRange(l,m,n))}return j}generateLowerBound(a,b,c,d){let e=new kG(a,ck.empty(),b,c);return d?e:e.successor()}generateUpperBound(a,b,c,d){let e=new kG(a,ck.empty(),b,c);return d?e.successor():e}getFieldIndex(a,b){let c=new kN(b),d=null!=b.collectionGroup?b.collectionGroup:b.path.lastSegment();return this.getFieldIndexes(a,d).next(a=>{let b=null;for(let d of a)c.servedByIndex(d)&&(!b||d.fields.length>b.fields.length)&&(b=d);return b})}getIndexType(a,b){let c=2,d=this.getSubTargets(b);return cS.forEach(d,b=>this.getFieldIndex(a,b).next(a=>{a?0!==c&&a.fields.length<gz(b)&&(c=1):c=0})).next(()=>gA(b)&&d.length>1&&2===c?1:c)}encodeDirectionalElements(a,b){let c=new kF;for(let d of cE(a)){let a=b.data.field(d.fieldPath);if(null==a)return null;let e=c.forKind(d.kind);km.INSTANCE.writeIndexValue(a,e)}return c.encodedBytes()}encodeSingleElement(a){let b=new kF;return km.INSTANCE.writeIndexValue(a,b.forKind(0)),b.encodedBytes()}encodeDirectionalKey(a,b){let c=new kF;return km.INSTANCE.writeIndexValue(fy(this.databaseId,b),c.forKind(cF(a))),c.encodedBytes()}encodeValues(a,b,c){if(null===c)return[];let d=[];d.push(new kF);let e=0;for(let f of cE(a)){let a=c[e++];for(let c of d)if(this.isInFilter(b,f.fieldPath)&&fC(a))d=this.expandIndexValues(d,f,a);else{let b=c.forKind(f.kind);km.INSTANCE.writeIndexValue(a,b)}}return this.getEncodedBytes(d)}encodeBound(a,b,c){return this.encodeValues(a,b,c.position)}getEncodedBytes(a){let b=[];for(let c=0;c<a.length;++c)b[c]=a[c].encodedBytes();return b}expandIndexValues(a,b,c){let d=[...a],e=[];for(let a of c.arrayValue.values||[])for(let c of d){let d=new kF;d.seed(c.encodedBytes()),km.INSTANCE.writeIndexValue(a,d.forKind(b.kind)),e.push(d)}return e}isInFilter(a,b){return!!a.filters.find(a=>a instanceof f0&&a.field.isEqual(b)&&("in"===a.op||"not-in"===a.op))}getFieldIndexes(a,b){let c=k5(a),d=k6(a);return(b?c.loadAll(dZ,IDBKeyRange.bound(b,b)):c.loadAll()).next(a=>{let b=[];return cS.forEach(a,a=>d.get([a.indexId,this.uid]).next(c=>{b.push(j0(a,c))})).next(()=>b)})}getNextCollectionGroupToUpdate(a){return this.getFieldIndexes(a).next(a=>0===a.length?null:(a.sort((a,b)=>{let c=a.indexState.sequenceNumber-b.indexState.sequenceNumber;return 0!==c?c:b8(a.collectionGroup,b.collectionGroup)}),a[0].collectionGroup))}updateCollectionGroup(a,b,c){let d=k5(a),e=k6(a);return this.getNextSequenceNumber(a).next(a=>d.loadAll(dZ,IDBKeyRange.bound(b,b)).next(b=>cS.forEach(b,b=>e.put(j1(b.indexId,this.uid,a,c)))))}updateIndexEntries(a,b){let c=new Map;return cS.forEach(b,(b,d)=>{let e=c.get(b.collectionGroup);return(e?cS.resolve(e):this.getFieldIndexes(a,b.collectionGroup)).next(e=>(c.set(b.collectionGroup,e),cS.forEach(e,c=>this.getExistingIndexEntries(a,b,c).next(b=>{let e=this.computeIndexEntries(d,c);return b.isEqual(e)?cS.resolve():this.updateEntries(a,d,c,b,e)}))))})}addIndexEntry(a,b,c,d){return k4(a).put(d.dbIndexEntry(this.uid,this.encodeDirectionalKey(c,b.key),b.key))}deleteIndexEntry(a,b,c,d){return k4(a).delete(d.dbIndexEntryKey(this.uid,this.encodeDirectionalKey(c,b.key),b.key))}getExistingIndexEntries(a,b,c){let d=k4(a),e=new ey(kH);return d.iterate({index:d5,range:IDBKeyRange.only([c.indexId,this.uid,kJ(this.encodeDirectionalKey(c,b))])},(a,d)=>{e=e.add(new kG(c.indexId,b,kK(d.arrayValue),kK(d.directionalValue)))}).next(()=>e)}computeIndexEntries(a,b){let c=new ey(kH),d=this.encodeDirectionalElements(b,a);if(null==d)return c;let e=cD(b);if(null!=e){let f=a.data.field(e.fieldPath);if(fC(f))for(let e of f.arrayValue.values||[])c=c.add(new kG(b.indexId,a.key,this.encodeSingleElement(e),d))}else c=c.add(new kG(b.indexId,a.key,k1,d));return c}updateEntries(a,b,c,d,e){by(k0,"Updating index entries for document '%s'",b.key);let f=[];return eA(d,e,kH,d=>{f.push(this.addIndexEntry(a,b,c,d))},d=>{f.push(this.deleteIndexEntry(a,b,c,d))}),cS.waitFor(f)}getNextSequenceNumber(a){let b=1;return k6(a).iterate({index:d1,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(a,c,d)=>{d.done(),b=c.sequenceNumber+1}).next(()=>b)}createRange(a,b,c){c=c.sort((a,b)=>kH(a,b)).filter((a,b,c)=>!b||0!==kH(a,c[b-1]));let d=[];for(let e of(d.push(a),c)){let c=kH(e,a),f=kH(e,b);if(0===c)d[0]=a.successor();else if(c>0&&f<0)d.push(e),d.push(e.successor());else if(f>0)break}d.push(b);let e=[];for(let a=0;a<d.length;a+=2){if(this.isRangeMatchable(d[a],d[a+1]))return[];let b=d[a].dbIndexEntryKey(this.uid,k1,ck.empty()),c=d[a+1].dbIndexEntryKey(this.uid,k1,ck.empty());e.push(IDBKeyRange.bound(b,c))}return e}isRangeMatchable(a,b){return kH(a,b)>0}getMinOffsetFromCollectionGroup(a,b){return this.getFieldIndexes(a,b).next(k7)}getMinOffset(a,b){return cS.mapArray(this.getSubTargets(b),b=>this.getFieldIndex(a,b).next(a=>a||bC(44426))).next(k7)}}function k3(a){return ep(a,dP)}function k4(a){return ep(a,d3)}function k5(a){return ep(a,dX)}function k6(a){return ep(a,d_)}function k7(a){bE(0!==a.length,28825);let b=a[0].indexState.offset,c=b.largestBatchId;for(let d=1;d<a.length;d++){let e=a[d].indexState.offset;0>cO(e,b)&&(b=e),c<e.largestBatchId&&(c=e.largestBatchId)}return new cN(b.readTime,b.documentKey,c)}function k8(a,b,c){let d=a.store(dn),e=a.store(dw),f=[],g=IDBKeyRange.only(c.batchId),h=0,i=d.iterate({range:g},(a,b,c)=>(h++,c.delete()));f.push(i.next(()=>{bE(1===h,47070,{batchId:c.batchId})}));let j=[];for(let a of c.mutations){let d=du(b,a.key.path,c.batchId);f.push(e.delete(d)),j.push(a.key)}return cS.waitFor(f).next(()=>j)}function k9(a){let b;if(!a)return 0;if(a.document)b=a.document;else if(a.unknownDocument)b=a.unknownDocument;else if(a.noDocument)b=a.noDocument;else throw bC(14731);return JSON.stringify(b).length}class la{constructor(a,b,c,d){this.userId=a,this.serializer=b,this.indexManager=c,this.referenceDelegate=d,this.documentKeysByBatchId={}}static forUser(a,b,c,d){return bE(""!==a.uid,64387),new la(a.isAuthenticated()?a.uid:"",b,c,d)}checkEmpty(a){let b=!0,c=IDBKeyRange.bound([this.userId,-1/0],[this.userId,1/0]);return ld(a).iterate({index:dq,range:c},(a,c,d)=>{b=!1,d.done()}).next(()=>b)}addMutationBatch(a,b,c,d){let e=le(a),f=ld(a);return f.add({}).next(g=>{bE("number"==typeof g,49019);let h=new hX(g,b,c,d),i=jM(this.serializer,this.userId,h),j=[],k=new ey((a,b)=>b8(a.canonicalString(),b.canonicalString()));for(let a of d){let b=du(this.userId,a.key.path,g);k=k.add(a.key.path.popLast()),j.push(f.put(i)),j.push(e.put(b,dv))}return k.forEach(b=>{j.push(this.indexManager.addToCollectionParentIndex(a,b))}),a.addOnCommittedListener(()=>{this.documentKeysByBatchId[g]=h.keys()}),cS.waitFor(j).next(()=>h)})}lookupMutationBatch(a,b){return ld(a).get(b).next(a=>a?(bE(a.userId===this.userId,48,"Unexpected user for mutation batch",{userId:a.userId,batchId:b}),jN(this.serializer,a)):null)}lookupMutationKeys(a,b){return this.documentKeysByBatchId[b]?cS.resolve(this.documentKeysByBatchId[b]):this.lookupMutationBatch(a,b).next(a=>{if(!a)return null;{let c=a.keys();return this.documentKeysByBatchId[b]=c,c}})}getNextMutationBatchAfterBatchId(a,b){let c=b+1,d=IDBKeyRange.lowerBound([this.userId,c]),e=null;return ld(a).iterate({index:dq,range:d},(a,b,d)=>{b.userId===this.userId&&(bE(b.batchId>=c,47524,{nextBatchId:c}),e=jN(this.serializer,b)),d.done()}).next(()=>e)}getHighestUnacknowledgedBatchId(a){let b=IDBKeyRange.upperBound([this.userId,1/0]),c=eY;return ld(a).iterate({index:dq,range:b,reverse:!0},(a,b,d)=>{c=b.batchId,d.done()}).next(()=>c)}getAllMutationBatches(a){let b=IDBKeyRange.bound([this.userId,eY],[this.userId,1/0]);return ld(a).loadAll(dq,b).next(a=>a.map(a=>jN(this.serializer,a)))}getAllMutationBatchesAffectingDocumentKey(a,b){let c=dt(this.userId,b.path),d=IDBKeyRange.lowerBound(c),e=[];return le(a).iterate({range:d},(c,d,f)=>{let[g,h,i]=c,j=dh(h);return g===this.userId&&b.path.isEqual(j)?ld(a).get(i).next(a=>{if(!a)throw bC(61480,{indexKey:c,batchId:i});bE(a.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:a.userId,batchId:i}),e.push(jN(this.serializer,a))}):void f.done()}).next(()=>e)}getAllMutationBatchesAffectingDocumentKeys(a,b){let c=new ey(b8),d=[];return b.forEach(b=>{let e=dt(this.userId,b.path),f=IDBKeyRange.lowerBound(e),g=le(a).iterate({range:f},(a,d,e)=>{let[f,g,h]=a,i=dh(g);f===this.userId&&b.path.isEqual(i)?c=c.add(h):e.done()});d.push(g)}),cS.waitFor(d).next(()=>this.lookupMutationBatches(a,c))}getAllMutationBatchesAffectingQuery(a,b){let c=b.path,d=c.length+1,e=dt(this.userId,c),f=IDBKeyRange.lowerBound(e),g=new ey(b8);return le(a).iterate({range:f},(a,b,e)=>{let[f,h,i]=a,j=dh(h);f===this.userId&&c.isPrefixOf(j)?j.length===d&&(g=g.add(i)):e.done()}).next(()=>this.lookupMutationBatches(a,g))}lookupMutationBatches(a,b){let c=[],d=[];return b.forEach(b=>{d.push(ld(a).get(b).next(a=>{if(null===a)throw bC(35274,{batchId:b});bE(a.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:a.userId,batchId:b}),c.push(jN(this.serializer,a))}))}),cS.waitFor(d).next(()=>c)}removeMutationBatch(a,b){return k8(a.simpleDbTransaction,this.userId,b).next(c=>(a.addOnCommittedListener(()=>{this.removeCachedMutationKeys(b.batchId)}),cS.forEach(c,b=>this.referenceDelegate.markPotentiallyOrphaned(a,b))))}removeCachedMutationKeys(a){delete this.documentKeysByBatchId[a]}performConsistencyCheck(a){return this.checkEmpty(a).next(b=>{if(!b)return cS.resolve();let c=IDBKeyRange.lowerBound(ds(this.userId)),d=[];return le(a).iterate({range:c},(a,b,c)=>{if(a[0]!==this.userId)return void c.done();{let b=dh(a[1]);d.push(b)}}).next(()=>{bE(0===d.length,56720,{danglingKeys:d.map(a=>a.canonicalString())})})})}containsKey(a,b){return lb(a,this.userId,b)}getMutationQueueMetadata(a){return lf(a).get(this.userId).next(a=>a||{userId:this.userId,lastAcknowledgedBatchId:eY,lastStreamToken:""})}}function lb(a,b,c){let d=dt(b,c.path),e=d[1],f=IDBKeyRange.lowerBound(d),g=!1;return le(a).iterate({range:f,keysOnly:!0},(a,c,d)=>{let[f,h,i]=a;f===b&&h===e&&(g=!0),d.done()}).next(()=>g)}function lc(a,b){let c=!1;return lf(a).iterateSerial(d=>lb(a,d,b).next(a=>(a&&(c=!0),cS.resolve(!a)))).next(()=>c)}function ld(a){return ep(a,dn)}function le(a){return ep(a,dw)}function lf(a){return ep(a,dl)}let lg=2;class lh{constructor(a){this.lastId=a}next(){return this.lastId+=lg,this.lastId}static forTargetCache(){return new lh(2-lg)}static forSyncEngine(){return new lh(1-lg)}}class li{constructor(a,b){this.referenceDelegate=a,this.serializer=b}allocateTargetId(a){return this.retrieveMetadata(a).next(b=>{let c=new lh(b.highestTargetId);return b.highestTargetId=c.next(),this.saveMetadata(a,b).next(()=>b.highestTargetId)})}getLastRemoteSnapshotVersion(a){return this.retrieveMetadata(a).next(a=>cz.fromTimestamp(new cy(a.lastRemoteSnapshotVersion.seconds,a.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(a){return this.retrieveMetadata(a).next(a=>a.highestListenSequenceNumber)}setTargetsMetadata(a,b,c){return this.retrieveMetadata(a).next(d=>(d.highestListenSequenceNumber=b,c&&(d.lastRemoteSnapshotVersion=c.toTimestamp()),b>d.highestListenSequenceNumber&&(d.highestListenSequenceNumber=b),this.saveMetadata(a,d)))}addTargetData(a,b){return this.saveTargetData(a,b).next(()=>this.retrieveMetadata(a).next(c=>(c.targetCount+=1,this.updateMetadataFromTargetData(b,c),this.saveMetadata(a,c))))}updateTargetData(a,b){return this.saveTargetData(a,b)}removeTargetData(a,b){return this.removeMatchingKeysForTargetId(a,b.targetId).next(()=>lj(a).delete(b.targetId)).next(()=>this.retrieveMetadata(a)).next(b=>(bE(b.targetCount>0,8065),b.targetCount-=1,this.saveMetadata(a,b)))}removeTargets(a,b,c){let d=0,e=[];return lj(a).iterate((f,g)=>{let h=jO(g);h.sequenceNumber<=b&&null===c.get(h.targetId)&&(d++,e.push(this.removeTargetData(a,h)))}).next(()=>cS.waitFor(e)).next(()=>d)}forEachTarget(a,b){return lj(a).iterate((a,c)=>{b(jO(c))})}retrieveMetadata(a){return lk(a).get(dN).next(a=>(bE(null!==a,2888),a))}saveMetadata(a,b){return lk(a).put(dN,b)}saveTargetData(a,b){return lj(a).put(jP(this.serializer,b))}updateMetadataFromTargetData(a,b){let c=!1;return a.targetId>b.highestTargetId&&(b.highestTargetId=a.targetId,c=!0),a.sequenceNumber>b.highestListenSequenceNumber&&(b.highestListenSequenceNumber=a.sequenceNumber,c=!0),c}getTargetCount(a){return this.retrieveMetadata(a).next(a=>a.targetCount)}getTargetData(a,b){let c=go(b),d=IDBKeyRange.bound([c,-1/0],[c,1/0]),e=null;return lj(a).iterate({range:d,index:dH},(a,c,d)=>{let f=jO(c);gq(b,f.target)&&(e=f,d.done())}).next(()=>e)}addMatchingKeys(a,b,c){let d=[],e=ll(a);return b.forEach(b=>{let f=de(b.path);d.push(e.put({targetId:c,path:f})),d.push(this.referenceDelegate.addReference(a,c,b))}),cS.waitFor(d)}removeMatchingKeys(a,b,c){let d=ll(a);return cS.forEach(b,b=>{let e=de(b.path);return cS.waitFor([d.delete([c,e]),this.referenceDelegate.removeReference(a,c,b)])})}removeMatchingKeysForTargetId(a,b){let c=ll(a),d=IDBKeyRange.bound([b],[b+1],!1,!0);return c.delete(d)}getMatchingKeysForTargetId(a,b){let c=IDBKeyRange.bound([b],[b+1],!1,!0),d=ll(a),e=he();return d.iterate({range:c,keysOnly:!0},(a,b,c)=>{let d=new ck(dh(a[1]));e=e.add(d)}).next(()=>e)}containsKey(a,b){let c=de(b.path),d=IDBKeyRange.bound([c],[ce(c)],!1,!0),e=0;return ll(a).iterate({index:dL,keysOnly:!0,range:d},([a,b],c,d)=>{0!==a&&(e++,d.done())}).next(()=>e>0)}getTargetDataForTarget(a,b){return lj(a).get(b).next(a=>a?jO(a):null)}}function lj(a){return ep(a,dF)}function lk(a){return ep(a,dO)}function ll(a){return ep(a,dJ)}let lm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ln=-1,lo=0x2800000;class lp{static withCacheSize(a){return new lp(a,lp.DEFAULT_COLLECTION_PERCENTILE,lp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(a,b,c){this.cacheSizeCollectionThreshold=a,this.percentileToCollect=b,this.maximumSequenceNumbersToCollect=c}}lp.DEFAULT_COLLECTION_PERCENTILE=10,lp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,lp.DEFAULT=new lp(lo,lp.DEFAULT_COLLECTION_PERCENTILE,lp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),lp.DISABLED=new lp(ln,0,0);let lq="LruGarbageCollector",lr=1048576,ls=6e4,lt=3e5;function lu([a,b],[c,d]){let e=b8(a,c);return 0===e?b8(b,d):e}class lv{constructor(a){this.maxElements=a,this.buffer=new ey(lu),this.previousIndex=0}nextIndex(){return++this.previousIndex}addElement(a){let b=[a,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(b);else{let a=this.buffer.last();0>lu(b,a)&&(this.buffer=this.buffer.delete(a).add(b))}}get maxValue(){return this.buffer.last()[0]}}class lw{constructor(a,b,c){this.garbageCollector=a,this.asyncQueue=b,this.localStore=c,this.gcTask=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==ln&&this.scheduleGC(ls)}stop(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)}get started(){return null!==this.gcTask}scheduleGC(a){by(lq,`Garbage collection scheduled in ${a}ms`),this.gcTask=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",a,async()=>{this.gcTask=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(a){c$(a)?by(lq,"Ignoring IndexedDB error during garbage collection: ",a):await cR(a)}await this.scheduleGC(lt)})}}class lx{constructor(a,b){this.delegate=a,this.params=b}calculateTargetCount(a,b){return this.delegate.getSequenceNumberCount(a).next(a=>Math.floor(b/100*a))}nthSequenceNumber(a,b){if(0===b)return cS.resolve(c9.INVALID);let c=new lv(b);return this.delegate.forEachTarget(a,a=>c.addElement(a.sequenceNumber)).next(()=>this.delegate.forEachOrphanedDocumentSequenceNumber(a,a=>c.addElement(a))).next(()=>c.maxValue)}removeTargets(a,b,c){return this.delegate.removeTargets(a,b,c)}removeOrphanedDocuments(a,b){return this.delegate.removeOrphanedDocuments(a,b)}collect(a,b){return this.params.cacheSizeCollectionThreshold===ln?(by("LruGarbageCollector","Garbage collection skipped; disabled"),cS.resolve(lm)):this.getCacheSize(a).next(c=>c<this.params.cacheSizeCollectionThreshold?(by("LruGarbageCollector",`Garbage collection skipped; Cache size ${c} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lm):this.runGarbageCollection(a,b))}getCacheSize(a){return this.delegate.getCacheSize(a)}runGarbageCollection(a,b){let c,d,e,f,g,h,i,j=Date.now();return this.calculateTargetCount(a,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(by("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),d=this.params.maximumSequenceNumbersToCollect):d=b,f=Date.now(),this.nthSequenceNumber(a,d))).next(d=>(c=d,g=Date.now(),this.removeTargets(a,c,b))).next(b=>(e=b,h=Date.now(),this.removeOrphanedDocuments(a,c))).next(a=>(i=Date.now(),bx()<=bh.DEBUG&&by("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-j}ms
	Determined least recently used ${d} in ${g-f}ms
	Removed ${e} targets in ${h-g}ms
	Removed ${a} documents in ${i-h}ms
Total Duration: ${i-j}ms`),cS.resolve({didRun:!0,sequenceNumbersCollected:d,targetsRemoved:e,documentsRemoved:a})))}}function ly(a,b){return new lx(a,b)}class lz{constructor(a,b){this.db=a,this.garbageCollector=ly(this,b)}getSequenceNumberCount(a){let b=this.orphanedDocumentCount(a);return this.db.getTargetCache().getTargetCount(a).next(a=>b.next(b=>a+b))}orphanedDocumentCount(a){let b=0;return this.forEachOrphanedDocumentSequenceNumber(a,a=>{b++}).next(()=>b)}forEachTarget(a,b){return this.db.getTargetCache().forEachTarget(a,b)}forEachOrphanedDocumentSequenceNumber(a,b){return this.forEachOrphanedDocument(a,(a,c)=>b(c))}addReference(a,b,c){return lC(a,c)}removeReference(a,b,c){return lC(a,c)}removeTargets(a,b,c){return this.db.getTargetCache().removeTargets(a,b,c)}markPotentiallyOrphaned(a,b){return lC(a,b)}isPinned(a,b){return lc(a,b)}removeOrphanedDocuments(a,b){let c=this.db.getRemoteDocumentCache().newChangeBuffer(),d=[],e=0;return this.forEachOrphanedDocument(a,(f,g)=>{if(g<=b){let b=this.isPinned(a,f).next(b=>{if(!b)return e++,c.getEntry(a,f).next(()=>(c.removeEntry(f,cz.min()),ll(a).delete(lA(f))))});d.push(b)}}).next(()=>cS.waitFor(d)).next(()=>c.apply(a)).next(()=>e)}removeTarget(a,b){let c=b.withSequenceNumber(a.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(a,c)}updateLimboDocument(a,b){return lC(a,b)}forEachOrphanedDocument(a,b){let c,d=ll(a),e=c9.INVALID;return d.iterate({index:dL},([a,d],{path:f,sequenceNumber:g})=>{0===a?(e!==c9.INVALID&&b(new ck(dh(c)),e),e=g,c=f):e=c9.INVALID}).next(()=>{e!==c9.INVALID&&b(new ck(dh(c)),e)})}getCacheSize(a){return this.db.getRemoteDocumentCache().getSize(a)}}function lA(a){return[0,de(a.path)]}function lB(a,b){return{targetId:0,path:de(a.path),sequenceNumber:b}}function lC(a,b){return ll(a).put(lB(b,a.currentSequenceNumber))}class lD{constructor(){this.changes=new g1(a=>a.toString(),(a,b)=>a.isEqual(b)),this.changesApplied=!1}addEntry(a){this.assertNotApplied(),this.changes.set(a.key,a)}removeEntry(a,b){this.assertNotApplied(),this.changes.set(a,fQ.newInvalidDocument(a).setReadTime(b))}getEntry(a,b){this.assertNotApplied();let c=this.changes.get(b);return void 0!==c?cS.resolve(c):this.getFromCache(a,b)}getEntries(a,b){return this.getAllFromCache(a,b)}apply(a){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(a)}assertNotApplied(){}}class lE{constructor(a){this.serializer=a}setIndexManager(a){this.indexManager=a}addEntry(a,b,c){return lI(a).put(c)}removeEntry(a,b,c){return lI(a).delete(lK(b,c))}updateMetadata(a,b){return this.getMetadata(a).next(c=>(c.byteSize+=b,this.setMetadata(a,c)))}getEntry(a,b){let c=fQ.newInvalidDocument(b);return lI(a).iterate({index:dz,range:IDBKeyRange.only(lJ(b))},(a,d)=>{c=this.maybeDecodeDocument(b,d)}).next(()=>c)}getSizedEntry(a,b){let c={size:0,document:fQ.newInvalidDocument(b)};return lI(a).iterate({index:dz,range:IDBKeyRange.only(lJ(b))},(a,d)=>{c={document:this.maybeDecodeDocument(b,d),size:k9(d)}}).next(()=>c)}getEntries(a,b){let c=g3();return this.forEachDbEntry(a,b,(a,b)=>{let d=this.maybeDecodeDocument(a,b);c=c.insert(a,d)}).next(()=>c)}getSizedEntries(a,b){let c=g3(),d=new eu(ck.comparator);return this.forEachDbEntry(a,b,(a,b)=>{let e=this.maybeDecodeDocument(a,b);c=c.insert(a,e),d=d.insert(a,k9(b))}).next(()=>({documents:c,sizeMap:d}))}forEachDbEntry(a,b,c){if(b.isEmpty())return cS.resolve();let d=new ey(lM);b.forEach(a=>d=d.add(a));let e=IDBKeyRange.bound(lJ(d.first()),lJ(d.last())),f=d.getIterator(),g=f.getNext();return lI(a).iterate({index:dz,range:e},(a,b,d)=>{let e=ck.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;g&&0>lM(g,e);)c(g,null),g=f.getNext();g&&g.isEqual(e)&&(c(g,b),g=f.hasNext()?f.getNext():null),g?d.skip(lJ(g)):d.done()}).next(()=>{for(;g;)c(g,null),g=f.hasNext()?f.getNext():null})}getDocumentsMatchingQuery(a,b,c,d,e){let f=b.path,g=[f.popLast().toArray(),f.lastSegment(),jI(c.readTime),c.documentKey.path.isEmpty()?"":c.documentKey.path.lastSegment()],h=[f.popLast().toArray(),f.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return lI(a).loadAll(IDBKeyRange.bound(g,h,!0)).next(a=>{e?.incrementDocumentReadCount(a.length);let c=g3();for(let e of a){let a=this.maybeDecodeDocument(ck.fromSegments(e.prefixPath.concat(e.collectionGroup,e.documentId)),e);a.isFoundDocument()&&(gV(b,a)||d.has(a.key))&&(c=c.insert(a.key,a))}return c})}getAllFromCollectionGroup(a,b,c,d){let e=g3(),f=lL(b,c),g=lL(b,cN.max());return lI(a).iterate({index:dB,range:IDBKeyRange.bound(f,g,!0)},(a,b,c)=>{let f=this.maybeDecodeDocument(ck.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);(e=e.insert(f.key,f)).size===d&&c.done()}).next(()=>e)}newChangeBuffer(a){return new lG(this,!!a&&a.trackRemovals)}getSize(a){return this.getMetadata(a).next(a=>a.byteSize)}getMetadata(a){return lH(a).get(dE).next(a=>(bE(!!a,20021),a))}setMetadata(a,b){return lH(a).put(dE,b)}maybeDecodeDocument(a,b){if(b){let a=jG(this.serializer,b);if(!(a.isNoDocument()&&a.version.isEqual(cz.min())))return a}return fQ.newInvalidDocument(a)}}function lF(a){return new lE(a)}class lG extends lD{constructor(a,b){super(),this.documentCache=a,this.trackRemovals=b,this.documentStates=new g1(a=>a.toString(),(a,b)=>a.isEqual(b))}applyChanges(a){let b=[],c=0,d=new ey((a,b)=>b8(a.canonicalString(),b.canonicalString()));return this.changes.forEach((e,f)=>{let g=this.documentStates.get(e);if(b.push(this.documentCache.removeEntry(a,e,g.readTime)),f.isValidDocument()){let h=jH(this.documentCache.serializer,f);d=d.add(e.path.popLast());let i=k9(h);c+=i-g.size,b.push(this.documentCache.addEntry(a,e,h))}else if(c-=g.size,this.trackRemovals){let c=jH(this.documentCache.serializer,f.convertToNoDocument(cz.min()));b.push(this.documentCache.addEntry(a,e,c))}}),d.forEach(c=>{b.push(this.documentCache.indexManager.addToCollectionParentIndex(a,c))}),b.push(this.documentCache.updateMetadata(a,c)),cS.waitFor(b)}getFromCache(a,b){return this.documentCache.getSizedEntry(a,b).next(a=>(this.documentStates.set(b,{size:a.size,readTime:a.document.readTime}),a.document))}getAllFromCache(a,b){return this.documentCache.getSizedEntries(a,b).next(({documents:a,sizeMap:b})=>(b.forEach((b,c)=>{this.documentStates.set(b,{size:c,readTime:a.get(b).readTime})}),a))}}function lH(a){return ep(a,dD)}function lI(a){return ep(a,dx)}function lJ(a){let b=a.path.toArray();return[b.slice(0,b.length-2),b[b.length-2],b[b.length-1]]}function lK(a,b){let c=a.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],jI(b),c[c.length-1]]}function lL(a,b){let c=b.documentKey.path.toArray();return[a,jI(b.readTime),c.slice(0,c.length-2),c.length>0?c[c.length-1]:""]}function lM(a,b){let c=a.path.toArray(),d=b.path.toArray(),e=0;for(let a=0;a<c.length-2&&a<d.length-2;++a)if(e=b8(c[a],d[a]))return e;return(e=b8(c.length,d.length))||(e=b8(c[c.length-2],d[d.length-2]))?e:b8(c[c.length-1],d[d.length-1])}let lN=18;class lO{constructor(a,b){this.overlayedDocument=a,this.mutatedFields=b}}class lP{constructor(a,b,c,d){this.remoteDocumentCache=a,this.mutationQueue=b,this.documentOverlayCache=c,this.indexManager=d}getDocument(a,b){let c=null;return this.documentOverlayCache.getOverlay(a,b).next(d=>(c=d,this.remoteDocumentCache.getEntry(a,b))).next(a=>(null!==c&&hH(c.mutation,a,eC.empty(),cy.now()),a))}getDocuments(a,b){return this.remoteDocumentCache.getEntries(a,b).next(b=>this.getLocalViewOfDocuments(a,b,he()).next(()=>b))}getLocalViewOfDocuments(a,b,c=he()){let d=g8();return this.populateOverlays(a,d,b).next(()=>this.computeViews(a,b,d,c).next(a=>{let b=g5();return a.forEach((a,c)=>{b=b.insert(a,c.overlayedDocument)}),b}))}getOverlayedDocuments(a,b){let c=g8();return this.populateOverlays(a,c,b).next(()=>this.computeViews(a,b,c,he()))}populateOverlays(a,b,c){let d=[];return c.forEach(a=>{b.has(a)||d.push(a)}),this.documentOverlayCache.getOverlays(a,d).next(a=>{a.forEach((a,c)=>{b.set(a,c)})})}computeViews(a,b,c,d){let e=g3(),f=ha(),g=g6();return b.forEach((a,b)=>{let g=c.get(b.key);d.has(b.key)&&(void 0===g||g.mutation instanceof hN)?e=e.insert(b.key,b):void 0!==g?(f.set(b.key,g.mutation.getFieldMask()),hH(g.mutation,b,g.mutation.getFieldMask(),cy.now())):f.set(b.key,eC.empty())}),this.recalculateAndSaveOverlays(a,e).next(a=>(a.forEach((a,b)=>f.set(a,b)),b.forEach((a,b)=>g.set(a,new lO(b,f.get(a)??null))),g))}recalculateAndSaveOverlays(a,b){let c=ha(),d=new eu((a,b)=>a-b),e=he();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(a,b).next(a=>{for(let e of a)e.keys().forEach(a=>{let f=b.get(a);if(null===f)return;let g=c.get(a)||eC.empty();g=e.applyToLocalView(f,g),c.set(a,g);let h=(d.get(e.batchId)||he()).add(a);d=d.insert(e.batchId,h)})}).next(()=>{let f=[],g=d.getReverseIterator();for(;g.hasNext();){let d=g.getNext(),h=d.key,i=d.value,j=g9();i.forEach(a=>{if(!e.has(a)){let d=hF(b.get(a),c.get(a));null!==d&&j.set(a,d),e=e.add(a)}}),f.push(this.documentOverlayCache.saveOverlays(a,h,j))}return cS.waitFor(f)}).next(()=>c)}recalculateAndSaveOverlaysForDocumentKeys(a,b){return this.remoteDocumentCache.getEntries(a,b).next(b=>this.recalculateAndSaveOverlays(a,b))}getDocumentsMatchingQuery(a,b,c,d){return gH(b)?this.getDocumentsMatchingDocumentQuery(a,b.path):gI(b)?this.getDocumentsMatchingCollectionGroupQuery(a,b,c,d):this.getDocumentsMatchingCollectionQuery(a,b,c,d)}getNextDocuments(a,b,c,d){return this.remoteDocumentCache.getAllFromCollectionGroup(a,b,c,d).next(e=>{let f=d-e.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(a,b,c.largestBatchId,d-e.size):cS.resolve(g8()),g=cA,h=e;return f.next(b=>cS.forEach(b,(b,c)=>(g<c.largestBatchId&&(g=c.largestBatchId),e.get(b))?cS.resolve():this.remoteDocumentCache.getEntry(a,b).next(a=>{h=h.insert(b,a)})).next(()=>this.populateOverlays(a,b,e)).next(()=>this.computeViews(a,h,b,he())).next(a=>({batchId:g,changes:g7(a)})))})}getDocumentsMatchingDocumentQuery(a,b){return this.getDocument(a,new ck(b)).next(a=>{let b=g5();return a.isFoundDocument()&&(b=b.insert(a.key,a)),b})}getDocumentsMatchingCollectionGroupQuery(a,b,c,d){let e=b.collectionGroup,f=g5();return this.indexManager.getCollectionParents(a,e).next(g=>cS.forEach(g,g=>{let h=gE(b,g.child(e));return this.getDocumentsMatchingCollectionQuery(a,h,c,d).next(a=>{a.forEach((a,b)=>{f=f.insert(a,b)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(a,b,c,d){let e;return this.documentOverlayCache.getOverlaysForCollection(a,b.path,c.largestBatchId).next(f=>(e=f,this.remoteDocumentCache.getDocumentsMatchingQuery(a,b,c,e,d))).next(a=>{e.forEach((b,c)=>{let d=c.getKey();null===a.get(d)&&(a=a.insert(d,fQ.newInvalidDocument(d)))});let c=g5();return a.forEach((a,d)=>{let f=e.get(a);void 0!==f&&hH(f.mutation,d,eC.empty(),cy.now()),gV(b,d)&&(c=c.insert(a,d))}),c})}}class lQ{constructor(a){this.serializer=a,this.bundles=new Map,this.namedQueries=new Map}getBundleMetadata(a,b){return cS.resolve(this.bundles.get(b))}saveBundleMetadata(a,b){return this.bundles.set(b.id,jX(b)),cS.resolve()}getNamedQuery(a,b){return cS.resolve(this.namedQueries.get(b))}saveNamedQuery(a,b){return this.namedQueries.set(b.name,jW(b)),cS.resolve()}}class lR{constructor(){this.overlays=new eu(ck.comparator),this.overlayByBatchId=new Map}getOverlay(a,b){return cS.resolve(this.overlays.get(b))}getOverlays(a,b){let c=g8();return cS.forEach(b,b=>this.getOverlay(a,b).next(a=>{null!==a&&c.set(b,a)})).next(()=>c)}saveOverlays(a,b,c){return c.forEach((c,d)=>{this.saveOverlay(a,b,d)}),cS.resolve()}removeOverlaysForBatchId(a,b,c){let d=this.overlayByBatchId.get(c);return void 0!==d&&(d.forEach(a=>this.overlays=this.overlays.remove(a)),this.overlayByBatchId.delete(c)),cS.resolve()}getOverlaysForCollection(a,b,c){let d=g8(),e=b.length+1,f=new ck(b.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){let a=g.getNext().value,f=a.getKey();if(!b.isPrefixOf(f.path))break;f.path.length===e&&a.largestBatchId>c&&d.set(a.getKey(),a)}return cS.resolve(d)}getOverlaysForCollectionGroup(a,b,c,d){let e=new eu((a,b)=>a-b),f=this.overlays.getIterator();for(;f.hasNext();){let a=f.getNext().value;if(a.getKey().getCollectionGroup()===b&&a.largestBatchId>c){let b=e.get(a.largestBatchId);null===b&&(b=g8(),e=e.insert(a.largestBatchId,b)),b.set(a.getKey(),a)}}let g=g8(),h=e.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((a,b)=>g.set(a,b)),!(g.size()>=d)););return cS.resolve(g)}saveOverlay(a,b,c){let d=this.overlays.get(c.key);if(null!==d){let a=this.overlayByBatchId.get(d.largestBatchId).delete(c.key);this.overlayByBatchId.set(d.largestBatchId,a)}this.overlays=this.overlays.insert(c.key,new hZ(b,c));let e=this.overlayByBatchId.get(b);void 0===e&&(e=he(),this.overlayByBatchId.set(b,e)),this.overlayByBatchId.set(b,e.add(c.key))}}class lS{constructor(){this.sessionToken=eF.EMPTY_BYTE_STRING}getSessionToken(a){return cS.resolve(this.sessionToken)}setSessionToken(a,b){return this.sessionToken=b,cS.resolve()}}class lT{constructor(){this.refsByKey=new ey(lU.compareByKey),this.refsByTarget=new ey(lU.compareByTargetId)}isEmpty(){return this.refsByKey.isEmpty()}addReference(a,b){let c=new lU(a,b);this.refsByKey=this.refsByKey.add(c),this.refsByTarget=this.refsByTarget.add(c)}addReferences(a,b){a.forEach(a=>this.addReference(a,b))}removeReference(a,b){this.removeRef(new lU(a,b))}removeReferences(a,b){a.forEach(a=>this.removeReference(a,b))}removeReferencesForId(a){let b=new ck(new ch([])),c=new lU(b,a),d=new lU(b,a+1),e=[];return this.refsByTarget.forEachInRange([c,d],a=>{this.removeRef(a),e.push(a.key)}),e}removeAllReferences(){this.refsByKey.forEach(a=>this.removeRef(a))}removeRef(a){this.refsByKey=this.refsByKey.delete(a),this.refsByTarget=this.refsByTarget.delete(a)}referencesForId(a){let b=new ck(new ch([])),c=new lU(b,a),d=new lU(b,a+1),e=he();return this.refsByTarget.forEachInRange([c,d],a=>{e=e.add(a.key)}),e}containsKey(a){let b=new lU(a,0),c=this.refsByKey.firstAfterOrEqual(b);return null!==c&&a.isEqual(c.key)}}class lU{constructor(a,b){this.key=a,this.targetOrBatchId=b}static compareByKey(a,b){return ck.comparator(a.key,b.key)||b8(a.targetOrBatchId,b.targetOrBatchId)}static compareByTargetId(a,b){return b8(a.targetOrBatchId,b.targetOrBatchId)||ck.comparator(a.key,b.key)}}class lV{constructor(a,b){this.indexManager=a,this.referenceDelegate=b,this.mutationQueue=[],this.nextBatchId=1,this.batchesByDocumentKey=new ey(lU.compareByKey)}checkEmpty(a){return cS.resolve(0===this.mutationQueue.length)}addMutationBatch(a,b,c,d){let e=this.nextBatchId;this.nextBatchId++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let f=new hX(e,b,c,d);for(let b of(this.mutationQueue.push(f),d))this.batchesByDocumentKey=this.batchesByDocumentKey.add(new lU(b.key,e)),this.indexManager.addToCollectionParentIndex(a,b.key.path.popLast());return cS.resolve(f)}lookupMutationBatch(a,b){return cS.resolve(this.findMutationBatch(b))}getNextMutationBatchAfterBatchId(a,b){let c=b+1,d=this.indexOfBatchId(c),e=d<0?0:d;return cS.resolve(this.mutationQueue.length>e?this.mutationQueue[e]:null)}getHighestUnacknowledgedBatchId(){return cS.resolve(0===this.mutationQueue.length?eY:this.nextBatchId-1)}getAllMutationBatches(a){return cS.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(a,b){let c=new lU(b,0),d=new lU(b,1/0),e=[];return this.batchesByDocumentKey.forEachInRange([c,d],a=>{let b=this.findMutationBatch(a.targetOrBatchId);e.push(b)}),cS.resolve(e)}getAllMutationBatchesAffectingDocumentKeys(a,b){let c=new ey(b8);return b.forEach(a=>{let b=new lU(a,0),d=new lU(a,1/0);this.batchesByDocumentKey.forEachInRange([b,d],a=>{c=c.add(a.targetOrBatchId)})}),cS.resolve(this.findMutationBatches(c))}getAllMutationBatchesAffectingQuery(a,b){let c=b.path,d=c.length+1,e=c;ck.isDocumentKey(e)||(e=e.child(""));let f=new lU(new ck(e),0),g=new ey(b8);return this.batchesByDocumentKey.forEachWhile(a=>{let b=a.key.path;return!!c.isPrefixOf(b)&&(b.length===d&&(g=g.add(a.targetOrBatchId)),!0)},f),cS.resolve(this.findMutationBatches(g))}findMutationBatches(a){let b=[];return a.forEach(a=>{let c=this.findMutationBatch(a);null!==c&&b.push(c)}),b}removeMutationBatch(a,b){bE(0===this.indexOfExistingBatchId(b.batchId,"removed"),55003),this.mutationQueue.shift();let c=this.batchesByDocumentKey;return cS.forEach(b.mutations,d=>{let e=new lU(d.key,b.batchId);return c=c.delete(e),this.referenceDelegate.markPotentiallyOrphaned(a,d.key)}).next(()=>{this.batchesByDocumentKey=c})}removeCachedMutationKeys(a){}containsKey(a,b){let c=new lU(b,0),d=this.batchesByDocumentKey.firstAfterOrEqual(c);return cS.resolve(b.isEqual(d&&d.key))}performConsistencyCheck(a){return this.mutationQueue.length,cS.resolve()}indexOfExistingBatchId(a,b){return this.indexOfBatchId(a)}indexOfBatchId(a){return 0===this.mutationQueue.length?0:a-this.mutationQueue[0].batchId}findMutationBatch(a){let b=this.indexOfBatchId(a);return b<0||b>=this.mutationQueue.length?null:this.mutationQueue[b]}}let lW="-9223372036854775808";function lX(){return new eu(ck.comparator)}class lY{constructor(a){this.sizer=a,this.docs=lX(),this.size=0}setIndexManager(a){this.indexManager=a}addEntry(a,b){let c=b.key,d=this.docs.get(c),e=d?d.size:0,f=this.sizer(b);return this.docs=this.docs.insert(c,{document:b.mutableCopy(),size:f}),this.size+=f-e,this.indexManager.addToCollectionParentIndex(a,c.path.popLast())}removeEntry(a){let b=this.docs.get(a);b&&(this.docs=this.docs.remove(a),this.size-=b.size)}getEntry(a,b){let c=this.docs.get(b);return cS.resolve(c?c.document.mutableCopy():fQ.newInvalidDocument(b))}getEntries(a,b){let c=g3();return b.forEach(a=>{let b=this.docs.get(a);c=c.insert(a,b?b.document.mutableCopy():fQ.newInvalidDocument(a))}),cS.resolve(c)}getDocumentsMatchingQuery(a,b,c,d){let e=g3(),f=b.path,g=new ck(f.child("__id"+lW+"__")),h=this.docs.getIteratorFrom(g);for(;h.hasNext();){let{key:a,value:{document:g}}=h.getNext();if(!f.isPrefixOf(a.path))break;!(a.path.length>f.length+1||0>=cO(cM(g),c))&&(d.has(g.key)||gV(b,g))&&(e=e.insert(g.key,g.mutableCopy()))}return cS.resolve(e)}getAllFromCollectionGroup(a,b,c,d){bC(9500)}forEachDocumentKey(a,b){return cS.forEach(this.docs,a=>b(a))}newChangeBuffer(a){return new l$(this)}getSize(a){return cS.resolve(this.size)}}function lZ(a){return new lY(a)}class l$ extends lD{constructor(a){super(),this.documentCache=a}applyChanges(a){let b=[];return this.changes.forEach((c,d)=>{d.isValidDocument()?b.push(this.documentCache.addEntry(a,d)):this.documentCache.removeEntry(c)}),cS.waitFor(b)}getFromCache(a,b){return this.documentCache.getEntry(a,b)}getAllFromCache(a,b){return this.documentCache.getEntries(a,b)}}class l_{constructor(a){this.persistence=a,this.targets=new g1(a=>go(a),gq),this.lastRemoteSnapshotVersion=cz.min(),this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new lT,this.targetCount=0,this.targetIdGenerator=lh.forTargetCache()}forEachTarget(a,b){return this.targets.forEach((a,c)=>b(c)),cS.resolve()}getLastRemoteSnapshotVersion(a){return cS.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(a){return cS.resolve(this.highestSequenceNumber)}allocateTargetId(a){return this.highestTargetId=this.targetIdGenerator.next(),cS.resolve(this.highestTargetId)}setTargetsMetadata(a,b,c){return c&&(this.lastRemoteSnapshotVersion=c),b>this.highestSequenceNumber&&(this.highestSequenceNumber=b),cS.resolve()}saveTargetData(a){this.targets.set(a.target,a);let b=a.targetId;b>this.highestTargetId&&(this.targetIdGenerator=new lh(b),this.highestTargetId=b),a.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=a.sequenceNumber)}addTargetData(a,b){return this.saveTargetData(b),this.targetCount+=1,cS.resolve()}updateTargetData(a,b){return this.saveTargetData(b),cS.resolve()}removeTargetData(a,b){return this.targets.delete(b.target),this.references.removeReferencesForId(b.targetId),this.targetCount-=1,cS.resolve()}removeTargets(a,b,c){let d=0,e=[];return this.targets.forEach((f,g)=>{g.sequenceNumber<=b&&null===c.get(g.targetId)&&(this.targets.delete(f),e.push(this.removeMatchingKeysForTargetId(a,g.targetId)),d++)}),cS.waitFor(e).next(()=>d)}getTargetCount(a){return cS.resolve(this.targetCount)}getTargetData(a,b){let c=this.targets.get(b)||null;return cS.resolve(c)}addMatchingKeys(a,b,c){return this.references.addReferences(b,c),cS.resolve()}removeMatchingKeys(a,b,c){this.references.removeReferences(b,c);let d=this.persistence.referenceDelegate,e=[];return d&&b.forEach(b=>{e.push(d.markPotentiallyOrphaned(a,b))}),cS.waitFor(e)}removeMatchingKeysForTargetId(a,b){return this.references.removeReferencesForId(b),cS.resolve()}getMatchingKeysForTargetId(a,b){let c=this.references.referencesForId(b);return cS.resolve(c)}containsKey(a,b){return cS.resolve(this.references.containsKey(b))}}let l0="MemoryPersistence";class l1{constructor(a,b){this.mutationQueues={},this.overlays={},this.listenSequence=new c9(0),this._started=!1,this._started=!0,this.globalsCache=new lS,this.referenceDelegate=a(this),this.targetCache=new l_(this);const c=a=>this.referenceDelegate.documentSize(a);this.indexManager=new k$,this.remoteDocumentCache=lZ(c),this.serializer=new jF(b),this.bundleCache=new lQ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this._started=!1,Promise.resolve()}get started(){return this._started}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(a){return this.indexManager}getDocumentOverlayCache(a){let b=this.overlays[a.toKey()];return b||(b=new lR,this.overlays[a.toKey()]=b),b}getMutationQueue(a,b){let c=this.mutationQueues[a.toKey()];return c||(c=new lV(b,this.referenceDelegate),this.mutationQueues[a.toKey()]=c),c}getGlobalsCache(){return this.globalsCache}getTargetCache(){return this.targetCache}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.bundleCache}runTransaction(a,b,c){by(l0,"Starting transaction:",a);let d=new l2(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),c(d).next(a=>this.referenceDelegate.onTransactionCommitted(d).next(()=>a)).toPromise().then(a=>(d.raiseOnCommittedEvent(),a))}mutationQueuesContainKey(a,b){return cS.or(Object.values(this.mutationQueues).map(c=>()=>c.containsKey(a,b)))}}class l2 extends cQ{constructor(a){super(),this.currentSequenceNumber=a}}class l3{constructor(a){this.persistence=a,this.localViewReferences=new lT,this._orphanedDocuments=null}static factory(a){return new l3(a)}get orphanedDocuments(){if(this._orphanedDocuments)return this._orphanedDocuments;throw bC(60996)}addReference(a,b,c){return this.localViewReferences.addReference(c,b),this.orphanedDocuments.delete(c.toString()),cS.resolve()}removeReference(a,b,c){return this.localViewReferences.removeReference(c,b),this.orphanedDocuments.add(c.toString()),cS.resolve()}markPotentiallyOrphaned(a,b){return this.orphanedDocuments.add(b.toString()),cS.resolve()}removeTarget(a,b){this.localViewReferences.removeReferencesForId(b.targetId).forEach(a=>this.orphanedDocuments.add(a.toString()));let c=this.persistence.getTargetCache();return c.getMatchingKeysForTargetId(a,b.targetId).next(a=>{a.forEach(a=>this.orphanedDocuments.add(a.toString()))}).next(()=>c.removeTargetData(a,b))}onTransactionStarted(){this._orphanedDocuments=new Set}onTransactionCommitted(a){let b=this.persistence.getRemoteDocumentCache().newChangeBuffer();return cS.forEach(this.orphanedDocuments,c=>{let d=ck.fromPath(c);return this.isReferenced(a,d).next(a=>{a||b.removeEntry(d,cz.min())})}).next(()=>(this._orphanedDocuments=null,b.apply(a)))}updateLimboDocument(a,b){return this.isReferenced(a,b).next(a=>{a?this.orphanedDocuments.delete(b.toString()):this.orphanedDocuments.add(b.toString())})}documentSize(a){return 0}isReferenced(a,b){return cS.or([()=>cS.resolve(this.localViewReferences.containsKey(b)),()=>this.persistence.getTargetCache().containsKey(a,b),()=>this.persistence.mutationQueuesContainKey(a,b)])}}class l4{constructor(a,b){this.persistence=a,this.orphanedSequenceNumbers=new g1(a=>de(a.path),(a,b)=>a.isEqual(b)),this.garbageCollector=ly(this,b)}static factory(a,b){return new l4(a,b)}onTransactionStarted(){}onTransactionCommitted(a){return cS.resolve()}forEachTarget(a,b){return this.persistence.getTargetCache().forEachTarget(a,b)}getSequenceNumberCount(a){let b=this.orphanedDocumentCount(a);return this.persistence.getTargetCache().getTargetCount(a).next(a=>b.next(b=>a+b))}orphanedDocumentCount(a){let b=0;return this.forEachOrphanedDocumentSequenceNumber(a,a=>{b++}).next(()=>b)}forEachOrphanedDocumentSequenceNumber(a,b){return cS.forEach(this.orphanedSequenceNumbers,(c,d)=>this.isPinned(a,c,d).next(a=>a?cS.resolve():b(d)))}removeTargets(a,b,c){return this.persistence.getTargetCache().removeTargets(a,b,c)}removeOrphanedDocuments(a,b){let c=0,d=this.persistence.getRemoteDocumentCache(),e=d.newChangeBuffer();return d.forEachDocumentKey(a,d=>this.isPinned(a,d,b).next(a=>{a||(c++,e.removeEntry(d,cz.min()))})).next(()=>e.apply(a)).next(()=>c)}markPotentiallyOrphaned(a,b){return this.orphanedSequenceNumbers.set(b,a.currentSequenceNumber),cS.resolve()}removeTarget(a,b){let c=b.withSequenceNumber(a.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(a,c)}addReference(a,b,c){return this.orphanedSequenceNumbers.set(c,a.currentSequenceNumber),cS.resolve()}removeReference(a,b,c){return this.orphanedSequenceNumbers.set(c,a.currentSequenceNumber),cS.resolve()}updateLimboDocument(a,b){return this.orphanedSequenceNumbers.set(b,a.currentSequenceNumber),cS.resolve()}documentSize(a){let b=a.key.toString().length;return a.isFoundDocument()&&(b+=fv(a.data.value)),b}isPinned(a,b,c){return cS.or([()=>this.persistence.mutationQueuesContainKey(a,b),()=>this.persistence.getTargetCache().containsKey(a,b),()=>{let a=this.orphanedSequenceNumbers.get(b);return cS.resolve(void 0!==a&&a>c)}])}getCacheSize(a){return this.persistence.getRemoteDocumentCache().getSize(a)}}class l5{constructor(a){this.serializer=a}createOrUpgrade(a,b,c,d){let e=new cV("createOrUpgrade",b);c<1&&d>=1&&(l7(a),l8(a),md(a),ma(a));let f=cS.resolve();return c<3&&d>=3&&(0!==c&&(me(a),md(a)),f=f.next(()=>mg(e))),c<4&&d>=4&&(0!==c&&(f=f.next(()=>l9(a,e))),f=f.next(()=>{mh(a)})),c<5&&d>=5&&(f=f.next(()=>this.removeAcknowledgedMutations(e))),c<6&&d>=6&&(f=f.next(()=>(mc(a),this.addDocumentGlobal(e)))),c<7&&d>=7&&(f=f.next(()=>this.ensureSequenceNumbers(e))),c<8&&d>=8&&(f=f.next(()=>this.createCollectionParentIndex(a,e))),c<9&&d>=9&&(f=f.next(()=>{mf(a)})),c<10&&d>=10&&(f=f.next(()=>this.rewriteCanonicalIds(e))),c<11&&d>=11&&(f=f.next(()=>{mi(a),mj(a)})),c<12&&d>=12&&(f=f.next(()=>{ml(a)})),c<13&&d>=13&&(f=f.next(()=>mb(a)).next(()=>this.rewriteRemoteDocumentCache(a,e)).next(()=>a.deleteObjectStore(di))),c<14&&d>=14&&(f=f.next(()=>this.runOverlayMigration(a,e))),c<15&&d>=15&&(f=f.next(()=>mk(a))),c<16&&d>=16&&(f=f.next(()=>{b.objectStore(d_).clear()}).next(()=>{b.objectStore(d3).clear()})),c<17&&d>=17&&(f=f.next(()=>{mm(a)})),c<18&&d>=18&&E()&&(f=f.next(()=>{b.objectStore(d_).clear()}).next(()=>{b.objectStore(d3).clear()})),f}addDocumentGlobal(a){let b=0;return a.store(di).iterate((a,c)=>{b+=k9(c)}).next(()=>{let c={byteSize:b};return a.store(dD).put(dE,c)})}removeAcknowledgedMutations(a){let b=a.store(dl),c=a.store(dn);return b.loadAll().next(b=>cS.forEach(b,b=>{let d=IDBKeyRange.bound([b.userId,eY],[b.userId,b.lastAcknowledgedBatchId]);return c.loadAll(dq,d).next(c=>cS.forEach(c,c=>{bE(c.userId===b.userId,18650,"Cannot process batch from unexpected user",{batchId:c.batchId});let d=jN(this.serializer,c);return k8(a,b.userId,d).next(()=>{})}))}))}ensureSequenceNumbers(a){let b=a.store(dJ),c=a.store(di);return a.store(dO).get(dN).next(a=>{let d=c=>b.put({targetId:0,path:de(c),sequenceNumber:a.highestListenSequenceNumber}),e=[];return c.iterate((a,c)=>{let f=new ch(a),g=l6(f);e.push(b.get(g).next(a=>a?cS.resolve():d(f)))}).next(()=>cS.waitFor(e))})}createCollectionParentIndex(a,b){a.createObjectStore(dP,{keyPath:dQ});let c=b.store(dP),d=new k_,e=a=>{if(d.add(a)){let b=a.lastSegment(),d=a.popLast();return c.put({collectionId:b,parent:de(d)})}};return b.store(di).iterate({keysOnly:!0},(a,b)=>e(new ch(a).popLast())).next(()=>b.store(dw).iterate({keysOnly:!0},([a,b,c],d)=>e(dh(b).popLast())))}rewriteCanonicalIds(a){let b=a.store(dF);return b.iterate((a,c)=>{let d=jO(c),e=jP(this.serializer,d);return b.put(e)})}rewriteRemoteDocumentCache(a,b){let c=b.store(di),d=[];return c.iterate((a,c)=>{let e=b.store(dx),f=mn(c).path.toArray(),g={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};d.push(e.put(g))}).next(()=>cS.waitFor(d))}runOverlayMigration(a,b){let c=b.store(dn),d=lF(this.serializer),e=new l1(l3.factory,this.serializer.remoteSerializer);return c.loadAll().next(a=>{let c=new Map;return a.forEach(a=>{let b=c.get(a.userId)??he();jN(this.serializer,a).keys().forEach(a=>b=b.add(a)),c.set(a.userId,b)}),cS.forEach(c,(a,c)=>{let f=new bs(c),g=j5.forUser(this.serializer,f),h=e.getIndexManager(f);return new lP(d,la.forUser(f,this.serializer,h,e.referenceDelegate),g,h).recalculateAndSaveOverlaysForDocumentKeys(new eo(b,c9.INVALID),a).next()})})}}function l6(a){return[0,de(a)]}function l7(a){a.createObjectStore(dj)}function l8(a){a.createObjectStore(dl,{keyPath:dm}),a.createObjectStore(dn,{keyPath:dp,autoIncrement:!0}).createIndex(dq,dr,{unique:!0}),a.createObjectStore(dw)}function l9(a,b){return b.store(dn).loadAll().next(c=>{a.deleteObjectStore(dn),a.createObjectStore(dn,{keyPath:dp,autoIncrement:!0}).createIndex(dq,dr,{unique:!0});let d=b.store(dn),e=c.map(a=>d.put(a));return cS.waitFor(e)})}function ma(a){a.createObjectStore(di)}function mb(a){let b=a.createObjectStore(dx,{keyPath:dy});b.createIndex(dz,dA),b.createIndex(dB,dC)}function mc(a){a.createObjectStore(dD)}function md(a){a.createObjectStore(dJ,{keyPath:dK}).createIndex(dL,dM,{unique:!0}),a.createObjectStore(dF,{keyPath:dG}).createIndex(dH,dI,{unique:!0}),a.createObjectStore(dO)}function me(a){a.deleteObjectStore(dJ),a.deleteObjectStore(dF),a.deleteObjectStore(dO)}function mf(a){a.objectStoreNames.contains("remoteDocumentChanges")&&a.deleteObjectStore("remoteDocumentChanges")}function mg(a){let b=a.store(dO),c={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:cz.min().toTimestamp(),targetCount:0};return b.put(dN,c)}function mh(a){a.createObjectStore(dR,{keyPath:dS})}function mi(a){a.createObjectStore(dT,{keyPath:dU})}function mj(a){a.createObjectStore(dV,{keyPath:dW})}function mk(a){a.createObjectStore(dX,{keyPath:dY,autoIncrement:!0}).createIndex(dZ,d$,{unique:!1}),a.createObjectStore(d_,{keyPath:d0}).createIndex(d1,d2,{unique:!1}),a.createObjectStore(d3,{keyPath:d4}).createIndex(d5,d6,{unique:!1})}function ml(a){let b=a.createObjectStore(d7,{keyPath:d8});b.createIndex(d9,ea,{unique:!1}),b.createIndex(eb,ec,{unique:!1})}function mm(a){a.createObjectStore(ed,{keyPath:ee})}function mn(a){return a.document?new ck(ch.fromString(a.document.name).popFirst(5)):a.noDocument?ck.fromSegments(a.noDocument.path):a.unknownDocument?ck.fromSegments(a.unknownDocument.path):bC(36783)}let mo="IndexedDbPersistence",mp=18e5,mq=5e3,mr=4e3,ms="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",mt="This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.",mu="firestore_zombie",mv="main";class mw{constructor(a,b,c,d,e,f,g,h,i,j,k=lN){if(this.allowTabSynchronization=a,this.persistenceKey=b,this.clientId=c,this.queue=e,this.window=f,this.document=g,this.sequenceNumberSyncer=i,this.forceOwningTab=j,this.schemaVersion=k,this.listenSequence=null,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.windowUnloadHandler=null,this.inForeground=!1,this.documentVisibilityHandler=null,this.clientMetadataRefresher=null,this.lastGarbageCollectionTime=-1/0,this.primaryStateListener=a=>Promise.resolve(),!mw.isAvailable())throw new bX(bT,mt);this.referenceDelegate=new lz(this,d),this.dbName=b+mv,this.serializer=new jF(h),this.simpleDb=new cW(this.dbName,this.schemaVersion,new l5(this.serializer)),this.globalsCache=new j7,this.targetCache=new li(this.referenceDelegate,this.serializer),this.remoteDocumentCache=lF(this.serializer),this.bundleCache=new j2,this.window&&this.window.localStorage?this.webStorage=this.window.localStorage:(this.webStorage=null,!1===j&&bz(mo,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.updateClientMetadataAndTryBecomePrimary().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new bX(bQ,ms);return this.attachVisibilityHandler(),this.attachWindowUnloadHook(),this.scheduleClientMetadataAndPrimaryLeaseRefreshes(),this.runTransaction("getHighestListenSequenceNumber","readonly",a=>this.targetCache.getHighestSequenceNumber(a))}).then(a=>{this.listenSequence=new c9(a,this.sequenceNumberSyncer)}).then(()=>{this._started=!0}).catch(a=>(this.simpleDb&&this.simpleDb.close(),Promise.reject(a)))}setPrimaryStateListener(a){return this.primaryStateListener=async b=>{if(this.started)return a(b)},a(this.isPrimary)}setDatabaseDeletedListener(a){this.simpleDb.setVersionChangeListener(async b=>{null===b.newVersion&&await a()})}setNetworkEnabled(a){this.networkEnabled!==a&&(this.networkEnabled=a,this.queue.enqueueAndForget(async()=>{this.started&&await this.updateClientMetadataAndTryBecomePrimary()}))}updateClientMetadataAndTryBecomePrimary(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",a=>my(a).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.verifyPrimaryLease(a).next(a=>{a||(this.isPrimary=!1,this.queue.enqueueRetryable(()=>this.primaryStateListener(!1)))})}).next(()=>this.canActAsPrimary(a)).next(b=>this.isPrimary&&!b?this.releasePrimaryLeaseIfHeld(a).next(()=>!1):!!b&&this.acquireOrExtendPrimaryLease(a).next(()=>!0))).catch(a=>{if(c$(a))return by(mo,"Failed to extend owner lease: ",a),this.isPrimary;if(!this.allowTabSynchronization)throw a;return by(mo,"Releasing owner lease after error during lease refresh",a),!1}).then(a=>{this.isPrimary!==a&&this.queue.enqueueRetryable(()=>this.primaryStateListener(a)),this.isPrimary=a})}verifyPrimaryLease(a){return mx(a).get(dk).next(a=>cS.resolve(this.isLocalClient(a)))}removeClientMetadata(a){return my(a).delete(this.clientId)}async maybeGarbageCollectMultiClientState(){if(this.isPrimary&&!this.isWithinAge(this.lastGarbageCollectionTime,mp)){this.lastGarbageCollectionTime=Date.now();let a=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{let b=ep(a,dR);return b.loadAll().next(a=>{let c=this.filterActiveClients(a,mp),d=a.filter(a=>-1===c.indexOf(a));return cS.forEach(d,a=>b.delete(a.clientId)).next(()=>d)})}).catch(()=>[]);if(this.webStorage)for(let b of a)this.webStorage.removeItem(this.zombiedClientLocalStorageKey(b.clientId))}}scheduleClientMetadataAndPrimaryLeaseRefreshes(){this.clientMetadataRefresher=this.queue.enqueueAfterDelay("client_metadata_refresh",mr,()=>this.updateClientMetadataAndTryBecomePrimary().then(()=>this.maybeGarbageCollectMultiClientState()).then(()=>this.scheduleClientMetadataAndPrimaryLeaseRefreshes()))}isLocalClient(a){return!!a&&a.ownerId===this.clientId}canActAsPrimary(a){return this.forceOwningTab?cS.resolve(!0):mx(a).get(dk).next(b=>{if(null!==b&&this.isWithinAge(b.leaseTimestampMs,mq)&&!this.isClientZombied(b.ownerId)){if(this.isLocalClient(b)&&this.networkEnabled)return!0;if(!this.isLocalClient(b)){if(!b.allowTabSynchronization)throw new bX(bQ,ms);return!1}}return!!this.networkEnabled&&!!this.inForeground||my(a).loadAll().next(a=>void 0===this.filterActiveClients(a,mq).find(a=>{if(this.clientId!==a.clientId){let b=!this.networkEnabled&&a.networkEnabled,c=!this.inForeground&&a.inForeground,d=this.networkEnabled===a.networkEnabled;if(b||c&&d)return!0}return!1}))}).next(a=>(this.isPrimary!==a&&by(mo,`Client ${a?"is":"is not"} eligible for a primary lease.`),a))}async shutdown(){this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&(this.clientMetadataRefresher.cancel(),this.clientMetadataRefresher=null),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),await this.simpleDb.runTransaction("shutdown","readwrite",[dj,dR],a=>{let b=new eo(a,c9.INVALID);return this.releasePrimaryLeaseIfHeld(b).next(()=>this.removeClientMetadata(b))}),this.simpleDb.close(),this.removeClientZombiedEntry()}filterActiveClients(a,b){return a.filter(a=>this.isWithinAge(a.updateTimeMs,b)&&!this.isClientZombied(a.clientId))}getActiveClients(){return this.runTransaction("getActiveClients","readonly",a=>my(a).loadAll().next(a=>this.filterActiveClients(a,mp).map(a=>a.clientId)))}get started(){return this._started}getGlobalsCache(){return this.globalsCache}getMutationQueue(a,b){return la.forUser(a,this.serializer,b,this.referenceDelegate)}getTargetCache(){return this.targetCache}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(a){return new k2(a,this.serializer.remoteSerializer.databaseId)}getDocumentOverlayCache(a){return j5.forUser(this.serializer,a)}getBundleCache(){return this.bundleCache}runTransaction(a,b,c){let d;by(mo,"Starting transaction:",a);let e="readonly"===b?"readonly":"readwrite",f=en(this.schemaVersion);return this.simpleDb.runTransaction(a,e,f,e=>(d=new eo(e,this.listenSequence?this.listenSequence.next():c9.INVALID),"readwrite-primary"===b)?this.verifyPrimaryLease(d).next(a=>!!a||this.canActAsPrimary(d)).next(b=>{if(!b)throw bz(`Failed to obtain primary lease for action '${a}'.`),this.isPrimary=!1,this.queue.enqueueRetryable(()=>this.primaryStateListener(!1)),new bX(bQ,cP);return c(d)}).next(a=>this.acquireOrExtendPrimaryLease(d).next(()=>a)):this.verifyAllowTabSynchronization(d).next(()=>c(d))).then(a=>(d.raiseOnCommittedEvent(),a))}verifyAllowTabSynchronization(a){return mx(a).get(dk).next(a=>{if(null!==a&&this.isWithinAge(a.leaseTimestampMs,mq)&&!this.isClientZombied(a.ownerId)&&!this.isLocalClient(a)&&!this.forceOwningTab&&(!this.allowTabSynchronization||!a.allowTabSynchronization))throw new bX(bQ,ms)})}acquireOrExtendPrimaryLease(a){let b={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return mx(a).put(dk,b)}static isAvailable(){return cW.isAvailable()}releasePrimaryLeaseIfHeld(a){let b=mx(a);return b.get(dk).next(a=>this.isLocalClient(a)?(by(mo,"Releasing primary lease."),b.delete(dk)):cS.resolve())}isWithinAge(a,b){let c=Date.now(),d=c-b,e=c;return!(a<d)&&(!(a>e)||(bz(`Detected an update time that is in the future: ${a} > ${e}`),!1))}attachVisibilityHandler(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.documentVisibilityHandler=()=>{this.queue.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.updateClientMetadataAndTryBecomePrimary()))},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)}detachVisibilityHandler(){this.documentVisibilityHandler&&(this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)}attachWindowUnloadHook(){"function"==typeof this.window?.addEventListener&&(this.windowUnloadHandler=()=>{this.markClientZombied();let a=/(?:Version|Mobile)\/1[456]/;D()&&(navigator.appVersion.match(a)||navigator.userAgent.match(a))&&this.queue.enterRestrictedMode(!0),this.queue.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.windowUnloadHandler))}detachWindowUnloadHook(){this.windowUnloadHandler&&(this.window.removeEventListener("pagehide",this.windowUnloadHandler),this.windowUnloadHandler=null)}isClientZombied(a){try{let b=this.webStorage?.getItem(this.zombiedClientLocalStorageKey(a))!==null;return by(mo,`Client '${a}' ${b?"is":"is not"} zombied in LocalStorage`),b}catch(a){return bz(mo,"Failed to get zombied client id.",a),!1}}markClientZombied(){if(this.webStorage)try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(a){bz("Failed to set zombie client id.",a)}}removeClientZombiedEntry(){if(this.webStorage)try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(a){}}zombiedClientLocalStorageKey(a){return`${mu}_${this.persistenceKey}_${a}`}}function mx(a){return ep(a,dj)}function my(a){return ep(a,dR)}function mz(a,b){let c=a.projectId;return a.isDefaultDatabase||(c+="."+a.database),"firestore/"+b+"/"+c+"/"}function mA(a,b,c,d,e){b=[...b],(a=[...a]).sort(c),b.sort(c);let f=a.length,g=b.length,h=0,i=0;for(;h<g&&i<f;){let f=c(a[i],b[h]);f<0?e(a[i++]):f>0?d(b[h++]):(h++,i++)}for(;h<g;)d(b[h++]);for(;i<f;)e(a[i++])}function mB(a,b){if(a.length!==b.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==b[c])return!1;return!0}let mC="LocalStore",mD=3e8;class mE{constructor(a,b,c,d){this.persistence=a,this.queryEngine=b,this.serializer=d,this.targetDataByTarget=new eu(b8),this.targetIdByTarget=new g1(a=>go(a),gq),this.collectionGroupReadTime=new Map,this.remoteDocuments=a.getRemoteDocumentCache(),this.targetCache=a.getTargetCache(),this.bundleCache=a.getBundleCache(),this.initializeUserComponents(c)}initializeUserComponents(a){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(a),this.indexManager=this.persistence.getIndexManager(a),this.mutationQueue=this.persistence.getMutationQueue(a,this.indexManager),this.localDocuments=new lP(this.remoteDocuments,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.remoteDocuments.setIndexManager(this.indexManager),this.queryEngine.initialize(this.localDocuments,this.indexManager)}collectGarbage(a){return this.persistence.runTransaction("Collect garbage","readwrite-primary",b=>a.collect(b,this.targetDataByTarget))}}function mF(a,b,c,d){return new mE(a,b,c,d)}async function mG(a,b){let c=bF(a);return await c.persistence.runTransaction("Handle user change","readonly",a=>{let d;return c.mutationQueue.getAllMutationBatches(a).next(e=>(d=e,c.initializeUserComponents(b),c.mutationQueue.getAllMutationBatches(a))).next(b=>{let e=[],f=[],g=he();for(let a of d)for(let b of(e.push(a.batchId),a.mutations))g=g.add(b.key);for(let a of b)for(let b of(f.push(a.batchId),a.mutations))g=g.add(b.key);return c.localDocuments.getDocuments(a,g).next(a=>({affectedDocuments:a,removedBatchIds:e,addedBatchIds:f}))})})}function mH(a,b){let c,d,e=bF(a),f=cy.now(),g=b.reduce((a,b)=>a.add(b.key),he());return e.persistence.runTransaction("Locally write mutations","readwrite",a=>{let h=g3(),i=he();return e.remoteDocuments.getEntries(a,g).next(a=>{(h=a).forEach((a,b)=>{b.isValidDocument()||(i=i.add(a))})}).next(()=>e.localDocuments.getOverlayedDocuments(a,h)).next(d=>{c=d;let g=[];for(let a of b){let b=hI(a,c.get(a.key).overlayedDocument);null!=b&&g.push(new hN(a.key,b,fP(b.value.mapValue),hC.exists(!0)))}return e.mutationQueue.addMutationBatch(a,f,g,b)}).next(b=>{d=b;let f=b.applyToLocalDocumentSet(c,i);return e.documentOverlayCache.saveOverlays(a,b.batchId,f)})}).then(()=>({batchId:d.batchId,changes:g7(c)}))}function mI(a,b){let c=bF(a);return c.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{let d=b.batch.keys(),e=c.remoteDocuments.newChangeBuffer({trackRemovals:!0});return mW(c,a,b,e).next(()=>e.apply(a)).next(()=>c.mutationQueue.performConsistencyCheck(a)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(a,d,b.batch.batchId)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,mJ(b))).next(()=>c.localDocuments.getDocuments(a,d))})}function mJ(a){let b=he();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(b=b.add(a.batch.mutations[c].key));return b}function mK(a,b){let c=bF(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",a=>{let d;return c.mutationQueue.lookupMutationBatch(a,b).next(b=>(bE(null!==b,37113),d=b.keys(),c.mutationQueue.removeMutationBatch(a,b))).next(()=>c.mutationQueue.performConsistencyCheck(a)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(a,d,b)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,d)).next(()=>c.localDocuments.getDocuments(a,d))})}function mL(a){let b=bF(a);return b.persistence.runTransaction("Get last remote snapshot version","readonly",a=>b.targetCache.getLastRemoteSnapshotVersion(a))}function mM(a,b){let c=bF(a),d=b.snapshotVersion,e=c.targetDataByTarget;return c.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{let f=c.remoteDocuments.newChangeBuffer({trackRemovals:!0});e=c.targetDataByTarget;let g=[];b.targetChanges.forEach((f,h)=>{let i=e.get(h);if(!i)return;g.push(c.targetCache.removeMatchingKeys(a,f.removedDocuments,h).next(()=>c.targetCache.addMatchingKeys(a,f.addedDocuments,h)));let j=i.withSequenceNumber(a.currentSequenceNumber);null!==b.targetMismatches.get(h)?j=j.withResumeToken(eF.EMPTY_BYTE_STRING,cz.min()).withLastLimboFreeSnapshotVersion(cz.min()):f.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(f.resumeToken,d)),e=e.insert(h,j),mO(i,j,f)&&g.push(c.targetCache.updateTargetData(a,j))});let h=g3(),i=he();if(b.documentUpdates.forEach(d=>{b.resolvedLimboDocuments.has(d)&&g.push(c.persistence.referenceDelegate.updateLimboDocument(a,d))}),g.push(mN(a,f,b.documentUpdates).next(a=>{h=a.changedDocuments,i=a.existenceChangedKeys})),!d.isEqual(cz.min())){let b=c.targetCache.getLastRemoteSnapshotVersion(a).next(b=>c.targetCache.setTargetsMetadata(a,a.currentSequenceNumber,d));g.push(b)}return cS.waitFor(g).next(()=>f.apply(a)).next(()=>c.localDocuments.getLocalViewOfDocuments(a,h,i)).next(()=>h)}).then(a=>(c.targetDataByTarget=e,a))}function mN(a,b,c){let d=he(),e=he();return c.forEach(a=>d=d.add(a)),b.getEntries(a,d).next(a=>{let d=g3();return c.forEach((c,f)=>{let g=a.get(c);f.isFoundDocument()!==g.isFoundDocument()&&(e=e.add(c)),f.isNoDocument()&&f.version.isEqual(cz.min())?(b.removeEntry(c,f.readTime),d=d.insert(c,f)):!g.isValidDocument()||f.version.compareTo(g.version)>0||0===f.version.compareTo(g.version)&&g.hasPendingWrites?(b.addEntry(f),d=d.insert(c,f)):by(mC,"Ignoring outdated watch update for ",c,". Current version:",g.version," Watch version:",f.version)}),{changedDocuments:d,existenceChangedKeys:e}})}function mO(a,b,c){return!!(0===a.resumeToken.approximateByteSize()||b.snapshotVersion.toMicroseconds()-a.snapshotVersion.toMicroseconds()>=mD)||c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size>0}async function mP(a,b){let c=bF(a);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",a=>cS.forEach(b,b=>cS.forEach(b.addedKeys,d=>c.persistence.referenceDelegate.addReference(a,b.targetId,d)).next(()=>cS.forEach(b.removedKeys,d=>c.persistence.referenceDelegate.removeReference(a,b.targetId,d)))))}catch(a){if(c$(a))by(mC,"Failed to update sequence numbers: "+a);else throw a}for(let a of b){let b=a.targetId;if(!a.fromCache){let a=c.targetDataByTarget.get(b),d=a.snapshotVersion,e=a.withLastLimboFreeSnapshotVersion(d);c.targetDataByTarget=c.targetDataByTarget.insert(b,e)}}}function mQ(a,b){let c=bF(a);return c.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===b&&(b=eY),c.mutationQueue.getNextMutationBatchAfterBatchId(a,b)))}function mR(a,b){let c=bF(a);return c.persistence.runTransaction("read document","readonly",a=>c.localDocuments.getDocument(a,b))}function mS(a,b){let c=bF(a);return c.persistence.runTransaction("Allocate target","readwrite",a=>{let d;return c.targetCache.getTargetData(a,b).next(e=>e?(d=e,cS.resolve(d)):c.targetCache.allocateTargetId(a).next(e=>(d=new jE(b,e,"TargetPurposeListen",a.currentSequenceNumber),c.targetCache.addTargetData(a,d).next(()=>d))))}).then(a=>{let d=c.targetDataByTarget.get(a.targetId);return(null===d||a.snapshotVersion.compareTo(d.snapshotVersion)>0)&&(c.targetDataByTarget=c.targetDataByTarget.insert(a.targetId,a),c.targetIdByTarget.set(b,a.targetId)),a})}function mT(a,b,c){let d=bF(a),e=d.targetIdByTarget.get(c);return void 0!==e?cS.resolve(d.targetDataByTarget.get(e)):d.targetCache.getTargetData(b,c)}async function mU(a,b,c){let d=bF(a),e=d.targetDataByTarget.get(b),f=c?"readwrite":"readwrite-primary";try{c||await d.persistence.runTransaction("Release target",f,a=>d.persistence.referenceDelegate.removeTarget(a,e))}catch(a){if(c$(a))by(mC,`Failed to update sequence numbers for target ${b}: ${a}`);else throw a}d.targetDataByTarget=d.targetDataByTarget.remove(b),d.targetIdByTarget.delete(e.target)}function mV(a,b,c){let d=bF(a),e=cz.min(),f=he();return d.persistence.runTransaction("Execute query","readwrite",a=>mT(d,a,gK(b)).next(b=>{if(b)return e=b.lastLimboFreeSnapshotVersion,d.targetCache.getMatchingKeysForTargetId(a,b.targetId).next(a=>{f=a})}).next(()=>d.queryEngine.getDocumentsMatchingQuery(a,b,c?e:cz.min(),c?f:he())).next(a=>(m0(d,g$(b),a),{documents:a,remoteKeys:f})))}function mW(a,b,c,d){let e=c.batch,f=e.keys(),g=cS.resolve();return f.forEach(a=>{g=g.next(()=>d.getEntry(b,a)).next(b=>{let f=c.docVersions.get(a);bE(null!==f,48541),0>b.version.compareTo(f)&&(e.applyToRemoteDocument(b,c),b.isValidDocument()&&(b.setReadTime(c.commitVersion),d.addEntry(b)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(b,e))}function mX(a,b){let c=bF(a),d=bF(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",a=>d.lookupMutationKeys(a,b).next(b=>b?c.localDocuments.getDocuments(a,b):cS.resolve(null)))}function mY(a,b){bF(bF(a,mE).mutationQueue).removeCachedMutationKeys(b)}function mZ(a){return bF(bF(a,mE).persistence).getActiveClients()}function m$(a,b){let c=bF(a),d=bF(c.targetCache),e=c.targetDataByTarget.get(b);return e?Promise.resolve(e.target):c.persistence.runTransaction("Get target data","readonly",a=>d.getTargetDataForTarget(a,b).next(a=>a?a.target:null))}function m_(a,b){let c=bF(a),d=c.collectionGroupReadTime.get(b)||cz.min();return c.persistence.runTransaction("Get new document changes","readonly",a=>c.remoteDocuments.getAllFromCollectionGroup(a,b,cL(d,cA),Number.MAX_SAFE_INTEGER)).then(a=>(m0(c,b,a),a))}function m0(a,b,c){let d=a.collectionGroupReadTime.get(b)||cz.min();c.forEach((a,b)=>{b.readTime.compareTo(d)>0&&(d=b.readTime)}),a.collectionGroupReadTime.set(b,d)}function m1(a){return gK(gD(ch.fromString(`__bundle__/docs/${a}`)))}async function m2(a,b,c,d){let e=bF(a),f=he(),g=g3();for(let a of c){let c=b.toDocumentKey(a.metadata.name);a.document&&(f=f.add(c));let d=b.toMutableDocument(a);d.setReadTime(b.toSnapshotVersion(a.metadata.readTime)),g=g.insert(c,d)}let h=e.remoteDocuments.newChangeBuffer({trackRemovals:!0}),i=await mS(e,m1(d));return e.persistence.runTransaction("Apply bundle documents","readwrite",a=>mN(a,h,g).next(b=>(h.apply(a),b)).next(b=>e.targetCache.removeMatchingKeysForTargetId(a,i.targetId).next(()=>e.targetCache.addMatchingKeys(a,f,i.targetId)).next(()=>e.localDocuments.getLocalViewOfDocuments(a,b.changedDocuments,b.existenceChangedKeys)).next(()=>b.changedDocuments)))}function m3(a,b){let c=bF(a),d=iC(b.createTime);return c.persistence.runTransaction("hasNewerBundle","readonly",a=>c.bundleCache.getBundleMetadata(a,b.id)).then(a=>!!a&&a.createTime.compareTo(d)>=0)}function m4(a,b){let c=bF(a);return c.persistence.runTransaction("Save bundle","readwrite",a=>c.bundleCache.saveBundleMetadata(a,b))}function m5(a,b){let c=bF(a);return c.persistence.runTransaction("Get named query","readonly",a=>c.bundleCache.getNamedQuery(a,b))}async function m6(a,b,c=he()){let d=await mS(a,gK(jV(b.bundledQuery))),e=bF(a);return e.persistence.runTransaction("Save named query","readwrite",a=>{let f=iC(b.readTime);if(d.snapshotVersion.compareTo(f)>=0)return e.bundleCache.saveNamedQuery(a,b);let g=d.withResumeToken(eF.EMPTY_BYTE_STRING,f);return e.targetDataByTarget=e.targetDataByTarget.insert(g.targetId,g),e.targetCache.updateTargetData(a,g).next(()=>e.targetCache.removeMatchingKeysForTargetId(a,d.targetId)).next(()=>e.targetCache.addMatchingKeys(a,c,d.targetId)).next(()=>e.bundleCache.saveNamedQuery(a,b))})}async function m7(a,b){let c=bF(a),d=c.indexManager,e=[];return c.persistence.runTransaction("Configure indexes","readwrite",a=>d.getFieldIndexes(a).next(c=>mA(c,b,cG,b=>{e.push(d.addFieldIndex(a,b))},b=>{e.push(d.deleteFieldIndex(a,b))})).next(()=>cS.waitFor(e)))}function m8(a,b){bF(a).queryEngine.indexAutoCreationEnabled=b}function m9(a){let b=bF(a),c=b.indexManager;return b.persistence.runTransaction("Delete All Indexes","readwrite",a=>c.deleteAllFieldIndexes(a))}class na{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(a){this._documentReadCount+=a}}let nb=100;function nc(){return D()?8:cX(z())>0?6:4}class nd{constructor(){this.initialized=!1,this.indexAutoCreationEnabled=!1,this.indexAutoCreationMinCollectionSize=nb,this.relativeIndexReadCostPerDocument=nc()}initialize(a,b){this.localDocumentsView=a,this.indexManager=b,this.initialized=!0}getDocumentsMatchingQuery(a,b,c,d){let e={result:null};return this.performQueryUsingIndex(a,b).next(a=>{e.result=a}).next(()=>{if(!e.result)return this.performQueryUsingRemoteKeys(a,b,d,c).next(a=>{e.result=a})}).next(()=>{if(e.result)return;let c=new na;return this.executeFullCollectionScan(a,b,c).next(d=>{if(e.result=d,this.indexAutoCreationEnabled)return this.createCacheIndexes(a,b,c,d.size)})}).next(()=>e.result)}createCacheIndexes(a,b,c,d){return c.documentReadCount<this.indexAutoCreationMinCollectionSize?(bx()<=bh.DEBUG&&by("QueryEngine","SDK will not create cache indexes for query:",gU(b),"since it only creates cache indexes for collection contains","more than or equal to",this.indexAutoCreationMinCollectionSize,"documents"),cS.resolve()):(bx()<=bh.DEBUG&&by("QueryEngine","Query:",gU(b),"scans",c.documentReadCount,"local documents and returns",d,"documents as results."),c.documentReadCount>this.relativeIndexReadCostPerDocument*d)?(bx()<=bh.DEBUG&&by("QueryEngine","The SDK decides to create cache indexes for query:",gU(b),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(a,gK(b))):cS.resolve()}performQueryUsingIndex(a,b){if(gF(b))return cS.resolve(null);let c=gK(b);return this.indexManager.getIndexType(a,c).next(d=>0===d?null:(null!==b.limit&&1===d&&(c=gK(b=gP(b,null,"F"))),this.indexManager.getDocumentsMatchingTarget(a,c).next(d=>{let e=he(...d);return this.localDocumentsView.getDocuments(a,e).next(d=>this.indexManager.getMinOffset(a,c).next(c=>{let f=this.applyQuery(b,d);return this.needsRefill(b,f,e,c.readTime)?this.performQueryUsingIndex(a,gP(b,null,"F")):this.appendRemainingResults(a,f,b,c)}))})))}performQueryUsingRemoteKeys(a,b,c,d){return gF(b)||d.isEqual(cz.min())?cS.resolve(null):this.localDocumentsView.getDocuments(a,c).next(e=>{let f=this.applyQuery(b,e);return this.needsRefill(b,f,c,d)?cS.resolve(null):(bx()<=bh.DEBUG&&by("QueryEngine","Re-using previous result from %s to execute query: %s",d.toString(),gU(b)),this.appendRemainingResults(a,f,b,cL(d,cA)).next(a=>a))})}applyQuery(a,b){let c=new ey(g_(a));return b.forEach((b,d)=>{gV(a,d)&&(c=c.add(d))}),c}needsRefill(a,b,c,d){if(null===a.limit)return!1;if(c.size!==b.size)return!0;let e="F"===a.limitType?b.last():b.first();return!!e&&(e.hasPendingWrites||e.version.compareTo(d)>0)}executeFullCollectionScan(a,b,c){return bx()<=bh.DEBUG&&by("QueryEngine","Using full collection scan to execute query:",gU(b)),this.localDocumentsView.getDocumentsMatchingQuery(a,b,cN.min(),c)}appendRemainingResults(a,b,c,d){return this.localDocumentsView.getDocumentsMatchingQuery(a,c,d).next(a=>(b.forEach(b=>{a=a.insert(b.key,b)}),a))}}let ne="firestore_clients";function nf(a,b){return`${ne}_${a}_${b}`}let ng="firestore_mutations";function nh(a,b,c){let d=`${ng}_${a}_${c}`;return b.isAuthenticated()&&(d+=`_${b.uid}`),d}let ni="firestore_targets";function nj(a,b){return`${ni}_${a}_${b}`}let nk="firestore_online_state";function nl(a){return`${nk}_${a}`}let nm="firestore_bundle_loaded_v2";function nn(a){return`${nm}_${a}`}let no="firestore_sequence_number";function np(a){return`${no}_${a}`}let nq="SharedClientState";class nr{constructor(a,b,c,d){this.user=a,this.batchId=b,this.state=c,this.error=d}static fromWebStorageEntry(a,b,c){let d,e=JSON.parse(c),f="object"==typeof e&&-1!==["pending","acknowledged","rejected"].indexOf(e.state)&&(void 0===e.error||"object"==typeof e.error);return(f&&e.error&&(f="string"==typeof e.error.message&&"string"==typeof e.error.code)&&(d=new bX(e.error.code,e.error.message)),f)?new nr(a,b,e.state,d):(bz(nq,`Failed to parse mutation state for ID '${b}': ${c}`),null)}toWebStorageJSON(){let a={state:this.state,updateTimeMs:Date.now()};return this.error&&(a.error={code:this.error.code,message:this.error.message}),JSON.stringify(a)}}class ns{constructor(a,b,c){this.targetId=a,this.state=b,this.error=c}static fromWebStorageEntry(a,b){let c,d=JSON.parse(b),e="object"==typeof d&&-1!==["not-current","current","rejected"].indexOf(d.state)&&(void 0===d.error||"object"==typeof d.error);return(e&&d.error&&(e="string"==typeof d.error.message&&"string"==typeof d.error.code)&&(c=new bX(d.error.code,d.error.message)),e)?new ns(a,d.state,c):(bz(nq,`Failed to parse target state for ID '${a}': ${b}`),null)}toWebStorageJSON(){let a={state:this.state,updateTimeMs:Date.now()};return this.error&&(a.error={code:this.error.code,message:this.error.message}),JSON.stringify(a)}}class nt{constructor(a,b){this.clientId=a,this.activeTargetIds=b}static fromWebStorageEntry(a,b){let c=JSON.parse(b),d="object"==typeof c&&c.activeTargetIds instanceof Array,e=hg();for(let a=0;d&&a<c.activeTargetIds.length;++a)d=e_(c.activeTargetIds[a]),e=e.add(c.activeTargetIds[a]);return d?new nt(a,e):(bz(nq,`Failed to parse client data for instance '${a}': ${b}`),null)}}class nu{constructor(a,b){this.clientId=a,this.onlineState=b}static fromWebStorageEntry(a){let b=JSON.parse(a);return"object"==typeof b&&-1!==["Unknown","Online","Offline"].indexOf(b.onlineState)&&"string"==typeof b.clientId?new nu(b.clientId,b.onlineState):(bz(nq,`Failed to parse online state: ${a}`),null)}}class nv{constructor(){this.activeTargetIds=hg()}addQueryTarget(a){this.activeTargetIds=this.activeTargetIds.add(a)}removeQueryTarget(a){this.activeTargetIds=this.activeTargetIds.delete(a)}toWebStorageJSON(){return JSON.stringify({activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()})}}class nw{constructor(a,b,c,d,e){this.window=a,this.queue=b,this.persistenceKey=c,this.localClientId=d,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.storageListener=this.handleWebStorageEvent.bind(this),this.activeClients=new eu(b8),this.started=!1,this.earlyEvents=[];const f=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=e,this.localClientStorageKey=nf(this.persistenceKey,this.localClientId),this.sequenceNumberKey=np(this.persistenceKey),this.activeClients=this.activeClients.insert(this.localClientId,new nv),this.clientStateKeyRe=RegExp(`^${ne}_${f}_([^_]*)$`),this.mutationBatchKeyRe=RegExp(`^${ng}_${f}_(\\d+)(?:_(.*))?$`),this.queryTargetKeyRe=RegExp(`^${ni}_${f}_(\\d+)$`),this.onlineStateKey=nl(this.persistenceKey),this.bundleLoadedKey=nn(this.persistenceKey),this.window.addEventListener("storage",this.storageListener)}static isAvailable(a){return!!(a&&a.localStorage)}async start(){for(let a of(await this.syncEngine.getActiveClients())){if(a===this.localClientId)continue;let b=this.getItem(nf(this.persistenceKey,a));if(b){let c=nt.fromWebStorageEntry(a,b);c&&(this.activeClients=this.activeClients.insert(c.clientId,c))}}this.persistClientState();let a=this.storage.getItem(this.onlineStateKey);if(a){let b=this.fromWebStorageOnlineState(a);b&&this.handleOnlineStateEvent(b)}for(let a of this.earlyEvents)this.handleWebStorageEvent(a);this.earlyEvents=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(a){this.setItem(this.sequenceNumberKey,JSON.stringify(a))}getAllActiveQueryTargets(){return this.extractActiveQueryTargets(this.activeClients)}isActiveQueryTarget(a){let b=!1;return this.activeClients.forEach((c,d)=>{d.activeTargetIds.has(a)&&(b=!0)}),b}addPendingMutation(a){this.persistMutationState(a,"pending")}updateMutationState(a,b,c){this.persistMutationState(a,b,c),this.removeMutationState(a)}addLocalQueryTarget(a,b=!0){let c="not-current";if(this.isActiveQueryTarget(a)){let b=this.storage.getItem(nj(this.persistenceKey,a));if(b){let d=ns.fromWebStorageEntry(a,b);d&&(c=d.state)}}return b&&this.localClientState.addQueryTarget(a),this.persistClientState(),c}removeLocalQueryTarget(a){this.localClientState.removeQueryTarget(a),this.persistClientState()}isLocalQueryTarget(a){return this.localClientState.activeTargetIds.has(a)}clearQueryState(a){this.removeItem(nj(this.persistenceKey,a))}updateQueryState(a,b,c){this.persistQueryTargetState(a,b,c)}handleUserChange(a,b,c){b.forEach(a=>{this.removeMutationState(a)}),this.currentUser=a,c.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(a){this.persistOnlineState(a)}notifyBundleLoaded(a){this.persistBundleLoadedState(a)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)}getItem(a){let b=this.storage.getItem(a);return by(nq,"READ",a,b),b}setItem(a,b){by(nq,"SET",a,b),this.storage.setItem(a,b)}removeItem(a){by(nq,"REMOVE",a),this.storage.removeItem(a)}handleWebStorageEvent(a){let b=a;if(b.storageArea===this.storage){if(by(nq,"EVENT",b.key,b.newValue),b.key===this.localClientStorageKey)return void bz("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.queue.enqueueRetryable(async()=>{if(!this.started)return void this.earlyEvents.push(b);if(null!==b.key){if(this.clientStateKeyRe.test(b.key))if(null!=b.newValue){let a=this.fromWebStorageClientState(b.key,b.newValue);if(a)return this.handleClientStateEvent(a.clientId,a)}else{let a=this.fromWebStorageClientStateKey(b.key);return this.handleClientStateEvent(a,null)}else if(this.mutationBatchKeyRe.test(b.key)){if(null!==b.newValue){let a=this.fromWebStorageMutationMetadata(b.key,b.newValue);if(a)return this.handleMutationBatchEvent(a)}}else if(this.queryTargetKeyRe.test(b.key)){if(null!==b.newValue){let a=this.fromWebStorageQueryTargetMetadata(b.key,b.newValue);if(a)return this.handleQueryTargetEvent(a)}}else if(b.key===this.onlineStateKey){if(null!==b.newValue){let a=this.fromWebStorageOnlineState(b.newValue);if(a)return this.handleOnlineStateEvent(a)}}else if(b.key===this.sequenceNumberKey){let a=nx(b.newValue);a!==c9.INVALID&&this.sequenceNumberHandler(a)}else if(b.key===this.bundleLoadedKey){let a=this.fromWebStoreBundleLoadedState(b.newValue);await Promise.all(a.map(a=>this.syncEngine.synchronizeWithChangedDocuments(a)))}}})}}get localClientState(){return this.activeClients.get(this.localClientId)}persistClientState(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())}persistMutationState(a,b,c){let d=new nr(this.currentUser,a,b,c),e=nh(this.persistenceKey,this.currentUser,a);this.setItem(e,d.toWebStorageJSON())}removeMutationState(a){let b=nh(this.persistenceKey,this.currentUser,a);this.removeItem(b)}persistOnlineState(a){let b={clientId:this.localClientId,onlineState:a};this.storage.setItem(this.onlineStateKey,JSON.stringify(b))}persistQueryTargetState(a,b,c){let d=nj(this.persistenceKey,a),e=new ns(a,b,c);this.setItem(d,e.toWebStorageJSON())}persistBundleLoadedState(a){let b=JSON.stringify(Array.from(a));this.setItem(this.bundleLoadedKey,b)}fromWebStorageClientStateKey(a){let b=this.clientStateKeyRe.exec(a);return b?b[1]:null}fromWebStorageClientState(a,b){let c=this.fromWebStorageClientStateKey(a);return nt.fromWebStorageEntry(c,b)}fromWebStorageMutationMetadata(a,b){let c=this.mutationBatchKeyRe.exec(a),d=Number(c[1]),e=void 0!==c[2]?c[2]:null;return nr.fromWebStorageEntry(new bs(e),d,b)}fromWebStorageQueryTargetMetadata(a,b){let c=Number(this.queryTargetKeyRe.exec(a)[1]);return ns.fromWebStorageEntry(c,b)}fromWebStorageOnlineState(a){return nu.fromWebStorageEntry(a)}fromWebStoreBundleLoadedState(a){return JSON.parse(a)}async handleMutationBatchEvent(a){return a.user.uid!==this.currentUser.uid?void by(nq,`Ignoring mutation for non-active user ${a.user.uid}`):this.syncEngine.applyBatchState(a.batchId,a.state,a.error)}handleQueryTargetEvent(a){return this.syncEngine.applyTargetState(a.targetId,a.state,a.error)}handleClientStateEvent(a,b){let c=b?this.activeClients.insert(a,b):this.activeClients.remove(a),d=this.extractActiveQueryTargets(this.activeClients),e=this.extractActiveQueryTargets(c),f=[],g=[];return e.forEach(a=>{d.has(a)||f.push(a)}),d.forEach(a=>{e.has(a)||g.push(a)}),this.syncEngine.applyActiveTargetsChange(f,g).then(()=>{this.activeClients=c})}handleOnlineStateEvent(a){this.activeClients.get(a.clientId)&&this.onlineStateHandler(a.onlineState)}extractActiveQueryTargets(a){let b=hg();return a.forEach((a,c)=>{b=b.unionWith(c.activeTargetIds)}),b}}function nx(a){let b=c9.INVALID;if(null!=a)try{let c=JSON.parse(a);bE("number"==typeof c,30636,{seqString:a}),b=c}catch(a){bz(nq,"Failed to read sequence number from WebStorage",a)}return b}class ny{constructor(){this.localState=new nv,this.queryState={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(a){}updateMutationState(a,b,c){}addLocalQueryTarget(a,b=!0){return b&&this.localState.addQueryTarget(a),this.queryState[a]||"not-current"}updateQueryState(a,b,c){this.queryState[a]=b}removeLocalQueryTarget(a){this.localState.removeQueryTarget(a)}isLocalQueryTarget(a){return this.localState.activeTargetIds.has(a)}clearQueryState(a){delete this.queryState[a]}getAllActiveQueryTargets(){return this.localState.activeTargetIds}isActiveQueryTarget(a){return this.localState.activeTargetIds.has(a)}start(){return this.localState=new nv,Promise.resolve()}handleUserChange(a,b,c){}setOnlineState(a){}shutdown(){}writeSequenceNumber(a){}notifyBundleLoaded(a){}}class nz{addCallback(a){}shutdown(){}}class nA{constructor(a){this.sendFn=a.sendFn,this.closeFn=a.closeFn}onConnected(a){this.wrappedOnConnected=a}onOpen(a){this.wrappedOnOpen=a}onClose(a){this.wrappedOnClose=a}onMessage(a){this.wrappedOnMessage=a}close(){this.closeFn()}send(a){this.sendFn(a)}callOnConnected(){this.wrappedOnConnected()}callOnOpen(){this.wrappedOnOpen()}callOnClose(a){this.wrappedOnClose(a)}callOnMessage(a){this.wrappedOnMessage(a)}}let nB=null;function nC(){return 0x10000000+Math.round(0x80000000*Math.random())}function nD(){return null===nB?nB=nC():nB++,"0x"+nB.toString(16)}function nE(a){return new Promise((b,c)=>{a((a,d)=>{a?c(a):b(d)})})}let nF="1.9.15",nG="GrpcConnection",nH=`gl-node/${process.versions.node} fire/${bt} grpc/${nF}`;function nI(a,b,c,d,e){bE(null===b||"OAuth"===b.type,36936);let f=new bq.Metadata;return b&&b.headers.forEach((a,b)=>f.set(b,a)),c&&c.headers.forEach((a,b)=>f.set(b,a)),d&&f.set("X-Firebase-GMPID",d),f.set("X-Goog-Api-Client",nH),f.set("Google-Cloud-Resource-Prefix",a),f.set("x-goog-request-params",a),e&&f.set("X-Goog-Api-Key",e),f}class nJ{get shouldResourcePathBeIncludedInRequest(){return!0}constructor(a,b){this.databaseInfo=b,this.cachedStub=null,this.firestore=a.google.firestore.v1,this.databasePath=`projects/${b.databaseId.projectId}/databases/${b.databaseId.database}`}ensureActiveStub(){if(!this.cachedStub){by(nG,"Creating Firestore stub.");let a=this.databaseInfo.ssl?bq.credentials.createSsl():bq.credentials.createInsecure();this.cachedStub=new this.firestore.Firestore(this.databaseInfo.host,a)}return this.cachedStub}invokeRPC(a,b,c,d,e){let f=nD(),g=this.ensureActiveStub(),h=nI(this.databasePath,d,e,this.databaseInfo.appId,this.databaseInfo.apiKey),i={database:this.databasePath,...c};return nE(b=>(by(nG,`RPC '${a}' ${f} invoked with request:`,c),g[a](i,h,(c,d)=>{c?(by(nG,`RPC '${a}' ${f} failed with error:`,c),b(new bX(h1(c.code),c.message))):(by(nG,`RPC '${a}' ${f} completed with response:`,d),b(void 0,d))})))}invokeStreamingRPC(a,b,c,d,e,f){let g=nD(),h=[],i=new bY;by(nG,`RPC '${a}' ${g} invoked (streaming) with request:`,c);let j=this.ensureActiveStub(),k=nI(this.databasePath,d,e,this.databaseInfo.appId,this.databaseInfo.apiKey),l={...c,database:this.databasePath},m=j[a](l,k),n=!1;return m.on("data",b=>{by(nG,`RPC ${a} ${g} received result:`,b),h.push(b),void 0!==f&&h.length===f&&(n=!0,i.resolve(h))}),m.on("end",()=>{by(nG,`RPC '${a}' ${g} completed.`),n||(n=!0,i.resolve(h))}),m.on("error",b=>{by(nG,`RPC '${a}' ${g} failed with error:`,b);let c=h1(b.code);i.reject(new bX(c,b.message))}),i.promise}openStream(a,b,c){let d=nD(),e=this.ensureActiveStub(),f=nI(this.databasePath,b,c,this.databaseInfo.appId,this.databaseInfo.apiKey),g=e[a](f),h=!1,i=a=>{h||(h=!0,j.callOnClose(a),g.end())},j=new nA({sendFn:b=>{if(h)by(nG,`RPC '${a}' stream ${d} not sending because gRPC stream is closed:`,b);else{by(nG,`RPC '${a}' stream ${d} sending:`,b);try{g.write(b)}catch(a){throw bz("Failure sending:",b),bz("Error:",a),a}}},closeFn:()=>{by(nG,`RPC '${a}' stream ${d} closed locally via close().`),i()}}),k=!1;return g.on("data",b=>{h||(by(nG,`RPC '${a}' stream ${d} received:`,b),k||(j.callOnConnected(),k=!0),j.callOnMessage(b))}),g.on("end",()=>{by(nG,`RPC '${a}' stream ${d} ended.`),i()}),g.on("error",b=>{h||(bA(nG,`RPC '${a}' stream ${d} error. Code:`,b.code,"Message:",b.message),i(new bX(h1(b.code),b.message)))}),by(nG,`Opening RPC '${a}' stream ${d} to ${this.databaseInfo.host}`),setTimeout(()=>{j.callOnOpen()},0),j}terminate(){this.cachedStub&&(this.cachedStub.close(),this.cachedStub=void 0)}}let nK={google:{nested:{protobuf:{options:{go_package:"github.com/golang/protobuf/protoc-gen-go/descriptor;descriptor",java_package:"com.google.protobuf",java_outer_classname:"DescriptorProtos",csharp_namespace:"Google.Protobuf.Reflection",objc_class_prefix:"GPB",cc_enable_arenas:!0,optimize_for:"SPEED"},nested:{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}},Timestamp:{fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}},FileDescriptorSet:{fields:{file:{rule:"repeated",type:"FileDescriptorProto",id:1}}},FileDescriptorProto:{fields:{name:{type:"string",id:1},package:{type:"string",id:2},dependency:{rule:"repeated",type:"string",id:3},publicDependency:{rule:"repeated",type:"int32",id:10,options:{packed:!1}},weakDependency:{rule:"repeated",type:"int32",id:11,options:{packed:!1}},messageType:{rule:"repeated",type:"DescriptorProto",id:4},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:5},service:{rule:"repeated",type:"ServiceDescriptorProto",id:6},extension:{rule:"repeated",type:"FieldDescriptorProto",id:7},options:{type:"FileOptions",id:8},sourceCodeInfo:{type:"SourceCodeInfo",id:9},syntax:{type:"string",id:12}}},DescriptorProto:{fields:{name:{type:"string",id:1},field:{rule:"repeated",type:"FieldDescriptorProto",id:2},extension:{rule:"repeated",type:"FieldDescriptorProto",id:6},nestedType:{rule:"repeated",type:"DescriptorProto",id:3},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:4},extensionRange:{rule:"repeated",type:"ExtensionRange",id:5},oneofDecl:{rule:"repeated",type:"OneofDescriptorProto",id:8},options:{type:"MessageOptions",id:7},reservedRange:{rule:"repeated",type:"ReservedRange",id:9},reservedName:{rule:"repeated",type:"string",id:10}},nested:{ExtensionRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2},options:{type:"ExtensionRangeOptions",id:3}}},ReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},ExtensionRangeOptions:{fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,0x1fffffff]]},FieldDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:3},label:{type:"Label",id:4},type:{type:"Type",id:5},typeName:{type:"string",id:6},extendee:{type:"string",id:2},defaultValue:{type:"string",id:7},oneofIndex:{type:"int32",id:9},jsonName:{type:"string",id:10},options:{type:"FieldOptions",id:8}},nested:{Type:{values:{TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Label:{values:{LABEL_OPTIONAL:1,LABEL_REQUIRED:2,LABEL_REPEATED:3}}}},OneofDescriptorProto:{fields:{name:{type:"string",id:1},options:{type:"OneofOptions",id:2}}},EnumDescriptorProto:{fields:{name:{type:"string",id:1},value:{rule:"repeated",type:"EnumValueDescriptorProto",id:2},options:{type:"EnumOptions",id:3},reservedRange:{rule:"repeated",type:"EnumReservedRange",id:4},reservedName:{rule:"repeated",type:"string",id:5}},nested:{EnumReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},EnumValueDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{type:"EnumValueOptions",id:3}}},ServiceDescriptorProto:{fields:{name:{type:"string",id:1},method:{rule:"repeated",type:"MethodDescriptorProto",id:2},options:{type:"ServiceOptions",id:3}}},MethodDescriptorProto:{fields:{name:{type:"string",id:1},inputType:{type:"string",id:2},outputType:{type:"string",id:3},options:{type:"MethodOptions",id:4},clientStreaming:{type:"bool",id:5,options:{default:!1}},serverStreaming:{type:"bool",id:6,options:{default:!1}}}},FileOptions:{fields:{javaPackage:{type:"string",id:1},javaOuterClassname:{type:"string",id:8},javaMultipleFiles:{type:"bool",id:10,options:{default:!1}},javaGenerateEqualsAndHash:{type:"bool",id:20,options:{deprecated:!0}},javaStringCheckUtf8:{type:"bool",id:27,options:{default:!1}},optimizeFor:{type:"OptimizeMode",id:9,options:{default:"SPEED"}},goPackage:{type:"string",id:11},ccGenericServices:{type:"bool",id:16,options:{default:!1}},javaGenericServices:{type:"bool",id:17,options:{default:!1}},pyGenericServices:{type:"bool",id:18,options:{default:!1}},phpGenericServices:{type:"bool",id:42,options:{default:!1}},deprecated:{type:"bool",id:23,options:{default:!1}},ccEnableArenas:{type:"bool",id:31,options:{default:!1}},objcClassPrefix:{type:"string",id:36},csharpNamespace:{type:"string",id:37},swiftPrefix:{type:"string",id:39},phpClassPrefix:{type:"string",id:40},phpNamespace:{type:"string",id:41},phpMetadataNamespace:{type:"string",id:44},rubyPackage:{type:"string",id:45},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,0x1fffffff]],reserved:[[38,38]],nested:{OptimizeMode:{values:{SPEED:1,CODE_SIZE:2,LITE_RUNTIME:3}}}},MessageOptions:{fields:{messageSetWireFormat:{type:"bool",id:1,options:{default:!1}},noStandardDescriptorAccessor:{type:"bool",id:2,options:{default:!1}},deprecated:{type:"bool",id:3,options:{default:!1}},mapEntry:{type:"bool",id:7},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,0x1fffffff]],reserved:[[8,8],[9,9]]},FieldOptions:{fields:{ctype:{type:"CType",id:1,options:{default:"STRING"}},packed:{type:"bool",id:2},jstype:{type:"JSType",id:6,options:{default:"JS_NORMAL"}},lazy:{type:"bool",id:5,options:{default:!1}},deprecated:{type:"bool",id:3,options:{default:!1}},weak:{type:"bool",id:10,options:{default:!1}},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,0x1fffffff]],reserved:[[4,4]],nested:{CType:{values:{STRING:0,CORD:1,STRING_PIECE:2}},JSType:{values:{JS_NORMAL:0,JS_STRING:1,JS_NUMBER:2}}}},OneofOptions:{fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,0x1fffffff]]},EnumOptions:{fields:{allowAlias:{type:"bool",id:2},deprecated:{type:"bool",id:3,options:{default:!1}},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,0x1fffffff]],reserved:[[5,5]]},EnumValueOptions:{fields:{deprecated:{type:"bool",id:1,options:{default:!1}},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,0x1fffffff]]},ServiceOptions:{fields:{deprecated:{type:"bool",id:33,options:{default:!1}},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,0x1fffffff]]},MethodOptions:{fields:{deprecated:{type:"bool",id:33,options:{default:!1}},idempotencyLevel:{type:"IdempotencyLevel",id:34,options:{default:"IDEMPOTENCY_UNKNOWN"}},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,0x1fffffff]],nested:{IdempotencyLevel:{values:{IDEMPOTENCY_UNKNOWN:0,NO_SIDE_EFFECTS:1,IDEMPOTENT:2}}}},UninterpretedOption:{fields:{name:{rule:"repeated",type:"NamePart",id:2},identifierValue:{type:"string",id:3},positiveIntValue:{type:"uint64",id:4},negativeIntValue:{type:"int64",id:5},doubleValue:{type:"double",id:6},stringValue:{type:"bytes",id:7},aggregateValue:{type:"string",id:8}},nested:{NamePart:{fields:{namePart:{rule:"required",type:"string",id:1},isExtension:{rule:"required",type:"bool",id:2}}}}},SourceCodeInfo:{fields:{location:{rule:"repeated",type:"Location",id:1}},nested:{Location:{fields:{path:{rule:"repeated",type:"int32",id:1},span:{rule:"repeated",type:"int32",id:2},leadingComments:{type:"string",id:3},trailingComments:{type:"string",id:4},leadingDetachedComments:{rule:"repeated",type:"string",id:6}}}}},GeneratedCodeInfo:{fields:{annotation:{rule:"repeated",type:"Annotation",id:1}},nested:{Annotation:{fields:{path:{rule:"repeated",type:"int32",id:1},sourceFile:{type:"string",id:2},begin:{type:"int32",id:3},end:{type:"int32",id:4}}}}},DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}},Empty:{fields:{}},Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}},Duration:{fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}},firestore:{nested:{v1:{options:{csharp_namespace:"Google.Cloud.Firestore.V1",go_package:"cloud.google.com/go/firestore/apiv1/firestorepb;firestorepb",java_multiple_files:!0,java_outer_classname:"QueryProfileProto",java_package:"com.google.firestore.v1",objc_class_prefix:"GCFS",php_namespace:"Google\\Cloud\\Firestore\\V1",ruby_package:"Google::Cloud::Firestore::V1"},nested:{AggregationResult:{fields:{aggregateFields:{keyType:"string",type:"Value",id:2}}},Document:{fields:{name:{type:"string",id:1},fields:{keyType:"string",type:"Value",id:2},createTime:{type:"google.protobuf.Timestamp",id:3},updateTime:{type:"google.protobuf.Timestamp",id:4}}},Value:{oneofs:{valueType:{oneof:["nullValue","booleanValue","integerValue","doubleValue","timestampValue","stringValue","bytesValue","referenceValue","geoPointValue","arrayValue","mapValue","fieldReferenceValue","functionValue","pipelineValue"]}},fields:{nullValue:{type:"google.protobuf.NullValue",id:11},booleanValue:{type:"bool",id:1},integerValue:{type:"int64",id:2},doubleValue:{type:"double",id:3},timestampValue:{type:"google.protobuf.Timestamp",id:10},stringValue:{type:"string",id:17},bytesValue:{type:"bytes",id:18},referenceValue:{type:"string",id:5},geoPointValue:{type:"google.type.LatLng",id:8},arrayValue:{type:"ArrayValue",id:9},mapValue:{type:"MapValue",id:6},fieldReferenceValue:{type:"string",id:19},functionValue:{type:"Function",id:20},pipelineValue:{type:"Pipeline",id:21}}},ArrayValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}},MapValue:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Function:{fields:{name:{type:"string",id:1},args:{rule:"repeated",type:"Value",id:2},options:{keyType:"string",type:"Value",id:3}}},Pipeline:{fields:{stages:{rule:"repeated",type:"Stage",id:1}},nested:{Stage:{fields:{name:{type:"string",id:1},args:{rule:"repeated",type:"Value",id:2},options:{keyType:"string",type:"Value",id:3}}}}},BitSequence:{fields:{bitmap:{type:"bytes",id:1},padding:{type:"int32",id:2}}},BloomFilter:{fields:{bits:{type:"BitSequence",id:1},hashCount:{type:"int32",id:2}}},DocumentMask:{fields:{fieldPaths:{rule:"repeated",type:"string",id:1}}},Precondition:{oneofs:{conditionType:{oneof:["exists","updateTime"]}},fields:{exists:{type:"bool",id:1},updateTime:{type:"google.protobuf.Timestamp",id:2}}},TransactionOptions:{oneofs:{mode:{oneof:["readOnly","readWrite"]}},fields:{readOnly:{type:"ReadOnly",id:2},readWrite:{type:"ReadWrite",id:3}},nested:{ReadWrite:{fields:{retryTransaction:{type:"bytes",id:1}}},ReadOnly:{oneofs:{consistencySelector:{oneof:["readTime"]}},fields:{readTime:{type:"google.protobuf.Timestamp",id:2}}}}},Firestore:{options:{"(google.api.default_host)":"firestore.googleapis.com","(google.api.oauth_scopes)":"https://www.googleapis.com/auth/cloud-platform,https://www.googleapis.com/auth/datastore"},methods:{GetDocument:{requestType:"GetDocumentRequest",responseType:"Document",options:{"(google.api.http).get":"/v1/{name=projects/*/databases/*/documents/*/**}"},parsedOptions:[{"(google.api.http)":{get:"/v1/{name=projects/*/databases/*/documents/*/**}"}}]},ListDocuments:{requestType:"ListDocumentsRequest",responseType:"ListDocumentsResponse",options:{"(google.api.http).get":"/v1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}"},parsedOptions:[{"(google.api.http)":{get:"/v1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}"}}]},UpdateDocument:{requestType:"UpdateDocumentRequest",responseType:"Document",options:{"(google.api.http).patch":"/v1/{document.name=projects/*/databases/*/documents/*/**}","(google.api.http).body":"document","(google.api.method_signature)":"document,update_mask"},parsedOptions:[{"(google.api.http)":{patch:"/v1/{document.name=projects/*/databases/*/documents/*/**}",body:"document"}},{"(google.api.method_signature)":"document,update_mask"}]},DeleteDocument:{requestType:"DeleteDocumentRequest",responseType:"google.protobuf.Empty",options:{"(google.api.http).delete":"/v1/{name=projects/*/databases/*/documents/*/**}","(google.api.method_signature)":"name"},parsedOptions:[{"(google.api.http)":{delete:"/v1/{name=projects/*/databases/*/documents/*/**}"}},{"(google.api.method_signature)":"name"}]},BatchGetDocuments:{requestType:"BatchGetDocumentsRequest",responseType:"BatchGetDocumentsResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:batchGet","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:batchGet",body:"*"}}]},BeginTransaction:{requestType:"BeginTransactionRequest",responseType:"BeginTransactionResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:beginTransaction","(google.api.http).body":"*","(google.api.method_signature)":"database"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:beginTransaction",body:"*"}},{"(google.api.method_signature)":"database"}]},Commit:{requestType:"CommitRequest",responseType:"CommitResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:commit","(google.api.http).body":"*","(google.api.method_signature)":"database,writes"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:commit",body:"*"}},{"(google.api.method_signature)":"database,writes"}]},Rollback:{requestType:"RollbackRequest",responseType:"google.protobuf.Empty",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:rollback","(google.api.http).body":"*","(google.api.method_signature)":"database,transaction"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:rollback",body:"*"}},{"(google.api.method_signature)":"database,transaction"}]},RunQuery:{requestType:"RunQueryRequest",responseType:"RunQueryResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:runQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:runQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:runQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:runQuery",body:"*"}}}]},ExecutePipeline:{requestType:"ExecutePipelineRequest",responseType:"ExecutePipelineResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:executePipeline","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:executePipeline",body:"*"}}]},RunAggregationQuery:{requestType:"RunAggregationQueryRequest",responseType:"RunAggregationQueryResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:runAggregationQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:runAggregationQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:runAggregationQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:runAggregationQuery",body:"*"}}}]},PartitionQuery:{requestType:"PartitionQueryRequest",responseType:"PartitionQueryResponse",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:partitionQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:partitionQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery",body:"*"}}}]},Write:{requestType:"WriteRequest",requestStream:!0,responseType:"WriteResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:write","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:write",body:"*"}}]},Listen:{requestType:"ListenRequest",requestStream:!0,responseType:"ListenResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:listen","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:listen",body:"*"}}]},ListCollectionIds:{requestType:"ListCollectionIdsRequest",responseType:"ListCollectionIdsResponse",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:listCollectionIds","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds","(google.api.http).additional_bindings.body":"*","(google.api.method_signature)":"parent"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:listCollectionIds",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds",body:"*"}}},{"(google.api.method_signature)":"parent"}]},BatchWrite:{requestType:"BatchWriteRequest",responseType:"BatchWriteResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:batchWrite","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:batchWrite",body:"*"}}]},CreateDocument:{requestType:"CreateDocumentRequest",responseType:"Document",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents/**}/{collection_id}","(google.api.http).body":"document"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents/**}/{collection_id}",body:"document"}}]}}},GetDocumentRequest:{oneofs:{consistencySelector:{oneof:["transaction","readTime"]}},fields:{name:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},mask:{type:"DocumentMask",id:2},transaction:{type:"bytes",id:3},readTime:{type:"google.protobuf.Timestamp",id:5}}},ListDocumentsRequest:{oneofs:{consistencySelector:{oneof:["transaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},collectionId:{type:"string",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}},pageSize:{type:"int32",id:3},pageToken:{type:"string",id:4},orderBy:{type:"string",id:6},mask:{type:"DocumentMask",id:7},transaction:{type:"bytes",id:8},readTime:{type:"google.protobuf.Timestamp",id:10},showMissing:{type:"bool",id:12}}},ListDocumentsResponse:{fields:{documents:{rule:"repeated",type:"Document",id:1},nextPageToken:{type:"string",id:2}}},CreateDocumentRequest:{fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},collectionId:{type:"string",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}},documentId:{type:"string",id:3},document:{type:"Document",id:4,options:{"(google.api.field_behavior)":"REQUIRED"}},mask:{type:"DocumentMask",id:5}}},UpdateDocumentRequest:{fields:{document:{type:"Document",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},updateMask:{type:"DocumentMask",id:2},mask:{type:"DocumentMask",id:3},currentDocument:{type:"Precondition",id:4}}},DeleteDocumentRequest:{fields:{name:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},currentDocument:{type:"Precondition",id:2}}},BatchGetDocumentsRequest:{oneofs:{consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},documents:{rule:"repeated",type:"string",id:2},mask:{type:"DocumentMask",id:3},transaction:{type:"bytes",id:4},newTransaction:{type:"TransactionOptions",id:5},readTime:{type:"google.protobuf.Timestamp",id:7}}},BatchGetDocumentsResponse:{oneofs:{result:{oneof:["found","missing"]}},fields:{found:{type:"Document",id:1},missing:{type:"string",id:2},transaction:{type:"bytes",id:3},readTime:{type:"google.protobuf.Timestamp",id:4}}},BeginTransactionRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},options:{type:"TransactionOptions",id:2}}},BeginTransactionResponse:{fields:{transaction:{type:"bytes",id:1}}},CommitRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},writes:{rule:"repeated",type:"Write",id:2},transaction:{type:"bytes",id:3}}},CommitResponse:{fields:{writeResults:{rule:"repeated",type:"WriteResult",id:1},commitTime:{type:"google.protobuf.Timestamp",id:2}}},RollbackRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},transaction:{type:"bytes",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}}}},RunQueryRequest:{oneofs:{queryType:{oneof:["structuredQuery"]},consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredQuery:{type:"StructuredQuery",id:2},transaction:{type:"bytes",id:5},newTransaction:{type:"TransactionOptions",id:6},readTime:{type:"google.protobuf.Timestamp",id:7}}},RunQueryResponse:{fields:{transaction:{type:"bytes",id:2},document:{type:"Document",id:1},readTime:{type:"google.protobuf.Timestamp",id:3},skippedResults:{type:"int32",id:4}}},ExecutePipelineRequest:{oneofs:{pipelineType:{oneof:["structuredPipeline"]},consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredPipeline:{type:"StructuredPipeline",id:2},transaction:{type:"bytes",id:5},newTransaction:{type:"TransactionOptions",id:6},readTime:{type:"google.protobuf.Timestamp",id:7}}},ExecutePipelineResponse:{fields:{transaction:{type:"bytes",id:1},results:{rule:"repeated",type:"Document",id:2},executionTime:{type:"google.protobuf.Timestamp",id:3}}},RunAggregationQueryRequest:{oneofs:{queryType:{oneof:["structuredAggregationQuery"]},consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredAggregationQuery:{type:"StructuredAggregationQuery",id:2},transaction:{type:"bytes",id:4},newTransaction:{type:"TransactionOptions",id:5},readTime:{type:"google.protobuf.Timestamp",id:6}}},RunAggregationQueryResponse:{fields:{result:{type:"AggregationResult",id:1},transaction:{type:"bytes",id:2},readTime:{type:"google.protobuf.Timestamp",id:3}}},PartitionQueryRequest:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredQuery:{type:"StructuredQuery",id:2},partitionCount:{type:"int64",id:3},pageToken:{type:"string",id:4},pageSize:{type:"int32",id:5}}},PartitionQueryResponse:{fields:{partitions:{rule:"repeated",type:"Cursor",id:1},nextPageToken:{type:"string",id:2}}},WriteRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},streamId:{type:"string",id:2},writes:{rule:"repeated",type:"Write",id:3},streamToken:{type:"bytes",id:4},labels:{keyType:"string",type:"string",id:5}}},WriteResponse:{fields:{streamId:{type:"string",id:1},streamToken:{type:"bytes",id:2},writeResults:{rule:"repeated",type:"WriteResult",id:3},commitTime:{type:"google.protobuf.Timestamp",id:4}}},ListenRequest:{oneofs:{targetChange:{oneof:["addTarget","removeTarget"]}},fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},addTarget:{type:"Target",id:2},removeTarget:{type:"int32",id:3},labels:{keyType:"string",type:"string",id:4}}},ListenResponse:{oneofs:{responseType:{oneof:["targetChange","documentChange","documentDelete","documentRemove","filter"]}},fields:{targetChange:{type:"TargetChange",id:2},documentChange:{type:"DocumentChange",id:3},documentDelete:{type:"DocumentDelete",id:4},documentRemove:{type:"DocumentRemove",id:6},filter:{type:"ExistenceFilter",id:5}}},Target:{oneofs:{targetType:{oneof:["query","documents"]},resumeType:{oneof:["resumeToken","readTime"]}},fields:{query:{type:"QueryTarget",id:2},documents:{type:"DocumentsTarget",id:3},resumeToken:{type:"bytes",id:4},readTime:{type:"google.protobuf.Timestamp",id:11},targetId:{type:"int32",id:5},once:{type:"bool",id:6},expectedCount:{type:"google.protobuf.Int32Value",id:12}},nested:{DocumentsTarget:{fields:{documents:{rule:"repeated",type:"string",id:2}}},QueryTarget:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{parent:{type:"string",id:1},structuredQuery:{type:"StructuredQuery",id:2}}}}},TargetChange:{fields:{targetChangeType:{type:"TargetChangeType",id:1},targetIds:{rule:"repeated",type:"int32",id:2},cause:{type:"google.rpc.Status",id:3},resumeToken:{type:"bytes",id:4},readTime:{type:"google.protobuf.Timestamp",id:6}},nested:{TargetChangeType:{values:{NO_CHANGE:0,ADD:1,REMOVE:2,CURRENT:3,RESET:4}}}},ListCollectionIdsRequest:{fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},pageSize:{type:"int32",id:2},pageToken:{type:"string",id:3}}},ListCollectionIdsResponse:{fields:{collectionIds:{rule:"repeated",type:"string",id:1},nextPageToken:{type:"string",id:2}}},BatchWriteRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},writes:{rule:"repeated",type:"Write",id:2},labels:{keyType:"string",type:"string",id:3}}},BatchWriteResponse:{fields:{writeResults:{rule:"repeated",type:"WriteResult",id:1},status:{rule:"repeated",type:"google.rpc.Status",id:2}}},StructuredPipeline:{fields:{pipeline:{type:"Pipeline",id:1},options:{keyType:"string",type:"Value",id:2}}},StructuredQuery:{fields:{select:{type:"Projection",id:1},from:{rule:"repeated",type:"CollectionSelector",id:2},where:{type:"Filter",id:3},orderBy:{rule:"repeated",type:"Order",id:4},startAt:{type:"Cursor",id:7},endAt:{type:"Cursor",id:8},offset:{type:"int32",id:6},limit:{type:"google.protobuf.Int32Value",id:5}},nested:{CollectionSelector:{fields:{collectionId:{type:"string",id:2},allDescendants:{type:"bool",id:3}}},Filter:{oneofs:{filterType:{oneof:["compositeFilter","fieldFilter","unaryFilter"]}},fields:{compositeFilter:{type:"CompositeFilter",id:1},fieldFilter:{type:"FieldFilter",id:2},unaryFilter:{type:"UnaryFilter",id:3}}},CompositeFilter:{fields:{op:{type:"Operator",id:1},filters:{rule:"repeated",type:"Filter",id:2}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,AND:1,OR:2}}}},FieldFilter:{fields:{field:{type:"FieldReference",id:1},op:{type:"Operator",id:2},value:{type:"Value",id:3}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,LESS_THAN:1,LESS_THAN_OR_EQUAL:2,GREATER_THAN:3,GREATER_THAN_OR_EQUAL:4,EQUAL:5,NOT_EQUAL:6,ARRAY_CONTAINS:7,IN:8,ARRAY_CONTAINS_ANY:9,NOT_IN:10}}}},UnaryFilter:{oneofs:{operandType:{oneof:["field"]}},fields:{op:{type:"Operator",id:1},field:{type:"FieldReference",id:2}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,IS_NAN:2,IS_NULL:3,IS_NOT_NAN:4,IS_NOT_NULL:5}}}},Order:{fields:{field:{type:"FieldReference",id:1},direction:{type:"Direction",id:2}}},FieldReference:{fields:{fieldPath:{type:"string",id:2}}},Projection:{fields:{fields:{rule:"repeated",type:"FieldReference",id:2}}},Direction:{values:{DIRECTION_UNSPECIFIED:0,ASCENDING:1,DESCENDING:2}}}},StructuredAggregationQuery:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{structuredQuery:{type:"StructuredQuery",id:1},aggregations:{rule:"repeated",type:"Aggregation",id:3}},nested:{Aggregation:{oneofs:{operator:{oneof:["count","sum","avg"]}},fields:{count:{type:"Count",id:1},sum:{type:"Sum",id:2},avg:{type:"Avg",id:3},alias:{type:"string",id:7}},nested:{Count:{fields:{upTo:{type:"google.protobuf.Int64Value",id:1}}},Sum:{fields:{field:{type:"StructuredQuery.FieldReference",id:1}}},Avg:{fields:{field:{type:"StructuredQuery.FieldReference",id:1}}}}}}},Cursor:{fields:{values:{rule:"repeated",type:"Value",id:1},before:{type:"bool",id:2}}},Write:{oneofs:{operation:{oneof:["update","delete","verify","transform"]}},fields:{update:{type:"Document",id:1},delete:{type:"string",id:2},verify:{type:"string",id:5},transform:{type:"DocumentTransform",id:6},updateMask:{type:"DocumentMask",id:3},updateTransforms:{rule:"repeated",type:"DocumentTransform.FieldTransform",id:7},currentDocument:{type:"Precondition",id:4}}},DocumentTransform:{fields:{document:{type:"string",id:1},fieldTransforms:{rule:"repeated",type:"FieldTransform",id:2}},nested:{FieldTransform:{oneofs:{transformType:{oneof:["setToServerValue","increment","maximum","minimum","appendMissingElements","removeAllFromArray"]}},fields:{fieldPath:{type:"string",id:1},setToServerValue:{type:"ServerValue",id:2},increment:{type:"Value",id:3},maximum:{type:"Value",id:4},minimum:{type:"Value",id:5},appendMissingElements:{type:"ArrayValue",id:6},removeAllFromArray:{type:"ArrayValue",id:7}},nested:{ServerValue:{values:{SERVER_VALUE_UNSPECIFIED:0,REQUEST_TIME:1}}}}}},WriteResult:{fields:{updateTime:{type:"google.protobuf.Timestamp",id:1},transformResults:{rule:"repeated",type:"Value",id:2}}},DocumentChange:{fields:{document:{type:"Document",id:1},targetIds:{rule:"repeated",type:"int32",id:5},removedTargetIds:{rule:"repeated",type:"int32",id:6}}},DocumentDelete:{fields:{document:{type:"string",id:1},removedTargetIds:{rule:"repeated",type:"int32",id:6},readTime:{type:"google.protobuf.Timestamp",id:4}}},DocumentRemove:{fields:{document:{type:"string",id:1},removedTargetIds:{rule:"repeated",type:"int32",id:2},readTime:{type:"google.protobuf.Timestamp",id:4}}},ExistenceFilter:{fields:{targetId:{type:"int32",id:1},count:{type:"int32",id:2},unchangedNames:{type:"BloomFilter",id:3}}},ExplainOptions:{fields:{analyze:{type:"bool",id:1,options:{"(google.api.field_behavior)":"OPTIONAL"}}}},ExplainMetrics:{fields:{planSummary:{type:"PlanSummary",id:1},executionStats:{type:"ExecutionStats",id:2}}},PlanSummary:{fields:{indexesUsed:{rule:"repeated",type:"google.protobuf.Struct",id:1}}},ExecutionStats:{fields:{resultsReturned:{type:"int64",id:1},executionDuration:{type:"google.protobuf.Duration",id:3},readOperations:{type:"int64",id:4},debugStats:{type:"google.protobuf.Struct",id:5}}}}}}},type:{options:{cc_enable_arenas:!0,go_package:"google.golang.org/genproto/googleapis/type/latlng;latlng",java_multiple_files:!0,java_outer_classname:"LatLngProto",java_package:"com.google.type",objc_class_prefix:"GTP"},nested:{LatLng:{fields:{latitude:{type:"double",id:1},longitude:{type:"double",id:2}}}}},api:{options:{go_package:"google.golang.org/genproto/googleapis/api;api",java_multiple_files:!0,java_outer_classname:"LaunchStageProto",java_package:"com.google.api",objc_class_prefix:"GAPI",cc_enable_arenas:!0},nested:{http:{type:"HttpRule",id:0x44f2530,extend:"google.protobuf.MethodOptions"},Http:{fields:{rules:{rule:"repeated",type:"HttpRule",id:1},fullyDecodeReservedExpansion:{type:"bool",id:2}}},HttpRule:{oneofs:{pattern:{oneof:["get","put","post","delete","patch","custom"]}},fields:{selector:{type:"string",id:1},get:{type:"string",id:2},put:{type:"string",id:3},post:{type:"string",id:4},delete:{type:"string",id:5},patch:{type:"string",id:6},custom:{type:"CustomHttpPattern",id:8},body:{type:"string",id:7},responseBody:{type:"string",id:12},additionalBindings:{rule:"repeated",type:"HttpRule",id:11}}},CustomHttpPattern:{fields:{kind:{type:"string",id:1},path:{type:"string",id:2}}},methodSignature:{rule:"repeated",type:"string",id:1051,extend:"google.protobuf.MethodOptions"},defaultHost:{type:"string",id:1049,extend:"google.protobuf.ServiceOptions"},oauthScopes:{type:"string",id:1050,extend:"google.protobuf.ServiceOptions"},fieldBehavior:{rule:"repeated",type:"google.api.FieldBehavior",id:1052,extend:"google.protobuf.FieldOptions"},FieldBehavior:{values:{FIELD_BEHAVIOR_UNSPECIFIED:0,OPTIONAL:1,REQUIRED:2,OUTPUT_ONLY:3,INPUT_ONLY:4,IMMUTABLE:5,UNORDERED_LIST:6,NON_EMPTY_DEFAULT:7}},LaunchStage:{values:{LAUNCH_STAGE_UNSPECIFIED:0,UNIMPLEMENTED:6,PRELAUNCH:7,EARLY_ACCESS:1,ALPHA:2,BETA:3,GA:4,DEPRECATED:5}}}},rpc:{options:{cc_enable_arenas:!0,go_package:"google.golang.org/genproto/googleapis/rpc/status;status",java_multiple_files:!0,java_outer_classname:"StatusProto",java_package:"com.google.rpc",objc_class_prefix:"RPC"},nested:{Status:{fields:{code:{type:"int32",id:1},message:{type:"string",id:2},details:{rule:"repeated",type:"google.protobuf.Any",id:3}}}}}}}};var nL={nested:nK},nM=Object.freeze({__proto__:null,nested:nK,default:nL});let nN={longs:String,enums:String,defaults:!0,oneofs:!1};function nO(){let a=br.fromJSON(nM,nN);return bq.loadPackageDefinition(a)}function nP(a){return new nJ(nO(),a)}function nQ(){return new nz}function nR(){return"YES"===process.env.USE_MOCK_PERSISTENCE?window:null}function nS(){return null}function nT(a){return new it(a,!1)}let nU="ExponentialBackoff",nV=1e3,nW=1.5,nX=6e4;class nY{constructor(a,b,c=nV,d=nW,e=nX){this.queue=a,this.timerId=b,this.initialDelayMs=c,this.backoffFactor=d,this.maxDelayMs=e,this.currentBaseMs=0,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}reset(){this.currentBaseMs=0}resetToMax(){this.currentBaseMs=this.maxDelayMs}backoffAndRun(a){this.cancel();let b=Math.floor(this.currentBaseMs+this.jitterDelayMs()),c=Math.max(0,Date.now()-this.lastAttemptTime),d=Math.max(0,b-c);d>0&&by(nU,`Backing off for ${d} ms (base delay: ${this.currentBaseMs} ms, delay with jitter: ${b} ms, last attempt: ${c} ms ago)`),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,d,()=>(this.lastAttemptTime=Date.now(),a())),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)}skipBackoff(){null!==this.timerPromise&&(this.timerPromise.skipDelay(),this.timerPromise=null)}cancel(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)}jitterDelayMs(){return(Math.random()-.5)*this.currentBaseMs}}let nZ="PersistentStream",n$=6e4,n_=1e4;class n0{constructor(a,b,c,d,e,f,g,h){this.queue=a,this.idleTimerId=c,this.healthTimerId=d,this.connection=e,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=h,this.state=0,this.closeCount=0,this.idleTimer=null,this.healthCheck=null,this.stream=null,this.responseCount=0,this.backoff=new nY(a,b)}isStarted(){return 1===this.state||5===this.state||this.isOpen()}isOpen(){return 2===this.state||3===this.state}start(){(this.responseCount=0,4===this.state)?this.performBackoff():this.auth()}async stop(){this.isStarted()&&await this.close(0)}inhibitBackoff(){this.state=0,this.backoff.reset()}markIdle(){this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,n$,()=>this.handleIdleCloseTimer()))}sendRequest(a){this.cancelIdleCheck(),this.stream.send(a)}async handleIdleCloseTimer(){if(this.isOpen())return this.close(0)}cancelIdleCheck(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)}cancelHealthCheck(){this.healthCheck&&(this.healthCheck.cancel(),this.healthCheck=null)}async close(a,b){this.cancelIdleCheck(),this.cancelHealthCheck(),this.backoff.cancel(),this.closeCount++,4!==a?this.backoff.reset():b&&b.code===bP?(bz(b.toString()),bz("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):b&&b.code===bO&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=a,await this.listener.onClose(b)}tearDown(){}auth(){this.state=1;let a=this.getCloseGuardedDispatcher(this.closeCount),b=this.closeCount;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,c])=>{this.closeCount===b&&this.startStream(a,c)},b=>{a(()=>{let a=new bX(bI,"Fetching auth token failed: "+b.message);return this.handleStreamClose(a)})})}startStream(a,b){let c=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(a,b),this.stream.onConnected(()=>{c(()=>this.listener.onConnected())}),this.stream.onOpen(()=>{c(()=>(this.state=2,this.healthCheck=this.queue.enqueueAfterDelay(this.healthTimerId,n_,()=>(this.isOpen()&&(this.state=3),Promise.resolve())),this.listener.onOpen()))}),this.stream.onClose(a=>{c(()=>this.handleStreamClose(a))}),this.stream.onMessage(a=>{c(()=>1==++this.responseCount?this.onFirst(a):this.onNext(a))})}performBackoff(){this.state=5,this.backoff.backoffAndRun(async()=>{this.state=0,this.start()})}handleStreamClose(a){return by(nZ,`close with error: ${a}`),this.stream=null,this.close(4,a)}getCloseGuardedDispatcher(a){return b=>{this.queue.enqueueAndForget(()=>this.closeCount===a?b():(by(nZ,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class n1 extends n0{constructor(a,b,c,d,e,f){super(a,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",b,c,d,f),this.serializer=e}startRpc(a,b){return this.connection.openStream("Listen",a,b)}onFirst(a){return this.onNext(a)}onNext(a){this.backoff.reset();let b=iT(this.serializer,a),c=iV(a);return this.listener.onWatchChange(b,c)}watch(a){let b={};b.database=iK(this.serializer),b.addTarget=ja(this.serializer,a);let c=i8(this.serializer,a);c&&(b.labels=c),this.sendRequest(b)}unwatch(a){let b={};b.database=iK(this.serializer),b.removeTarget=a,this.sendRequest(b)}}class n2 extends n0{constructor(a,b,c,d,e,f){super(a,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",b,c,d,f),this.serializer=e}get handshakeComplete(){return this.responseCount>0}start(){this.lastStreamToken=void 0,super.start()}tearDown(){this.handshakeComplete&&this.writeMutations([])}startRpc(a,b){return this.connection.openStream("Write",a,b)}onFirst(a){return bE(!!a.streamToken,31322),this.lastStreamToken=a.streamToken,bE(!a.writeResults||0===a.writeResults.length,55816),this.listener.onHandshakeComplete()}onNext(a){bE(!!a.streamToken,12678),this.lastStreamToken=a.streamToken,this.backoff.reset();let b=i_(a.writeResults,a.commitTime),c=iC(a.commitTime);return this.listener.onMutationResult(c,b)}writeHandshake(){let a={};a.database=iK(this.serializer),this.sendRequest(a)}writeMutations(a){let b={streamToken:this.lastStreamToken,writes:a.map(a=>iW(this.serializer,a))};this.sendRequest(b)}}class n3{}class n4 extends n3{constructor(a,b,c,d){super(),this.authCredentials=a,this.appCheckCredentials=b,this.connection=c,this.serializer=d,this.terminated=!1}verifyInitialized(){if(this.terminated)throw new bX(bQ,"The client has already been terminated.")}invokeRPC(a,b,c,d){return this.verifyInitialized(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([e,f])=>this.connection.invokeRPC(a,iE(b,c),d,e,f)).catch(a=>{if("FirebaseError"===a.name)throw a.code===bO&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a;throw new bX(bI,a.toString())})}invokeStreamingRPC(a,b,c,d,e){return this.verifyInitialized(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,g])=>this.connection.invokeStreamingRPC(a,iE(b,c),d,f,g,e)).catch(a=>{if("FirebaseError"===a.name)throw a.code===bO&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a;throw new bX(bI,a.toString())})}terminate(){this.terminated=!0,this.connection.terminate()}}function n5(a,b,c,d){return new n4(a,b,c,d)}async function n6(a,b){let c=bF(a),d={writes:b.map(a=>iW(c.serializer,a))};await c.invokeRPC("Commit",c.serializer.databaseId,ch.emptyPath(),d)}async function n7(a,b){let c=bF(a),d={documents:b.map(a=>iG(c.serializer,a))},e=await c.invokeStreamingRPC("BatchGetDocuments",c.serializer.databaseId,ch.emptyPath(),d,b.length),f=new Map;e.forEach(a=>{let b=iS(c.serializer,a);f.set(b.key.toString(),b)});let g=[];return b.forEach(a=>{let b=f.get(a.toString());bE(!!b,55234,{key:a}),g.push(b)}),g}async function n8(a,b,c){let d=bF(a),{request:e,aliasMap:f,parent:g}=i5(d.serializer,gL(b),c);d.connection.shouldResourcePathBeIncludedInRequest||delete e.parent;let h=(await d.invokeStreamingRPC("RunAggregationQuery",d.serializer.databaseId,g,e,1)).filter(a=>!!a.result);bE(1===h.length,64727);let i=h[0].result?.aggregateFields;return Object.keys(i).reduce((a,b)=>(a[f[b]]=i[b],a),{})}function n9(a,b,c){let d=bF(a);return d.verifyInitialized(),new n2(b,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,c)}function oa(a,b,c){let d=bF(a);return d.verifyInitialized(),new n1(b,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,c)}let ob="OnlineStateTracker",oc=1,od=1e4;class oe{constructor(a,b){this.asyncQueue=a,this.onlineStateHandler=b,this.state="Unknown",this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}handleWatchStreamStart(){0===this.watchStreamFailures&&(this.setAndBroadcast("Unknown"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay("online_state_timeout",od,()=>(this.onlineStateTimer=null,this.logClientOfflineWarningIfNecessary(`Backend didn't respond within ${od/1e3} seconds.`),this.setAndBroadcast("Offline"),Promise.resolve())))}handleWatchStreamFailure(a){"Online"===this.state?this.setAndBroadcast("Unknown"):(this.watchStreamFailures++,this.watchStreamFailures>=oc&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary(`Connection failed ${oc} times. Most recent error: ${a.toString()}`),this.setAndBroadcast("Offline")))}set(a){this.clearOnlineStateTimer(),this.watchStreamFailures=0,"Online"===a&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(a)}setAndBroadcast(a){a!==this.state&&(this.state=a,this.onlineStateHandler(a))}logClientOfflineWarningIfNecessary(a){let b=`Could not reach Cloud Firestore backend. ${a}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.shouldWarnClientIsOffline?(bz(b),this.shouldWarnClientIsOffline=!1):by(ob,b)}clearOnlineStateTimer(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)}}let of="RemoteStore",og=10;class oh{constructor(a,b,c,d,e){this.localStore=a,this.datastore=b,this.asyncQueue=c,this.remoteSyncer={},this.writePipeline=[],this.listenTargets=new Map,this.offlineCauses=new Set,this.onNetworkStatusChange=[],this.connectivityMonitor=e,this.connectivityMonitor.addCallback(a=>{c.enqueueAndForget(async()=>{os(this)&&(by(of,"Restarting streams for network reachability change."),await oM(this))})}),this.onlineStateTracker=new oe(c,d)}}function oi(a,b,c,d,e){return new oh(a,b,c,d,e)}async function oj(a){if(os(a))for(let b of a.onNetworkStatusChange)await b(!0)}async function ok(a){for(let b of a.onNetworkStatusChange)await b(!1)}async function ol(a){let b=bF(a);by(of,"RemoteStore shutting down."),b.offlineCauses.add(5),await ok(b),b.connectivityMonitor.shutdown(),b.onlineStateTracker.set("Unknown")}function om(a,b){let c=bF(a);!c.listenTargets.has(b.targetId)&&(c.listenTargets.set(b.targetId,b),or(c)?oq(c):oP(c).isOpen()&&oo(c,b))}function on(a,b){let c=bF(a),d=oP(c);c.listenTargets.delete(b),d.isOpen()&&op(c,b),0===c.listenTargets.size&&(d.isOpen()?d.markIdle():os(c)&&c.onlineStateTracker.set("Unknown"))}function oo(a,b){if(a.watchChangeAggregator.recordPendingTargetRequest(b.targetId),b.resumeToken.approximateByteSize()>0||b.snapshotVersion.compareTo(cz.min())>0){let c=a.remoteSyncer.getRemoteKeysForTarget(b.targetId).size;b=b.withExpectedCount(c)}oP(a).watch(b)}function op(a,b){a.watchChangeAggregator.recordPendingTargetRequest(b),oP(a).unwatch(b)}function oq(a){a.watchChangeAggregator=new ik({getRemoteKeysForTarget:b=>a.remoteSyncer.getRemoteKeysForTarget(b),getTargetDataForTarget:b=>a.listenTargets.get(b)||null,getDatabaseId:()=>a.datastore.serializer.databaseId}),oP(a).start(),a.onlineStateTracker.handleWatchStreamStart()}function or(a){return os(a)&&!oP(a).isStarted()&&a.listenTargets.size>0}function os(a){return 0===bF(a).offlineCauses.size}function ot(a){a.watchChangeAggregator=void 0}async function ou(a){a.onlineStateTracker.set("Online")}async function ov(a){a.listenTargets.forEach((b,c)=>{oo(a,b)})}async function ow(a,b){ot(a),or(a)?(a.onlineStateTracker.handleWatchStreamFailure(b),oq(a)):a.onlineStateTracker.set("Unknown")}async function ox(a,b,c){if(a.onlineStateTracker.set("Online"),b instanceof ih&&2===b.state&&b.cause){try{await oB(a,b)}catch(c){by(of,"Failed to remove targets %s: %s ",b.targetIds.join(","),c),await oy(a,c)}return}if(b instanceof ie?a.watchChangeAggregator.handleDocumentChange(b):b instanceof ig?a.watchChangeAggregator.handleExistenceFilter(b):a.watchChangeAggregator.handleTargetChange(b),!c.isEqual(cz.min()))try{let b=await mL(a.localStore);c.compareTo(b)>=0&&await oA(a,c)}catch(b){by(of,"Failed to raise snapshot:",b),await oy(a,b)}}async function oy(a,b,c){if(c$(b))a.offlineCauses.add(1),await ok(a),a.onlineStateTracker.set("Offline"),c||(c=()=>mL(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{by(of,"Retrying IndexedDB access"),await c(),a.offlineCauses.delete(1),await oj(a)});else throw b}function oz(a,b){return b().catch(c=>oy(a,c,b))}function oA(a,b){let c=a.watchChangeAggregator.createRemoteEvent(b);return c.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){let e=a.listenTargets.get(d);e&&a.listenTargets.set(d,e.withResumeToken(c.resumeToken,b))}}),c.targetMismatches.forEach((b,c)=>{let d=a.listenTargets.get(b);d&&(a.listenTargets.set(b,d.withResumeToken(eF.EMPTY_BYTE_STRING,d.snapshotVersion)),op(a,b),oo(a,new jE(d.target,b,c,d.sequenceNumber)))}),a.remoteSyncer.applyRemoteEvent(c)}async function oB(a,b){let c=b.cause;for(let d of b.targetIds)a.listenTargets.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.listenTargets.delete(d),a.watchChangeAggregator.removeTarget(d))}async function oC(a){let b=bF(a),c=oQ(b),d=b.writePipeline.length>0?b.writePipeline[b.writePipeline.length-1].batchId:eY;for(;oD(b);)try{let a=await mQ(b.localStore,d);if(null===a){0===b.writePipeline.length&&c.markIdle();break}d=a.batchId,oE(b,a)}catch(a){await oy(b,a)}oF(b)&&oG(b)}function oD(a){return os(a)&&a.writePipeline.length<og}function oE(a,b){a.writePipeline.push(b);let c=oQ(a);c.isOpen()&&c.handshakeComplete&&c.writeMutations(b.mutations)}function oF(a){return os(a)&&!oQ(a).isStarted()&&a.writePipeline.length>0}function oG(a){oQ(a).start()}async function oH(a){oQ(a).writeHandshake()}async function oI(a){let b=oQ(a);for(let c of a.writePipeline)b.writeMutations(c.mutations)}async function oJ(a,b,c){let d=a.writePipeline.shift(),e=hY.from(d,b,c);await oz(a,()=>a.remoteSyncer.applySuccessfulWrite(e)),await oC(a)}async function oK(a,b){b&&oQ(a).handshakeComplete&&await oL(a,b),oF(a)&&oG(a)}async function oL(a,b){if(h0(b.code)){let c=a.writePipeline.shift();oQ(a).inhibitBackoff(),await oz(a,()=>a.remoteSyncer.rejectFailedWrite(c.batchId,b)),await oC(a)}}async function oM(a){let b=bF(a);b.offlineCauses.add(4),await ok(b),b.onlineStateTracker.set("Unknown"),b.offlineCauses.delete(4),await oj(b)}async function oN(a,b){let c=bF(a);c.asyncQueue.verifyOperationInProgress(),by(of,"RemoteStore received new credentials");let d=os(c);c.offlineCauses.add(3),await ok(c),d&&c.onlineStateTracker.set("Unknown"),await c.remoteSyncer.handleCredentialChange(b),c.offlineCauses.delete(3),await oj(c)}async function oO(a,b){let c=bF(a);b?(c.offlineCauses.delete(2),await oj(c)):b||(c.offlineCauses.add(2),await ok(c),c.onlineStateTracker.set("Unknown"))}function oP(a){return a.watchStream||(a.watchStream=oa(a.datastore,a.asyncQueue,{onConnected:ou.bind(null,a),onOpen:ov.bind(null,a),onClose:ow.bind(null,a),onWatchChange:ox.bind(null,a)}),a.onNetworkStatusChange.push(async b=>{b?(a.watchStream.inhibitBackoff(),or(a)?oq(a):a.onlineStateTracker.set("Unknown")):(await a.watchStream.stop(),ot(a))})),a.watchStream}function oQ(a){return a.writeStream||(a.writeStream=n9(a.datastore,a.asyncQueue,{onConnected:()=>Promise.resolve(),onOpen:oH.bind(null,a),onClose:oK.bind(null,a),onHandshakeComplete:oI.bind(null,a),onMutationResult:oJ.bind(null,a)}),a.onNetworkStatusChange.push(async b=>{b?(a.writeStream.inhibitBackoff(),await oC(a)):(await a.writeStream.stop(),a.writePipeline.length>0&&(by(of,`Stopping write stream with ${a.writePipeline.length} pending writes`),a.writePipeline=[]))})),a.writeStream}let oR="AsyncQueue";class oS{constructor(a,b,c,d,e){this.asyncQueue=a,this.timerId=b,this.targetTimeMs=c,this.op=d,this.removalCallback=e,this.deferred=new bY,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(a,b,c,d,e){let f=new oS(a,b,Date.now()+c,d,e);return f.start(c),f}start(a){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),a)}skipDelay(){return this.handleDelayElapsed()}cancel(a){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new bX(bH,"Operation cancelled"+(a?": "+a:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(a=>this.deferred.resolve(a))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function oT(a,b){if(bz(oR,`${b}: ${a}`),c$(a))return new bX(bV,`${b}: ${a}`);throw a}class oU{static emptySet(a){return new oU(a.comparator)}constructor(a){a?this.comparator=(b,c)=>a(b,c)||ck.comparator(b.key,c.key):this.comparator=(a,b)=>ck.comparator(a.key,b.key),this.keyedMap=g5(),this.sortedSet=new eu(this.comparator)}has(a){return null!=this.keyedMap.get(a)}get(a){return this.keyedMap.get(a)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(a){let b=this.keyedMap.get(a);return b?this.sortedSet.indexOf(b):-1}get size(){return this.sortedSet.size}forEach(a){this.sortedSet.inorderTraversal((b,c)=>(a(b),!1))}add(a){let b=this.delete(a.key);return b.copy(b.keyedMap.insert(a.key,a),b.sortedSet.insert(a,null))}delete(a){let b=this.get(a);return b?this.copy(this.keyedMap.remove(a),this.sortedSet.remove(b)):this}isEqual(a){if(!(a instanceof oU)||this.size!==a.size)return!1;let b=this.sortedSet.getIterator(),c=a.sortedSet.getIterator();for(;b.hasNext();){let a=b.getNext().key,d=c.getNext().key;if(!a.isEqual(d))return!1}return!0}toString(){let a=[];return(this.forEach(b=>{a.push(b.toString())}),0===a.length)?"DocumentSet ()":"DocumentSet (\n  "+a.join("  \n")+"\n)"}copy(a,b){let c=new oU;return c.comparator=this.comparator,c.keyedMap=a,c.sortedSet=b,c}}class oV{constructor(){this.changeMap=new eu(ck.comparator)}track(a){let b=a.doc.key,c=this.changeMap.get(b);if(!c){this.changeMap=this.changeMap.insert(b,a);return}0!==a.type&&3===c.type?this.changeMap=this.changeMap.insert(b,a):3===a.type&&1!==c.type?this.changeMap=this.changeMap.insert(b,{type:c.type,doc:a.doc}):2===a.type&&2===c.type?this.changeMap=this.changeMap.insert(b,{type:2,doc:a.doc}):2===a.type&&0===c.type?this.changeMap=this.changeMap.insert(b,{type:0,doc:a.doc}):1===a.type&&0===c.type?this.changeMap=this.changeMap.remove(b):1===a.type&&2===c.type?this.changeMap=this.changeMap.insert(b,{type:1,doc:c.doc}):0===a.type&&1===c.type?this.changeMap=this.changeMap.insert(b,{type:2,doc:a.doc}):bC(63341,{change:a,oldChange:c})}getChanges(){let a=[];return this.changeMap.inorderTraversal((b,c)=>{a.push(c)}),a}}class oW{constructor(a,b,c,d,e,f,g,h,i){this.query=a,this.docs=b,this.oldDocs=c,this.docChanges=d,this.mutatedKeys=e,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=h,this.hasCachedResults=i}static fromInitialDocuments(a,b,c,d,e){let f=[];return b.forEach(a=>{f.push({type:0,doc:a})}),new oW(a,b,oU.emptySet(b),f,c,d,!0,!1,e)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(a){if(this.fromCache!==a.fromCache||this.hasCachedResults!==a.hasCachedResults||this.syncStateChanged!==a.syncStateChanged||!this.mutatedKeys.isEqual(a.mutatedKeys)||!gS(this.query,a.query)||!this.docs.isEqual(a.docs)||!this.oldDocs.isEqual(a.oldDocs))return!1;let b=this.docChanges,c=a.docChanges;if(b.length!==c.length)return!1;for(let a=0;a<b.length;a++)if(b[a].type!==c[a].type||!b[a].doc.isEqual(c[a].doc))return!1;return!0}}class oX{constructor(){this.viewSnap=void 0,this.listeners=[]}hasRemoteListeners(){return this.listeners.some(a=>a.listensToRemoteStore())}}function oY(){return new oZ}class oZ{constructor(){this.queries=o$(),this.onlineState="Unknown",this.snapshotsInSyncListeners=new Set}terminate(){o6(this,new bX(bR,"Firestore shutting down"))}}function o$(){return new g1(a=>gT(a),gS)}async function o_(a,b){let c=bF(a),d=3,e=b.query,f=c.queries.get(e);f?!f.hasRemoteListeners()&&b.listensToRemoteStore()&&(d=2):(f=new oX,d=+!b.listensToRemoteStore());try{switch(d){case 0:f.viewSnap=await c.onListen(e,!0);break;case 1:f.viewSnap=await c.onListen(e,!1);break;case 2:await c.onFirstRemoteStoreListen(e)}}catch(c){let a=oT(c,`Initialization of query '${gU(b.query)}' failed`);b.onError(a);return}c.queries.set(e,f),f.listeners.push(b),b.applyOnlineStateChange(c.onlineState),f.viewSnap&&b.onViewSnapshot(f.viewSnap)&&o7(c)}async function o0(a,b){let c=bF(a),d=b.query,e=3,f=c.queries.get(d);if(f){let a=f.listeners.indexOf(b);a>=0&&(f.listeners.splice(a,1),0===f.listeners.length?e=+!b.listensToRemoteStore():!f.hasRemoteListeners()&&b.listensToRemoteStore()&&(e=2))}switch(e){case 0:return c.queries.delete(d),c.onUnlisten(d,!0);case 1:return c.queries.delete(d),c.onUnlisten(d,!1);case 2:return c.onLastRemoteStoreUnlisten(d);default:return}}function o1(a,b){let c=bF(a),d=!1;for(let a of b){let b=a.query,e=c.queries.get(b);if(e){for(let b of e.listeners)b.onViewSnapshot(a)&&(d=!0);e.viewSnap=a}}d&&o7(c)}function o2(a,b,c){let d=bF(a),e=d.queries.get(b);if(e)for(let a of e.listeners)a.onError(c);d.queries.delete(b)}function o3(a,b){let c=bF(a);c.onlineState=b;let d=!1;c.queries.forEach((a,c)=>{for(let a of c.listeners)a.applyOnlineStateChange(b)&&(d=!0)}),d&&o7(c)}function o4(a,b){bF(a).snapshotsInSyncListeners.add(b),b.next()}function o5(a,b){bF(a).snapshotsInSyncListeners.delete(b)}function o6(a,b){let c=bF(a),d=c.queries;c.queries=o$(),d.forEach((a,c)=>{for(let a of c.listeners)a.onError(b)})}function o7(a){a.snapshotsInSyncListeners.forEach(a=>{a.next()})}!function(a){a.Default="default",a.Cache="cache"}(bl||(bl={}));class o8{constructor(a,b,c){this.query=a,this.queryObserver=b,this.raisedInitialEvent=!1,this.snap=null,this.onlineState="Unknown",this.options=c||{}}onViewSnapshot(a){if(!this.options.includeMetadataChanges){let b=[];for(let c of a.docChanges)3!==c.type&&b.push(c);a=new oW(a.query,a.docs,a.oldDocs,b,a.mutatedKeys,a.fromCache,a.syncStateChanged,!0,a.hasCachedResults)}let b=!1;return this.raisedInitialEvent?this.shouldRaiseEvent(a)&&(this.queryObserver.next(a),b=!0):this.shouldRaiseInitialEvent(a,this.onlineState)&&(this.raiseInitialEvent(a),b=!0),this.snap=a,b}onError(a){this.queryObserver.error(a)}applyOnlineStateChange(a){this.onlineState=a;let b=!1;return this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,a)&&(this.raiseInitialEvent(this.snap),b=!0),b}shouldRaiseInitialEvent(a,b){if(!a.fromCache||!this.listensToRemoteStore())return!0;let c="Offline"!==b;return(!this.options.waitForSyncWhenOnline||!c)&&(!a.docs.isEmpty()||a.hasCachedResults||"Offline"===b)}shouldRaiseEvent(a){if(a.docChanges.length>0)return!0;let b=this.snap&&this.snap.hasPendingWrites!==a.hasPendingWrites;return(!!a.syncStateChanged||!!b)&&!0===this.options.includeMetadataChanges}raiseInitialEvent(a){a=oW.fromInitialDocuments(a.query,a.docs,a.mutatedKeys,a.fromCache,a.hasCachedResults),this.raisedInitialEvent=!0,this.queryObserver.next(a)}listensToRemoteStore(){return this.options.source!==bl.Cache}}class o9{constructor(a,b,c,d){this.targetId=a,this.fromCache=b,this.addedKeys=c,this.removedKeys=d}static fromSnapshot(a,b){let c=he(),d=he();for(let a of b.docChanges)switch(a.type){case 0:c=c.add(a.doc.key);break;case 1:d=d.add(a.doc.key)}return new o9(a,b.fromCache,c,d)}}class pa{constructor(a){this.serializer=a}toDocumentKey(a){return iH(this.serializer,a)}toMutableDocument(a){return a.metadata.exists?iP(this.serializer,a.document,!1):fQ.newNoDocument(this.toDocumentKey(a.metadata.name),this.toSnapshotVersion(a.metadata.readTime))}toSnapshotVersion(a){return iC(a)}}class pb{constructor(a,b){this.bundleMetadata=a,this.serializer=b,this._queries=[],this._documents=[],this.collectionGroups=new Set,this.progress=pc(a)}get queries(){return this._queries}get documents(){return this._documents}addSizedElement(a){this.progress.bytesLoaded+=a.byteLength;let b=this.progress.documentsLoaded;if(a.payload.namedQuery)this._queries.push(a.payload.namedQuery);else if(a.payload.documentMetadata){this._documents.push({metadata:a.payload.documentMetadata}),!a.payload.documentMetadata.exists&&++b;let c=ch.fromString(a.payload.documentMetadata.name);this.collectionGroups.add(c.get(c.length-2))}else a.payload.document&&(this._documents[this._documents.length-1].document=a.payload.document,++b);return b!==this.progress.documentsLoaded?(this.progress.documentsLoaded=b,{...this.progress}):null}getQueryDocumentMapping(a){let b=new Map,c=new pa(this.serializer);for(let d of a)if(d.metadata.queries){let a=c.toDocumentKey(d.metadata.name);for(let c of d.metadata.queries){let d=(b.get(c)||he()).add(a);b.set(c,d)}}return b}async completeAndStoreAsync(a){let b=await m2(a,new pa(this.serializer),this._documents,this.bundleMetadata.id),c=this.getQueryDocumentMapping(this.documents);for(let b of this._queries)await m6(a,b,c.get(b.name));return this.progress.taskState="Success",{progress:this.progress,changedCollectionGroups:this.collectionGroups,changedDocs:b}}}function pc(a){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:a.totalDocuments,totalBytes:a.totalBytes}}function pd(a){return{taskState:"Success",documentsLoaded:a.totalDocuments,bytesLoaded:a.totalBytes,totalDocuments:a.totalDocuments,totalBytes:a.totalBytes}}class pe{constructor(a){this.key=a}}class pf{constructor(a){this.key=a}}class pg{constructor(a,b){this.query=a,this._syncedDocuments=b,this.syncState=null,this.hasCachedResults=!1,this.current=!1,this.limboDocuments=he(),this.mutatedKeys=he(),this.docComparator=g_(a),this.documentSet=new oU(this.docComparator)}get syncedDocuments(){return this._syncedDocuments}computeDocChanges(a,b){let c=b?b.changeSet:new oV,d=b?b.documentSet:this.documentSet,e=b?b.mutatedKeys:this.mutatedKeys,f=d,g=!1,h="F"===this.query.limitType&&d.size===this.query.limit?d.last():null,i="L"===this.query.limitType&&d.size===this.query.limit?d.first():null;if(a.inorderTraversal((a,b)=>{let j=d.get(a),k=gV(this.query,b)?b:null,l=!!j&&this.mutatedKeys.has(j.key),m=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations),n=!1;j&&k?j.data.isEqual(k.data)?l!==m&&(c.track({type:3,doc:k}),n=!0):!this.shouldWaitForSyncedDocument(j,k)&&(c.track({type:2,doc:k}),n=!0,(h&&this.docComparator(k,h)>0||i&&0>this.docComparator(k,i))&&(g=!0)):!j&&k?(c.track({type:0,doc:k}),n=!0):j&&!k&&(c.track({type:1,doc:j}),n=!0,(h||i)&&(g=!0)),n&&(k?(f=f.add(k),e=m?e.add(a):e.delete(a)):(f=f.delete(a),e=e.delete(a)))}),null!==this.query.limit)for(;f.size>this.query.limit;){let a="F"===this.query.limitType?f.last():f.first();f=f.delete(a.key),e=e.delete(a.key),c.track({type:1,doc:a})}return{documentSet:f,changeSet:c,needsRefill:g,mutatedKeys:e}}shouldWaitForSyncedDocument(a,b){return a.hasLocalMutations&&b.hasCommittedMutations&&!b.hasLocalMutations}applyChanges(a,b,c,d){let e=this.documentSet;this.documentSet=a.documentSet,this.mutatedKeys=a.mutatedKeys;let f=a.changeSet.getChanges();f.sort((a,b)=>ph(a.type,b.type)||this.docComparator(a.doc,b.doc)),this.applyTargetChange(c),d=d??!1;let g=b&&!d?this.updateLimboDocuments():[],h=+!!(0===this.limboDocuments.size&&this.current&&!d),i=h!==this.syncState;return(this.syncState=h,0!==f.length||i)?{snapshot:new oW(this.query,a.documentSet,e,f,a.mutatedKeys,0===h,i,!1,!!c&&c.resumeToken.approximateByteSize()>0),limboChanges:g}:{limboChanges:g}}applyOnlineStateChange(a){return this.current&&"Offline"===a?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new oV,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}}shouldBeInLimbo(a){return!this._syncedDocuments.has(a)&&!!this.documentSet.has(a)&&!this.documentSet.get(a).hasLocalMutations}applyTargetChange(a){a&&(a.addedDocuments.forEach(a=>this._syncedDocuments=this._syncedDocuments.add(a)),a.modifiedDocuments.forEach(a=>{}),a.removedDocuments.forEach(a=>this._syncedDocuments=this._syncedDocuments.delete(a)),this.current=a.current)}updateLimboDocuments(){if(!this.current)return[];let a=this.limboDocuments;this.limboDocuments=he(),this.documentSet.forEach(a=>{this.shouldBeInLimbo(a.key)&&(this.limboDocuments=this.limboDocuments.add(a.key))});let b=[];return a.forEach(a=>{this.limboDocuments.has(a)||b.push(new pf(a))}),this.limboDocuments.forEach(c=>{a.has(c)||b.push(new pe(c))}),b}synchronizeWithPersistedState(a){this._syncedDocuments=a.remoteKeys,this.limboDocuments=he();let b=this.computeDocChanges(a.documents);return this.applyChanges(b,!0)}computeInitialSnapshot(){return oW.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,0===this.syncState,this.hasCachedResults)}}function ph(a,b){let c=a=>{switch(a){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bC(20277,{change:a})}};return c(a)-c(b)}let pi="SyncEngine";class pj{constructor(a,b,c){this.query=a,this.targetId=b,this.view=c}}class pk{constructor(a){this.key=a,this.receivedDocument=!1}}class pl{constructor(a,b,c,d,e,f){this.localStore=a,this.remoteStore=b,this.eventManager=c,this.sharedClientState=d,this.currentUser=e,this.maxConcurrentLimboResolutions=f,this.syncEngineListener={},this.queryViewsByQuery=new g1(a=>gT(a),gS),this.queriesByTarget=new Map,this.enqueuedLimboResolutions=new Set,this.activeLimboTargetsByKey=new eu(ck.comparator),this.activeLimboResolutionsByTarget=new Map,this.limboDocumentRefs=new lT,this.mutationUserCallbacks={},this.pendingWritesCallbacks=new Map,this.limboTargetIdGenerator=lh.forSyncEngine(),this.onlineState="Unknown",this._isPrimaryClient=void 0}get isPrimaryClient(){return!0===this._isPrimaryClient}}function pm(a,b,c,d,e,f,g){let h=new pl(a,b,c,d,e,f);return g&&(h._isPrimaryClient=!0),h}async function pn(a,b,c=!0){let d,e=pW(a),f=e.queryViewsByQuery.get(b);return f?(e.sharedClientState.addLocalQueryTarget(f.targetId),d=f.view.computeInitialSnapshot()):d=await pp(e,b,c,!0),d}async function po(a,b){let c=pW(a);await pp(c,b,!0,!1)}async function pp(a,b,c,d){let e,f=await mS(a.localStore,gK(b)),g=f.targetId,h=a.sharedClientState.addLocalQueryTarget(g,c);return d&&(e=await pq(a,b,g,"current"===h,f.resumeToken)),a.isPrimaryClient&&c&&om(a.remoteStore,f),e}async function pq(a,b,c,d,e){a.applyDocChanges=(b,c,d)=>pJ(a,b,c,d);let f=await mV(a.localStore,b,!0),g=new pg(b,f.remoteKeys),h=g.computeDocChanges(f.documents),i=id.createSynthesizedTargetChangeForCurrentChange(c,d&&"Offline"!==a.onlineState,e),j=g.applyChanges(h,a.isPrimaryClient,i);pF(a,c,j.limboChanges);let k=new pj(b,c,g);return a.queryViewsByQuery.set(b,k),a.queriesByTarget.has(c)?a.queriesByTarget.get(c).push(b):a.queriesByTarget.set(c,[b]),j.snapshot}async function pr(a,b,c){let d=bF(a),e=d.queryViewsByQuery.get(b),f=d.queriesByTarget.get(e.targetId);if(f.length>1){d.queriesByTarget.set(e.targetId,f.filter(a=>!gS(a,b))),d.queryViewsByQuery.delete(b);return}d.isPrimaryClient?(d.sharedClientState.removeLocalQueryTarget(e.targetId),d.sharedClientState.isActiveQueryTarget(e.targetId)||await mU(d.localStore,e.targetId,!1).then(()=>{d.sharedClientState.clearQueryState(e.targetId),c&&on(d.remoteStore,e.targetId),pD(d,e.targetId)}).catch(cR)):(pD(d,e.targetId),await mU(d.localStore,e.targetId,!0))}async function ps(a,b){let c=bF(a),d=c.queryViewsByQuery.get(b),e=c.queriesByTarget.get(d.targetId);c.isPrimaryClient&&1===e.length&&(c.sharedClientState.removeLocalQueryTarget(d.targetId),on(c.remoteStore,d.targetId))}async function pt(a,b,c){let d=pX(a);try{let a=await mH(d.localStore,b);d.sharedClientState.addPendingMutation(a.batchId),pB(d,a.batchId,c),await pI(d,a.changes),await oC(d.remoteStore)}catch(b){let a=oT(b,"Failed to persist write");c.reject(a)}}async function pu(a,b){let c=bF(a);try{let a=await mM(c.localStore,b);b.targetChanges.forEach((a,b)=>{let d=c.activeLimboResolutionsByTarget.get(b);d&&(bE(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?d.receivedDocument=!0:a.modifiedDocuments.size>0?bE(d.receivedDocument,14607):a.removedDocuments.size>0&&(bE(d.receivedDocument,42227),d.receivedDocument=!1))}),await pI(c,a,b)}catch(a){await cR(a)}}function pv(a,b,c){let d=bF(a);if(d.isPrimaryClient&&0===c||!d.isPrimaryClient&&1===c){let a=[];d.queryViewsByQuery.forEach((c,d)=>{let e=d.view.applyOnlineStateChange(b);e.snapshot&&a.push(e.snapshot)}),o3(d.eventManager,b),a.length&&d.syncEngineListener.onWatchChange(a),d.onlineState=b,d.isPrimaryClient&&d.sharedClientState.setOnlineState(b)}}async function pw(a,b,c){let d=bF(a);d.sharedClientState.updateQueryState(b,"rejected",c);let e=d.activeLimboResolutionsByTarget.get(b),f=e&&e.key;if(f){let a=new eu(ck.comparator);a=a.insert(f,fQ.newNoDocument(f,cz.min()));let c=he().add(f),e=new ic(cz.min(),new Map,new eu(b8),a,c);await pu(d,e),d.activeLimboTargetsByKey=d.activeLimboTargetsByKey.remove(f),d.activeLimboResolutionsByTarget.delete(b),pH(d)}else await mU(d.localStore,b,!1).then(()=>pD(d,b,c)).catch(cR)}async function px(a,b){let c=bF(a),d=b.batch.batchId;try{let a=await mI(c.localStore,b);pC(c,d,null),pz(c,d),c.sharedClientState.updateMutationState(d,"acknowledged"),await pI(c,a)}catch(a){await cR(a)}}async function py(a,b,c){let d=bF(a);try{let a=await mK(d.localStore,b);pC(d,b,c),pz(d,b),d.sharedClientState.updateMutationState(b,"rejected",c),await pI(d,a)}catch(a){await cR(a)}}function pz(a,b){(a.pendingWritesCallbacks.get(b)||[]).forEach(a=>{a.resolve()}),a.pendingWritesCallbacks.delete(b)}function pA(a,b){a.pendingWritesCallbacks.forEach(a=>{a.forEach(a=>{a.reject(new bX(bH,b))})}),a.pendingWritesCallbacks.clear()}function pB(a,b,c){let d=a.mutationUserCallbacks[a.currentUser.toKey()];d||(d=new eu(b8)),d=d.insert(b,c),a.mutationUserCallbacks[a.currentUser.toKey()]=d}function pC(a,b,c){let d=bF(a),e=d.mutationUserCallbacks[d.currentUser.toKey()];if(e){let a=e.get(b);a&&(c?a.reject(c):a.resolve(),e=e.remove(b)),d.mutationUserCallbacks[d.currentUser.toKey()]=e}}function pD(a,b,c=null){for(let d of(a.sharedClientState.removeLocalQueryTarget(b),a.queriesByTarget.get(b)))a.queryViewsByQuery.delete(d),c&&a.syncEngineListener.onWatchError(d,c);a.queriesByTarget.delete(b),a.isPrimaryClient&&a.limboDocumentRefs.removeReferencesForId(b).forEach(b=>{a.limboDocumentRefs.containsKey(b)||pE(a,b)})}function pE(a,b){a.enqueuedLimboResolutions.delete(b.path.canonicalString());let c=a.activeLimboTargetsByKey.get(b);null!==c&&(on(a.remoteStore,c),a.activeLimboTargetsByKey=a.activeLimboTargetsByKey.remove(b),a.activeLimboResolutionsByTarget.delete(c),pH(a))}function pF(a,b,c){for(let d of c)d instanceof pe?(a.limboDocumentRefs.addReference(d.key,b),pG(a,d)):d instanceof pf?(by(pi,"Document no longer in limbo: "+d.key),a.limboDocumentRefs.removeReference(d.key,b),a.limboDocumentRefs.containsKey(d.key)||pE(a,d.key)):bC(19791,{limboChange:d})}function pG(a,b){let c=b.key,d=c.path.canonicalString();a.activeLimboTargetsByKey.get(c)||a.enqueuedLimboResolutions.has(d)||(by(pi,"New document in limbo: "+c),a.enqueuedLimboResolutions.add(d),pH(a))}function pH(a){for(;a.enqueuedLimboResolutions.size>0&&a.activeLimboTargetsByKey.size<a.maxConcurrentLimboResolutions;){let b=a.enqueuedLimboResolutions.values().next().value;a.enqueuedLimboResolutions.delete(b);let c=new ck(ch.fromString(b)),d=a.limboTargetIdGenerator.next();a.activeLimboResolutionsByTarget.set(d,new pk(c)),a.activeLimboTargetsByKey=a.activeLimboTargetsByKey.insert(c,d),om(a.remoteStore,new jE(gK(gD(c.path)),d,"TargetPurposeLimboResolution",c9.INVALID))}}async function pI(a,b,c){let d=bF(a),e=[],f=[],g=[];d.queryViewsByQuery.isEmpty()||(d.queryViewsByQuery.forEach((a,h)=>{g.push(d.applyDocChanges(h,b,c).then(a=>{if((a||c)&&d.isPrimaryClient){let b=a?!a.fromCache:c?.targetChanges.get(h.targetId)?.current;d.sharedClientState.updateQueryState(h.targetId,b?"current":"not-current")}if(a){e.push(a);let b=o9.fromSnapshot(h.targetId,a);f.push(b)}}))}),await Promise.all(g),d.syncEngineListener.onWatchChange(e),await mP(d.localStore,f))}async function pJ(a,b,c,d){let e=b.view.computeDocChanges(c);e.needsRefill&&(e=await mV(a.localStore,b.query,!1).then(({documents:a})=>b.view.computeDocChanges(a,e)));let f=d&&d.targetChanges.get(b.targetId),g=d&&null!=d.targetMismatches.get(b.targetId),h=b.view.applyChanges(e,a.isPrimaryClient,f,g);return pF(a,b.targetId,h.limboChanges),h.snapshot}async function pK(a,b){let c=bF(a);if(!c.currentUser.isEqual(b)){by(pi,"User change. New user:",b.toKey());let a=await mG(c.localStore,b);c.currentUser=b,pA(c,"'waitForPendingWrites' promise is rejected due to a user change."),c.sharedClientState.handleUserChange(b,a.removedBatchIds,a.addedBatchIds),await pI(c,a.affectedDocuments)}}function pL(a,b){let c=bF(a),d=c.activeLimboResolutionsByTarget.get(b);if(d&&d.receivedDocument)return he().add(d.key);{let a=he(),d=c.queriesByTarget.get(b);if(!d)return a;for(let b of d){let d=c.queryViewsByQuery.get(b);a=a.unionWith(d.view.syncedDocuments)}return a}}async function pM(a,b){let c=bF(a),d=await mV(c.localStore,b.query,!0),e=b.view.synchronizeWithPersistedState(d);return c.isPrimaryClient&&pF(c,b.targetId,e.limboChanges),e}async function pN(a,b){let c=bF(a);return m_(c.localStore,b).then(a=>pI(c,a))}async function pO(a,b,c,d){let e=bF(a),f=await mX(e.localStore,b);null===f?by(pi,"Cannot apply mutation batch with id: "+b):("pending"===c?await oC(e.remoteStore):"acknowledged"===c||"rejected"===c?(pC(e,b,d||null),pz(e,b),mY(e.localStore,b)):bC(6720,"Unknown batchState",{batchState:c}),await pI(e,f))}async function pP(a,b){let c=bF(a);if(pW(c),pX(c),!0===b&&!0!==c._isPrimaryClient){let a=c.sharedClientState.getAllActiveQueryTargets(),b=await pR(c,a.toArray());for(let a of(c._isPrimaryClient=!0,await oO(c.remoteStore,!0),b))om(c.remoteStore,a)}else if(!1===b&&!1!==c._isPrimaryClient){let a=[],b=Promise.resolve();c.queriesByTarget.forEach((d,e)=>{c.sharedClientState.isLocalQueryTarget(e)?a.push(e):b=b.then(()=>(pD(c,e),mU(c.localStore,e,!0))),on(c.remoteStore,e)}),await b,await pR(c,a),pQ(c),c._isPrimaryClient=!1,await oO(c.remoteStore,!1)}}function pQ(a){let b=bF(a);b.activeLimboResolutionsByTarget.forEach((a,c)=>{on(b.remoteStore,c)}),b.limboDocumentRefs.removeAllReferences(),b.activeLimboResolutionsByTarget=new Map,b.activeLimboTargetsByKey=new eu(ck.comparator)}async function pR(a,b,c){let d=bF(a),e=[],f=[];for(let a of b){let b,c=d.queriesByTarget.get(a);if(c&&0!==c.length)for(let a of(b=await mS(d.localStore,gK(c[0])),c)){let b=d.queryViewsByQuery.get(a),c=await pM(d,b);c.snapshot&&f.push(c.snapshot)}else{let c=await m$(d.localStore,a);b=await mS(d.localStore,c),await pq(d,pS(c),a,!1,b.resumeToken)}e.push(b)}return d.syncEngineListener.onWatchChange(f),e}function pS(a){return gC(a.path,a.collectionGroup,a.orderBy,a.filters,a.limit,"F",a.startAt,a.endAt)}function pT(a){return mZ(bF(a).localStore)}async function pU(a,b,c,d){let e=bF(a);if(e._isPrimaryClient)return void by(pi,"Ignoring unexpected query state notification.");let f=e.queriesByTarget.get(b);if(f&&f.length>0)switch(c){case"current":case"not-current":{let a=await m_(e.localStore,g$(f[0])),d=ic.createSynthesizedRemoteEventForCurrentChange(b,"current"===c,eF.EMPTY_BYTE_STRING);await pI(e,a,d);break}case"rejected":await mU(e.localStore,b,!0),pD(e,b,d);break;default:bC(64155,c)}}async function pV(a,b,c){let d=pW(a);if(d._isPrimaryClient){for(let a of b){if(d.queriesByTarget.has(a)&&d.sharedClientState.isActiveQueryTarget(a)){by(pi,"Adding an already active target "+a);continue}let b=await m$(d.localStore,a),c=await mS(d.localStore,b);await pq(d,pS(b),c.targetId,!1,c.resumeToken),om(d.remoteStore,c)}for(let a of c)d.queriesByTarget.has(a)&&await mU(d.localStore,a,!1).then(()=>{on(d.remoteStore,a),pD(d,a)}).catch(cR)}}function pW(a){let b=bF(a);return b.remoteStore.remoteSyncer.applyRemoteEvent=pu.bind(null,b),b.remoteStore.remoteSyncer.getRemoteKeysForTarget=pL.bind(null,b),b.remoteStore.remoteSyncer.rejectListen=pw.bind(null,b),b.syncEngineListener.onWatchChange=o1.bind(null,b.eventManager),b.syncEngineListener.onWatchError=o2.bind(null,b.eventManager),b}function pX(a){let b=bF(a);return b.remoteStore.remoteSyncer.applySuccessfulWrite=px.bind(null,b),b.remoteStore.remoteSyncer.rejectFailedWrite=py.bind(null,b),b}function pY(a,b,c){let d=bF(a);pZ(d,b,c).then(a=>{d.sharedClientState.notifyBundleLoaded(a)})}async function pZ(a,b,c){try{let d=await b.getMetadata();if(await m3(a.localStore,d))return await b.close(),c._completeWith(pd(d)),Promise.resolve(new Set);c._updateProgress(pc(d));let e=new pb(d,b.serializer),f=await b.nextElement();for(;f;){let a=await e.addSizedElement(f);a&&c._updateProgress(a),f=await b.nextElement()}let g=await e.completeAndStoreAsync(a.localStore);return await pI(a,g.changedDocs,void 0),await m4(a.localStore,d),c._completeWith(g.progress),Promise.resolve(g.changedCollectionGroups)}catch(a){return bA(pi,`Loading bundle failed with ${a}`),c._failWith(a),Promise.resolve(new Set)}}class p${constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(a){this.serializer=nT(a.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(a),this.persistence=this.createPersistence(a),await this.persistence.start(),this.localStore=this.createLocalStore(a),this.gcScheduler=this.createGarbageCollectionScheduler(a,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(a,this.localStore)}createGarbageCollectionScheduler(a,b){return null}createIndexBackfillerScheduler(a,b){return null}createLocalStore(a){return mF(this.persistence,new nd,a.initialUser,this.serializer)}createPersistence(a){return new l1(l3.factory,this.serializer)}createSharedClientState(a){return new ny}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}p$.provider={build:()=>new p$};class p_ extends p${constructor(a){super(),this.cacheSizeBytes=a}createGarbageCollectionScheduler(a,b){return bE(this.persistence.referenceDelegate instanceof l4,46915),new lw(this.persistence.referenceDelegate.garbageCollector,a.asyncQueue,b)}createPersistence(a){let b=void 0!==this.cacheSizeBytes?lp.withCacheSize(this.cacheSizeBytes):lp.DEFAULT;return new l1(a=>l4.factory(a,b),this.serializer)}}class p0 extends p${constructor(a,b,c){super(),this.onlineComponentProvider=a,this.cacheSizeBytes=b,this.forceOwnership=c,this.kind="persistent",this.synchronizeTabs=!1}async initialize(a){await super.initialize(a),await this.onlineComponentProvider.initialize(this,a),await pX(this.onlineComponentProvider.syncEngine),await oC(this.onlineComponentProvider.remoteStore),await this.persistence.setPrimaryStateListener(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(a){return mF(this.persistence,new nd,a.initialUser,this.serializer)}createGarbageCollectionScheduler(a,b){return new lw(this.persistence.referenceDelegate.garbageCollector,a.asyncQueue,b)}createIndexBackfillerScheduler(a,b){let c=new c8(b,this.persistence);return new c7(a.asyncQueue,c)}createPersistence(a){let b=mz(a.databaseInfo.databaseId,a.databaseInfo.persistenceKey),c=void 0!==this.cacheSizeBytes?lp.withCacheSize(this.cacheSizeBytes):lp.DEFAULT;return new mw(this.synchronizeTabs,b,a.clientId,c,a.asyncQueue,nR(),nS(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(a){return new ny}}class p1 extends p0{constructor(a,b){super(a,b,!1),this.onlineComponentProvider=a,this.cacheSizeBytes=b,this.synchronizeTabs=!0}async initialize(a){await super.initialize(a);let b=this.onlineComponentProvider.syncEngine;this.sharedClientState instanceof nw&&(this.sharedClientState.syncEngine={applyBatchState:pO.bind(null,b),applyTargetState:pU.bind(null,b),applyActiveTargetsChange:pV.bind(null,b),getActiveClients:pT.bind(null,b),synchronizeWithChangedDocuments:pN.bind(null,b)},await this.sharedClientState.start()),await this.persistence.setPrimaryStateListener(async a=>{await pP(this.onlineComponentProvider.syncEngine,a),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start():a||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(a&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():a||this.indexBackfillerScheduler.stop())})}createSharedClientState(a){let b=nR();if(!nw.isAvailable(b))throw new bX(bT,"IndexedDB persistence is only available on platforms that support LocalStorage.");let c=mz(a.databaseInfo.databaseId,a.databaseInfo.persistenceKey);return new nw(b,a.asyncQueue,c,a.clientId,a.initialUser)}}class p2{async initialize(a,b){this.localStore||(this.localStore=a.localStore,this.sharedClientState=a.sharedClientState,this.datastore=this.createDatastore(b),this.remoteStore=this.createRemoteStore(b),this.eventManager=this.createEventManager(b),this.syncEngine=this.createSyncEngine(b,!a.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>pv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=pK.bind(null,this.syncEngine),await oO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(a){return oY()}createDatastore(a){let b=nT(a.databaseInfo.databaseId),c=nP(a.databaseInfo);return n5(a.authCredentials,a.appCheckCredentials,c,b)}createRemoteStore(a){return oi(this.localStore,this.datastore,a.asyncQueue,a=>pv(this.syncEngine,a,0),nQ())}createSyncEngine(a,b){return pm(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,a.initialUser,a.maxConcurrentLimboResolutions,b)}async terminate(){await ol(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}p2.provider={build:()=>new p2};let p3=10240;function p4(a,b=p3){let c=0;return{async read(){if(c<a.byteLength){let d={value:a.slice(c,c+b),done:!1};return c+=b,d}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}function p5(a,b){if(!(a instanceof Uint8Array))throw new bX(bJ,`NodePlatform.toByteStreamReader expects source to be Uint8Array, got ${cq(a)}`);return p4(a,b)}class p6{constructor(a){this.observer=a,this.muted=!1}next(a){!this.muted&&this.observer.next&&this.scheduleEvent(this.observer.next,a)}error(a){this.muted||(this.observer.error?this.scheduleEvent(this.observer.error,a):bz("Uncaught Error in snapshot listener:",a.toString()))}mute(){this.muted=!0}scheduleEvent(a,b){setTimeout(()=>{this.muted||a(b)},0)}}class p7{constructor(a,b){this.payload=a,this.byteLength=b}isBundleMetadata(){return"metadata"in this.payload}}class p8{constructor(a,b){this.reader=a,this.serializer=b,this.metadata=new bY,this.buffer=new Uint8Array,this.textDecoder=h6(),this.nextElementImpl().then(a=>{a&&a.isBundleMetadata()?this.metadata.resolve(a.payload.metadata):this.metadata.reject(Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(a?.payload)}`))},a=>this.metadata.reject(a))}close(){return this.reader.cancel()}async getMetadata(){return this.metadata.promise}async nextElement(){return await this.getMetadata(),this.nextElementImpl()}async nextElementImpl(){let a=await this.readLength();if(null===a)return null;let b=this.textDecoder.decode(a),c=Number(b);return isNaN(c)&&this.raiseError(`length string (${b}) is not valid number`),new p7(JSON.parse(await this.readJsonString(c)),a.length+c)}indexOfOpenBracket(){return this.buffer.findIndex(a=>123===a)}async readLength(){for(;0>this.indexOfOpenBracket()&&!await this.pullMoreDataToBuffer(););if(0===this.buffer.length)return null;let a=this.indexOfOpenBracket();a<0&&this.raiseError("Reached the end of bundle when a length string is expected.");let b=this.buffer.slice(0,a);return this.buffer=this.buffer.slice(a),b}async readJsonString(a){for(;this.buffer.length<a;)await this.pullMoreDataToBuffer()&&this.raiseError("Reached the end of bundle when more is expected.");let b=this.textDecoder.decode(this.buffer.slice(0,a));return this.buffer=this.buffer.slice(a),b}raiseError(a){throw this.reader.cancel(),Error(`Invalid bundle format: ${a}`)}async pullMoreDataToBuffer(){let a=await this.reader.read();if(!a.done){let b=new Uint8Array(this.buffer.length+a.value.length);b.set(this.buffer),b.set(a.value,this.buffer.length),this.buffer=b}return a.done}}function p9(a,b){return new p8(a,b)}class qa{constructor(a,b){this.bundleData=a,this.serializer=b,this.cursor=0,this.elements=[];let c=this.nextElement();if(c&&c.isBundleMetadata())this.metadata=c;else throw Error(`The first element of the bundle is not a metadata object, it is
         ${JSON.stringify(c?.payload)}`);do null!==(c=this.nextElement())&&this.elements.push(c);while(null!==c)}getMetadata(){return this.metadata}getElements(){return this.elements}nextElement(){if(this.cursor===this.bundleData.length)return null;let a=this.readLength();return new p7(JSON.parse(this.readJsonString(a)),a)}readJsonString(a){if(this.cursor+a>this.bundleData.length)throw new bX(bU,"Reached the end of bundle when more is expected.");return this.bundleData.slice(this.cursor,this.cursor+=a)}readLength(){let a=this.cursor,b=this.cursor;for(;b<this.bundleData.length;){if("{"===this.bundleData[b]){if(b===a)throw Error("First character is a bracket and not a number");return this.cursor=b,Number(this.bundleData.slice(a,b))}b++}throw Error("Reached the end of bundle when more is expected.")}}function qb(a,b){return new qa(a,b)}class qc{constructor(a){this.datastore=a,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(a){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new bX(bJ,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;let b=await n7(this.datastore,a);return b.forEach(a=>this.recordVersion(a)),b}set(a,b){this.write(b.toMutation(a,this.precondition(a))),this.writtenDocs.add(a.toString())}update(a,b){try{this.write(b.toMutation(a,this.preconditionForUpdate(a)))}catch(a){this.lastTransactionError=a}this.writtenDocs.add(a.toString())}delete(a){this.write(new hT(a,this.precondition(a))),this.writtenDocs.add(a.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let a=this.readVersions;this.mutations.forEach(b=>{a.delete(b.key.toString())}),a.forEach((a,b)=>{let c=ck.fromPath(b);this.mutations.push(new hW(c,this.precondition(c)))}),await n6(this.datastore,this.mutations),this.committed=!0}recordVersion(a){let b;if(a.isFoundDocument())b=a.version;else if(a.isNoDocument())b=cz.min();else throw bC(50498,{documentName:a.constructor.name});let c=this.readVersions.get(a.key.toString());if(c){if(!b.isEqual(c))throw new bX(bR,"Document version changed between two reads.")}else this.readVersions.set(a.key.toString(),b)}precondition(a){let b=this.readVersions.get(a.toString());return this.writtenDocs.has(a.toString())||!b?hC.none():b.isEqual(cz.min())?hC.exists(!1):hC.updateTime(b)}preconditionForUpdate(a){let b=this.readVersions.get(a.toString());if(this.writtenDocs.has(a.toString())||!b)return hC.exists(!0);if(b.isEqual(cz.min()))throw new bX(bJ,"Can't update a document that doesn't exist.");return hC.updateTime(b)}write(a){this.ensureCommitNotCalled(),this.mutations.push(a)}ensureCommitNotCalled(){}}class qd{constructor(a,b,c,d,e){this.asyncQueue=a,this.datastore=b,this.options=c,this.updateFunction=d,this.deferred=e,this.attemptsRemaining=c.maxAttempts,this.backoff=new nY(this.asyncQueue,"transaction_retry")}run(){this.attemptsRemaining-=1,this.runWithBackOff()}runWithBackOff(){this.backoff.backoffAndRun(async()=>{let a=new qc(this.datastore),b=this.tryRunUpdateFunction(a);b&&b.then(b=>{this.asyncQueue.enqueueAndForget(()=>a.commit().then(()=>{this.deferred.resolve(b)}).catch(a=>{this.handleTransactionError(a)}))}).catch(a=>{this.handleTransactionError(a)})})}tryRunUpdateFunction(a){try{let b=this.updateFunction(a);if(eZ(b)||!b.catch||!b.then)return this.deferred.reject(Error("Transaction callback must return a Promise")),null;return b}catch(a){return this.deferred.reject(a),null}}handleTransactionError(a){this.attemptsRemaining>0&&this.isRetryableTransactionError(a)?(this.attemptsRemaining-=1,this.asyncQueue.enqueueAndForget(()=>(this.runWithBackOff(),Promise.resolve()))):this.deferred.reject(a)}isRetryableTransactionError(a){if(a?.name==="FirebaseError"){let b=a.code;return"aborted"===b||"failed-precondition"===b||"already-exists"===b||!h_(b)}return!1}}let qe="FirestoreClient",qf=100,qg=11,qh=20,qi=22;class qj{constructor(a,b,c,d,e){this.authCredentials=a,this.appCheckCredentials=b,this.asyncQueue=c,this._databaseInfo=d,this.user=bs.UNAUTHENTICATED,this.clientId=b7.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=e,this.authCredentials.start(c,async a=>{by(qe,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(c,a=>(by(qe,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:qf}}setCredentialChangeListener(a){this.authCredentialListener=a}setAppCheckTokenChangeListener(a){this.appCheckCredentialListener=a}terminate(){this.asyncQueue.enterRestrictedMode();let a=new bY;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),a.resolve()}catch(c){let b=oT(c,"Failed to shutdown persistence");a.reject(b)}}),a.promise}}async function qk(a,b){a.asyncQueue.verifyOperationInProgress(),by(qe,"Initializing OfflineComponentProvider");let c=a.configuration;await b.initialize(c);let d=c.initialUser;a.setCredentialChangeListener(async a=>{d.isEqual(a)||(await mG(b.localStore,a),d=a)}),b.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=b}async function ql(a,b){a.asyncQueue.verifyOperationInProgress();let c=await qn(a);by(qe,"Initializing OnlineComponentProvider"),await b.initialize(c,a.configuration),a.setCredentialChangeListener(a=>oN(b.remoteStore,a)),a.setAppCheckTokenChangeListener((a,c)=>oN(b.remoteStore,c)),a._onlineComponents=b}function qm(a){return"FirebaseError"===a.name?a.code===bQ||a.code===bT:!("u">typeof DOMException&&a instanceof DOMException)||a.code===qi||a.code===qh||a.code===qg}async function qn(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){by(qe,"Using user provided OfflineComponentProvider");try{await qk(a,a._uninitializedComponentsProvider._offline)}catch(c){let b=c;if(!qm(b))throw b;bA("Error using user provided cache. Falling back to memory cache: "+b),await qk(a,new p$)}}else by(qe,"Using default OfflineComponentProvider"),await qk(a,new p_(void 0));return a._offlineComponents}async function qo(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(by(qe,"Using user provided OnlineComponentProvider"),await ql(a,a._uninitializedComponentsProvider._online)):(by(qe,"Using default OnlineComponentProvider"),await ql(a,new p2))),a._onlineComponents}function qp(a){return qn(a).then(a=>a.localStore)}function qq(a){return qo(a).then(a=>a.syncEngine)}function qr(a){return qo(a).then(a=>a.datastore)}async function qs(a){let b=await qo(a),c=b.eventManager;return c.onListen=pn.bind(null,b.syncEngine),c.onUnlisten=pr.bind(null,b.syncEngine),c.onFirstRemoteStoreListen=po.bind(null,b.syncEngine),c.onLastRemoteStoreUnlisten=ps.bind(null,b.syncEngine),c}function qt(a,b,c,d){let e=new p6(d),f=new o8(b,e,c);return a.asyncQueue.enqueueAndForget(async()=>o_(await qs(a),f)),()=>{e.mute(),a.asyncQueue.enqueueAndForget(async()=>o0(await qs(a),f))}}function qu(a,b){let c=new bY;return a.asyncQueue.enqueueAndForget(async()=>qC(await qp(a),b,c)),c.promise}function qv(a,b,c={}){let d=new bY;return a.asyncQueue.enqueueAndForget(async()=>qD(await qs(a),a.asyncQueue,b,c,d)),d.promise}function qw(a,b){let c=new bY;return a.asyncQueue.enqueueAndForget(async()=>qE(await qp(a),b,c)),c.promise}function qx(a,b,c={}){let d=new bY;return a.asyncQueue.enqueueAndForget(async()=>qF(await qs(a),a.asyncQueue,b,c,d)),d.promise}function qy(a,b,c){let d=new bY;return a.asyncQueue.enqueueAndForget(async()=>{try{let e=await qr(a);d.resolve(n8(e,b,c))}catch(a){d.reject(a)}}),d.promise}function qz(a,b){let c=new bY;return a.asyncQueue.enqueueAndForget(async()=>pt(await qq(a),b,c)),c.promise}function qA(a,b){let c=new p6(b);return a.asyncQueue.enqueueAndForget(async()=>o4(await qs(a),c)),()=>{c.mute(),a.asyncQueue.enqueueAndForget(async()=>o5(await qs(a),c))}}function qB(a,b,c){let d=new bY;return a.asyncQueue.enqueueAndForget(async()=>{let e=await qr(a);new qd(a.asyncQueue,e,c,b,d).run()}),d.promise}async function qC(a,b,c){try{let d=await mR(a,b);d.isFoundDocument()?c.resolve(d):d.isNoDocument()?c.resolve(null):c.reject(new bX(bV,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){let a=oT(d,`Failed to get document '${b} from cache`);c.reject(a)}}function qD(a,b,c,d,e){let f=new p6({next:h=>{f.mute(),b.enqueueAndForget(()=>o0(a,g));let i=h.docs.has(c);!i&&h.fromCache?e.reject(new bX(bV,"Failed to get document because the client is offline.")):i&&h.fromCache&&d&&"server"===d.source?e.reject(new bX(bV,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):e.resolve(h)},error:a=>e.reject(a)}),g=new o8(gD(c.path),f,{includeMetadataChanges:!0,waitForSyncWhenOnline:!0});return o_(a,g)}async function qE(a,b,c){try{let d=await mV(a,b,!0),e=new pg(b,d.remoteKeys),f=e.computeDocChanges(d.documents),g=e.applyChanges(f,!1);c.resolve(g.snapshot)}catch(d){let a=oT(d,`Failed to execute query '${b} against cache`);c.reject(a)}}function qF(a,b,c,d,e){let f=new p6({next:c=>{f.mute(),b.enqueueAndForget(()=>o0(a,g)),c.fromCache&&"server"===d.source?e.reject(new bX(bV,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):e.resolve(c)},error:a=>e.reject(a)}),g=new o8(c,f,{includeMetadataChanges:!0,waitForSyncWhenOnline:!0});return o_(a,g)}function qG(a,b,c,d){let e=qI(c,nT(b));a.asyncQueue.enqueueAndForget(async()=>{pY(await qq(a),e,d)})}function qH(a,b){return a.asyncQueue.enqueue(async()=>m5(await qp(a),b))}function qI(a,b){let c;return p9(p5(c="string"==typeof a?h5().encode(a):a),b)}function qJ(a,b){return qb(a,b)}function qK(a,b){return a.asyncQueue.enqueue(async()=>m7(await qp(a),b))}function qL(a,b){return a.asyncQueue.enqueue(async()=>m8(await qp(a),b))}function qM(a){return a.asyncQueue.enqueue(async()=>m9(await qp(a)))}function qN(a,b){return a.timeoutSeconds===b.timeoutSeconds}function qO(a){let b={};return void 0!==a.timeoutSeconds&&(b.timeoutSeconds=a.timeoutSeconds),b}let qP="ComponentProvider",qQ=new Map;function qR(a){let b=qQ.get(a);b&&(by(qP,"Removing Datastore"),qQ.delete(a),b.terminate())}function qS(a,b,c,d,e){return new eU(a,b,c,e.host,e.ssl,e.experimentalForceLongPolling,e.experimentalAutoDetectLongPolling,qO(e.experimentalLongPollingOptions),e.useFetchStreams,e.isUsingEmulator,d)}let qT="firestore.googleapis.com",qU=!0,qV=5,qW=30,qX=!0;class qY{constructor(a){if(void 0===a.host){if(void 0!==a.ssl)throw new bX(bJ,"Can't provide ssl option if host option is not set");this.host=qT,this.ssl=qU}else this.host=a.host,this.ssl=a.ssl??qU;if(this.isUsingEmulator=void 0!==a.emulatorOptions,this.credentials=a.credentials,this.ignoreUndefinedProperties=!!a.ignoreUndefinedProperties,this.localCache=a.localCache,void 0===a.cacheSizeBytes)this.cacheSizeBytes=lo;else if(a.cacheSizeBytes!==ln&&a.cacheSizeBytes<lr)throw new bX(bJ,`cacheSizeBytes must be at least ${lr}`);else this.cacheSizeBytes=a.cacheSizeBytes;cm("experimentalForceLongPolling",a.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",a.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!a.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===a.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=qX:this.experimentalAutoDetectLongPolling=!!a.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qO(a.experimentalLongPollingOptions??{}),qZ(this.experimentalLongPollingOptions),this.useFetchStreams=!!a.useFetchStreams}isEqual(a){return this.host===a.host&&this.ssl===a.ssl&&this.credentials===a.credentials&&this.cacheSizeBytes===a.cacheSizeBytes&&this.experimentalForceLongPolling===a.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===a.experimentalAutoDetectLongPolling&&qN(this.experimentalLongPollingOptions,a.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===a.ignoreUndefinedProperties&&this.useFetchStreams===a.useFetchStreams}}function qZ(a){if(void 0!==a.timeoutSeconds){if(isNaN(a.timeoutSeconds))throw new bX(bJ,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<qV)throw new bX(bJ,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is ${qV})`);if(a.timeoutSeconds>qW)throw new bX(bJ,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is ${qW})`)}}class q${constructor(a,b,c,d){this._authCredentials=a,this._appCheckCredentials=b,this._databaseId=c,this._app=d,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qY({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new bX(bQ,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(a){if(this._settingsFrozen)throw new bX(bQ,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qY(a),this._emulatorOptions=a.emulatorOptions||{},void 0!==a.credentials&&(this._authCredentials=b5(a.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return qR(this),Promise.resolve()}}function q_(a,b,c,d={}){a=cs(a,q$);let e=v(b),f=a._getSettings(),g={...f,emulatorOptions:a._getEmulatorOptions()},h=`${b}:${c}`;e&&(w(`https://${h}`),y("Firestore",!0)),f.host!==qT&&f.host!==h&&bA("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let i={...f,host:h,ssl:e,emulatorOptions:d};if(!M(i,g)&&(a._setSettings(i),d.mockUserToken)){let b,c;if("string"==typeof d.mockUserToken)b=d.mockUserToken,c=bs.MOCK_USER;else{b=x(d.mockUserToken,a._app?.options.projectId);let e=d.mockUserToken.sub||d.mockUserToken.user_id;if(!e)throw new bX(bJ,"mockUserToken must contain 'sub' or 'user_id' field!");c=new bs(e)}a._authCredentials=new b_(new bZ(b,c))}}class q0{constructor(a,b,c){this.converter=b,this._query=c,this.type="query",this.firestore=a}withConverter(a){return new q0(this.firestore,a,this._query)}}class q1{constructor(a,b,c){this.converter=b,this._key=c,this.type="document",this.firestore=a}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new q2(this.firestore,this.converter,this._key.path.popLast())}withConverter(a){return new q1(this.firestore,a,this._key)}toJSON(){return{type:q1._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(a,b,c){if(cv(b,q1._jsonSchema))return new q1(a,c||null,new ck(ch.fromString(b.referencePath)))}}q1._jsonSchemaVersion="firestore/documentReference/1.0",q1._jsonSchema={type:cu("string",q1._jsonSchemaVersion),referencePath:cu("string")};class q2 extends q0{constructor(a,b,c){super(a,b,gD(c)),this._path=c,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let a=this._path.popLast();return a.isEmpty()?null:new q1(this.firestore,null,new ck(a))}withConverter(a){return new q2(this.firestore,a,this._path)}}function q3(a,b,...c){if(a=O(a),cl("collection","path",b),a instanceof q$){let d=ch.fromString(b,...c);return co(d),new q2(a,null,d)}{if(!(a instanceof q1)&&!(a instanceof q2))throw new bX(bJ,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let d=a._path.child(ch.fromString(b,...c));return co(d),new q2(a.firestore,null,d)}}function q4(a,b,...c){if(a=O(a),1==arguments.length&&(b=b7.newId()),cl("doc","path",b),a instanceof q$){let d=ch.fromString(b,...c);return cn(d),new q1(a,null,new ck(d))}{if(!(a instanceof q1)&&!(a instanceof q2))throw new bX(bJ,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let d=a._path.child(ch.fromString(b,...c));return cn(d),new q1(a.firestore,a instanceof q2?a.converter:null,new ck(d))}}function q5(a,b){return a=O(a),b=O(b),a instanceof q0&&b instanceof q0&&a.firestore===b.firestore&&gS(a._query,b._query)&&a.converter===b.converter}let q6="AsyncQueue";class q7{constructor(a=Promise.resolve()){this.retryableOps=[],this._isShuttingDown=!1,this.delayedOperations=[],this.failure=null,this.operationInProgress=!1,this.skipNonRestrictedTasks=!1,this.timerIdsToSkip=[],this.backoff=new nY(this,"async_queue_retry"),this.visibilityHandler=()=>{this.backoff.skipBackoff()},this.tail=a}get isShuttingDown(){return this._isShuttingDown}enqueueAndForget(a){this.enqueue(a)}enqueueAndForgetEvenWhileRestricted(a){this.verifyNotFailed(),this.enqueueInternal(a)}enterRestrictedMode(a){this._isShuttingDown||(this._isShuttingDown=!0,this.skipNonRestrictedTasks=a||!1)}enqueue(a){if(this.verifyNotFailed(),this._isShuttingDown)return new Promise(()=>{});let b=new bY;return this.enqueueInternal(()=>this._isShuttingDown&&this.skipNonRestrictedTasks?Promise.resolve():(a().then(b.resolve,b.reject),b.promise)).then(()=>b.promise)}enqueueRetryable(a){this.enqueueAndForget(()=>(this.retryableOps.push(a),this.retryNextOp()))}async retryNextOp(){if(0!==this.retryableOps.length){try{await this.retryableOps[0](),this.retryableOps.shift(),this.backoff.reset()}catch(a){if(c$(a))by(q6,"Operation failed with retryable error: "+a);else throw a}this.retryableOps.length>0&&this.backoff.backoffAndRun(()=>this.retryNextOp())}}enqueueInternal(a){let b=this.tail.then(()=>(this.operationInProgress=!0,a().catch(a=>{throw this.failure=a,this.operationInProgress=!1,bz("INTERNAL UNHANDLED ERROR: ",q8(a)),a}).then(a=>(this.operationInProgress=!1,a))));return this.tail=b,b}enqueueAfterDelay(a,b,c){this.verifyNotFailed(),this.timerIdsToSkip.indexOf(a)>-1&&(b=0);let d=oS.createAndSchedule(this,a,b,c,a=>this.removeDelayedOperation(a));return this.delayedOperations.push(d),d}verifyNotFailed(){this.failure&&bC(47125,{messageOrStack:q8(this.failure)})}verifyOperationInProgress(){}async drain(){let a;do a=this.tail,await a;while(a!==this.tail)}containsDelayedOperation(a){for(let b of this.delayedOperations)if(b.timerId===a)return!0;return!1}runAllDelayedOperationsUntil(a){return this.drain().then(()=>{for(let b of(this.delayedOperations.sort((a,b)=>a.targetTimeMs-b.targetTimeMs),this.delayedOperations))if(b.skipDelay(),"all"!==a&&b.timerId===a)break;return this.drain()})}skipDelaysForTimerId(a){this.timerIdsToSkip.push(a)}removeDelayedOperation(a){let b=this.delayedOperations.indexOf(a);this.delayedOperations.splice(b,1)}}function q8(a){let b=a.message||"";return a.stack&&(b=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),b}class q9{constructor(){this._progressObserver={},this._taskCompletionResolver=new bY,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(a,b,c){this._progressObserver={next:a,error:b,complete:c}}catch(a){return this._taskCompletionResolver.promise.catch(a)}then(a,b){return this._taskCompletionResolver.promise.then(a,b)}_completeWith(a){this._updateProgress(a),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(a)}_failWith(a){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(a),this._taskCompletionResolver.reject(a)}_updateProgress(a){this._lastProgress=a,this._progressObserver.next&&this._progressObserver.next(a)}}class ra extends q${constructor(a,b,c,d){super(a,b,c,d),this.type="firestore",this._queue=new q7,this._persistenceKey=d?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let a=this._firestoreClient.terminate();this._queue=new q7(a),this._firestoreClient=void 0,await a}}}function rb(a,b){let c="object"==typeof a?a:aX(),d="string"==typeof a?a:b||eV,e=aK(c,"firestore").getImmediate({identifier:d});if(!e._initialized){let a=s("firestore");a&&q_(e,...a)}return e}function rc(a){if(a._terminated)throw new bX(bQ,"The client has already been terminated.");return a._firestoreClient||rd(a),a._firestoreClient}function rd(a){let b=a._freezeSettings(),c=qS(a._databaseId,a._app?.options.appId||"",a._persistenceKey,a._app?.options.apiKey,b);!a._componentsProvider&&b.localCache?._offlineComponentProvider&&b.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:b.localCache._offlineComponentProvider,_online:b.localCache._onlineComponentProvider}),a._firestoreClient=new qj(a._authCredentials,a._appCheckCredentials,a._queue,c,a._componentsProvider&&re(a._componentsProvider))}function re(a){let b=a?._online.build();return{_offline:a?._offline.build(b),_online:b}}function rf(a,b){let c=rc(a=cs(a,ra)),d=new q9;return qG(c,a._databaseId,b,d),d}function rg(a,b){return qH(rc(a=cs(a,ra)),b).then(b=>b?new q0(a,null,b.query):null)}class rh{constructor(a,b,c){this.alias=a,this.aggregateType=b,this.fieldPath=c}}class ri{constructor(a){this._byteString=a}static fromBase64String(a){try{return new ri(eF.fromBase64String(a))}catch(a){throw new bX(bJ,"Failed to construct data from Base64 string: "+a)}}static fromUint8Array(a){return new ri(eF.fromUint8Array(a))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(a){return this._byteString.isEqual(a._byteString)}toJSON(){return{type:ri._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(a){if(cv(a,ri._jsonSchema))return ri.fromBase64String(a.bytes)}}ri._jsonSchemaVersion="firestore/bytes/1.0",ri._jsonSchema={type:cu("string",ri._jsonSchemaVersion),bytes:cu("string")};class rj{constructor(...a){for(let b=0;b<a.length;++b)if(0===a[b].length)throw new bX(bJ,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cj(a)}isEqual(a){return this._internalPath.isEqual(a._internalPath)}}class rk{constructor(a){this._methodName=a}}class rl{constructor(a,b){if(!isFinite(a)||a<-90||a>90)throw new bX(bJ,"Latitude must be a number between -90 and 90, but was: "+a);if(!isFinite(b)||b<-180||b>180)throw new bX(bJ,"Longitude must be a number between -180 and 180, but was: "+b);this._lat=a,this._long=b}get latitude(){return this._lat}get longitude(){return this._long}isEqual(a){return this._lat===a._lat&&this._long===a._long}_compareTo(a){return b8(this._lat,a._lat)||b8(this._long,a._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:rl._jsonSchemaVersion}}static fromJSON(a){if(cv(a,rl._jsonSchema))return new rl(a.latitude,a.longitude)}}rl._jsonSchemaVersion="firestore/geoPoint/1.0",rl._jsonSchema={type:cu("string",rl._jsonSchemaVersion),latitude:cu("number"),longitude:cu("number")};class rm{constructor(a){this._values=(a||[]).map(a=>a)}toArray(){return this._values.map(a=>a)}isEqual(a){return mB(this._values,a._values)}toJSON(){return{type:rm._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(a){if(cv(a,rm._jsonSchema)){if(Array.isArray(a.vectorValues)&&a.vectorValues.every(a=>"number"==typeof a))return new rm(a.vectorValues);throw new bX(bJ,"Expected 'vectorValues' field to be a number array")}}}rm._jsonSchemaVersion="firestore/vectorValue/1.0",rm._jsonSchema={type:cu("string",rm._jsonSchemaVersion),vectorValues:cu("object")};let rn=/^__.*__$/;class ro{constructor(a,b,c){this.data=a,this.fieldMask=b,this.fieldTransforms=c}toMutation(a,b){return null!==this.fieldMask?new hN(a,this.data,this.fieldMask,b,this.fieldTransforms):new hK(a,this.data,b,this.fieldTransforms)}}class rp{constructor(a,b,c){this.data=a,this.fieldMask=b,this.fieldTransforms=c}toMutation(a,b){return new hN(a,this.data,this.fieldMask,b,this.fieldTransforms)}}function rq(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bC(40011,{dataSource:a})}}class rr{constructor(a,b,c,d,e,f){this.settings=a,this.databaseId=b,this.serializer=c,this.ignoreUndefinedProperties=d,void 0===e&&this.validatePath(),this.fieldTransforms=e||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(a){return new rr({...this.settings,...a},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(a){let b=this.path?.child(a),c=this.contextWith({path:b,arrayElement:!1});return c.validatePathSegment(a),c}childContextForFieldPath(a){let b=this.path?.child(a),c=this.contextWith({path:b,arrayElement:!1});return c.validatePath(),c}childContextForArray(a){return this.contextWith({path:void 0,arrayElement:!0})}createError(a){return rL(a,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(a){return void 0!==this.fieldMask.find(b=>a.isPrefixOf(b))||void 0!==this.fieldTransforms.find(b=>a.isPrefixOf(b.field))}validatePath(){if(this.path)for(let a=0;a<this.path.length;a++)this.validatePathSegment(this.path.get(a))}validatePathSegment(a){if(0===a.length)throw this.createError("Document fields must not be empty");if(rq(this.dataSource)&&rn.test(a))throw this.createError('Document fields cannot begin and end with "__"')}}class rs{constructor(a,b,c){this.databaseId=a,this.ignoreUndefinedProperties=b,this.serializer=c||nT(a)}createContext(a,b,c,d=!1){return new rr({dataSource:a,methodName:b,targetDoc:c,path:cj.emptyPath(),arrayElement:!1,hasConverter:d},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rt(a){let b=a._freezeSettings(),c=nT(a._databaseId);return new rs(a._databaseId,!!b.ignoreUndefinedProperties,c)}function ru(a,b,c,d,e,f={}){let g,h,i=a.createContext(f.merge||f.mergeFields?2:0,b,c,e);rH("Data must be an object, but it was:",i,d);let j=rB(d,i);if(f.merge)g=new eC(i.fieldMask),h=i.fieldTransforms;else if(f.mergeFields){let a=[];for(let d of f.mergeFields){let e=rI(b,d,c);if(!i.contains(e))throw new bX(bJ,`Field '${e}' is specified in your field mask but missing from your input data.`);rM(a,e)||a.push(e)}g=new eC(a),h=i.fieldTransforms.filter(a=>g.covers(a.field))}else g=null,h=i.fieldTransforms;return new ro(new fO(j),g,h)}class rv extends rk{_toFieldTransform(a){if(2===a.dataSource)a.fieldMask.push(a.path);else if(1===a.dataSource)throw a.createError(`${this._methodName}() can only appear at the top level of your update data`);else throw a.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return null}isEqual(a){return a instanceof rv}}class rw extends rk{constructor(a,b){super(a),this._operand=b}_toFieldTransform(a){let b=new hu(a.serializer,hj(a.serializer,this._operand));return new hy(a.path,b)}isEqual(a){return a instanceof rw&&this._operand===a._operand}}function rx(a,b,c,d){let e=a.createContext(1,b,c);rH("Data must be an object, but it was:",e,d);let f=[],g=fO.empty();return er(d,(a,d)=>{let h=rK(b,a,c);d=O(d);let i=e.childContextForFieldPath(h);if(d instanceof rv)f.push(h);else{let a=rA(d,i);null!=a&&(f.push(h),g.set(h,a))}}),new rp(g,new eC(f),e.fieldTransforms)}function ry(a,b,c,d,e,f){let g=a.createContext(1,b,c),h=[rI(b,d,c)],i=[e];if(f.length%2!=0)throw new bX(bJ,`Function ${b}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let a=0;a<f.length;a+=2)h.push(rI(b,f[a])),i.push(f[a+1]);let j=[],k=fO.empty();for(let a=h.length-1;a>=0;--a)if(!rM(j,h[a])){let b=h[a],c=i[a];c=O(c);let d=g.childContextForFieldPath(b);if(c instanceof rv)j.push(b);else{let a=rA(c,d);null!=a&&(j.push(b),k.set(b,a))}}return new rp(k,new eC(j),g.fieldTransforms)}function rz(a,b,c,d=!1){return rA(c,a.createContext(d?4:3,b))}function rA(a,b){if(rG(a=O(a)))return rH("Unsupported field value:",b,a),rB(a,b);if(a instanceof rk)return rD(a,b),null;if(void 0===a&&b.ignoreUndefinedProperties)return null;if(b.path&&b.fieldMask.push(b.path),!(a instanceof Array))return rE(a,b);if(b.settings.arrayElement&&4!==b.dataSource)throw b.createError("Nested arrays are not supported");return rC(a,b)}function rB(a,b){let c={};return et(a)?b.path&&b.path.length>0&&b.fieldMask.push(b.path):er(a,(a,d)=>{let e=rA(d,b.childContextForField(a));null!=e&&(c[a]=e)}),{mapValue:{fields:c}}}function rC(a,b){let c=[],d=0;for(let e of a){let a=rA(e,b.childContextForArray(d));null==a&&(a={nullValue:"NULL_VALUE"}),c.push(a),d++}return{arrayValue:{values:c}}}function rD(a,b){if(!rq(b.dataSource))throw b.createError(`${a._methodName}() can only be used with update() and set()`);if(!b.path)throw b.createError(`${a._methodName}() is not currently supported inside arrays`);let c=a._toFieldTransform(b);c&&b.fieldTransforms.push(c)}function rE(a,b){if(null===(a=O(a)))return{nullValue:"NULL_VALUE"};if("number"==typeof a)return hj(b.serializer,a);if("boolean"==typeof a)return{booleanValue:a};if("string"==typeof a)return{stringValue:a};if(a instanceof Date){let c=cy.fromDate(a);return{timestampValue:ix(b.serializer,c)}}else if(a instanceof cy){let c=new cy(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ix(b.serializer,c)}}else if(a instanceof rl)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};else if(a instanceof ri)return{bytesValue:iz(b.serializer,a._byteString)};else if(a instanceof q1){let c=b.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw b.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:iD(a.firestore._databaseId||b.databaseId,a._key.path)}}else if(a instanceof rm)return rF(a,b);else if(jD(a))return a._toProto(b.serializer);else throw b.createError(`Unsupported field value: ${cq(a)}`)}function rF(a,b){return{mapValue:{fields:{[e0]:{stringValue:e3},[e4]:{arrayValue:{values:(a instanceof rm?a.toArray():a).map(a=>{if("number"!=typeof a)throw b.createError("VectorValues must only contain numeric values.");return hh(b.serializer,a)})}}}}}}function rG(a){return"object"==typeof a&&null!==a&&!(a instanceof Array)&&!(a instanceof Date)&&!(a instanceof cy)&&!(a instanceof rl)&&!(a instanceof ri)&&!(a instanceof q1)&&!(a instanceof rk)&&!(a instanceof rm)&&!jD(a)}function rH(a,b,c){if(!rG(c)||!cp(c)){let d=cq(c);if("an object"===d)throw b.createError(a+" a custom object");throw b.createError(a+" "+d)}}function rI(a,b,c){if((b=O(b))instanceof rj)return b._internalPath;if("string"==typeof b)return rK(a,b);throw rL("Field path arguments must be of type string or ",a,!1,void 0,c)}let rJ=RegExp("[~\\*/\\[\\]]");function rK(a,b,c){if(b.search(rJ)>=0)throw rL(`Invalid field path (${b}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,c);try{return new rj(...b.split("."))._internalPath}catch(d){throw rL(`Invalid field path (${b}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,c)}}function rL(a,b,c,d,e){let f=d&&!d.isEmpty(),g=void 0!==e,h=`Function ${b}() called with invalid data`;c&&(h+=" (via `toFirestore()`)"),h+=". ";let i="";return(f||g)&&(i+=" (found",f&&(i+=` in field ${d}`),g&&(i+=` in document ${e}`),i+=")"),new bX(bJ,h+a+i)}function rM(a,b){return a.some(a=>a.isEqual(b))}class rN{convertValue(a,b="none"){switch(e6(a)){case 0:return null;case 1:return a.booleanValue;case 2:return eK(a.integerValue||a.doubleValue);case 3:return this.convertTimestamp(a.timestampValue);case 4:return this.convertServerTimestamp(a,b);case 5:return a.stringValue;case 6:return this.convertBytes(eL(a.bytesValue));case 7:return this.convertReference(a.referenceValue);case 8:return this.convertGeoPoint(a.geoPointValue);case 9:return this.convertArray(a.arrayValue,b);case 11:return this.convertObject(a.mapValue,b);case 10:return this.convertVectorValue(a.mapValue);default:throw bC(62114,{value:a})}}convertObject(a,b){return this.convertObjectMap(a.fields,b)}convertObjectMap(a,b="none"){let c={};return er(a,(a,d)=>{c[a]=this.convertValue(d,b)}),c}convertVectorValue(a){return new rm(a.fields?.[e4].arrayValue?.values?.map(a=>eK(a.doubleValue)))}convertGeoPoint(a){return new rl(eK(a.latitude),eK(a.longitude))}convertArray(a,b){return(a.values||[]).map(a=>this.convertValue(a,b))}convertServerTimestamp(a,b){switch(b){case"previous":let c=eS(a);if(null==c)return null;return this.convertValue(c,b);case"estimate":return this.convertTimestamp(eT(a));default:return null}}convertTimestamp(a){let b=eJ(a);return new cy(b.seconds,b.nanos)}convertDocumentKey(a,b){let c=ch.fromString(a);bE(jC(c),9688,{name:a});let d=new eW(c.get(1),c.get(3)),e=new ck(c.popFirst(5));return d.isEqual(b)||bz(`Document ${e} contains a document reference within a different database (${d.projectId}/${d.database}) which is not supported. It will be treated as a reference in the current database (${b.projectId}/${b.database}) instead.`),e}}class rO extends rN{constructor(a){super(),this.firestore=a}convertBytes(a){return new ri(a)}convertReference(a){let b=this.convertDocumentKey(a,this.firestore._databaseId);return new q1(this.firestore,null,b)}}function rP(a){return new rw("increment",a)}let rQ="@firebase/firestore",rR="4.10.0";function rS(a,b=!0){bu(aU),aJ(new P("firestore",(a,{instanceIdentifier:c,options:d})=>{let e=a.getProvider("app").getImmediate(),f=new ra(new b0(a.getProvider("auth-internal")),new b4(e,a.getProvider("app-check-internal")),eX(e,c),e);return d={useFetchStreams:b,...d},f._setSettings(d),f},"PUBLIC").setMultipleInstances(!0)),a$(rQ,rR,a),a$(rQ,rR,"esm2020")}class rT{constructor(a="count",b){this._internalFieldPath=b,this.type="AggregateField",this.aggregateType=a}}class rU{constructor(a,b,c){this._userDataWriter=b,this._data=c,this.type="AggregateQuerySnapshot",this.query=a}data(){return this._userDataWriter.convertObjectMap(this._data)}_fieldsProto(){return new fO({mapValue:{fields:this._data}}).clone().value.mapValue.fields}}class rV{constructor(a,b,c,d,e){this._firestore=a,this._userDataWriter=b,this._key=c,this._document=d,this._converter=e}get id(){return this._key.path.lastSegment()}get ref(){return new q1(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(!this._converter)return this._userDataWriter.convertValue(this._document.data.value);{let a=new rW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(a)}}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(a){if(this._document){let b=this._document.data.field(rI("DocumentSnapshot.get",a));if(null!==b)return this._userDataWriter.convertValue(b)}}}class rW extends rV{data(){return super.data()}}function rX(a){if("L"===a.limitType&&0===a.explicitOrderBy.length)throw new bX(bT,"limitToLast() queries require specifying at least one orderBy() clause")}class rY{}class rZ extends rY{}function r$(a,b,...c){let d=[];for(let e of(b instanceof rY&&d.push(b),sr(d=d.concat(c)),d))a=e._apply(a);return a}class r_ extends rZ{constructor(a,b,c){super(),this._field=a,this._op=b,this._value=c,this.type="where"}static _create(a,b,c){return new r_(a,b,c)}_apply(a){let b=this._parse(a);return sn(a._query,b),new q0(a.firestore,a.converter,gN(a._query,b))}_parse(a){let b=rt(a.firestore);return sg(a._query,"where",b,a.firestore._databaseId,this._field,this._op,this._value)}}function r0(a,b,c){let d=b,e=rI("where",a);return r_._create(e,d,c)}class r1 extends rY{constructor(a,b){super(),this.type=a,this._queryConstraints=b}static _create(a,b){return new r1(a,b)}_parse(a){let b=this._queryConstraints.map(b=>b._parse(a)).filter(a=>a.getFilters().length>0);return 1===b.length?b[0]:f1.create(b,this._getOperator())}_apply(a){let b=this._parse(a);return 0===b.getFilters().length?a:(so(a._query,b),new q0(a.firestore,a.converter,gN(a._query,b)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function r2(...a){return a.forEach(a=>sq("or",a)),r1._create("or",a)}function r3(...a){return a.forEach(a=>sq("and",a)),r1._create("and",a)}class r4 extends rZ{constructor(a,b){super(),this._field=a,this._direction=b,this.type="orderBy"}static _create(a,b){return new r4(a,b)}_apply(a){let b=sh(a._query,this._field,this._direction);return new q0(a.firestore,a.converter,gO(a._query,b))}}function r5(a,b="asc"){let c=b,d=rI("orderBy",a);return r4._create(d,c)}class r6 extends rZ{constructor(a,b,c){super(),this.type=a,this._limit=b,this._limitType=c}static _create(a,b,c){return new r6(a,b,c)}_apply(a){return new q0(a.firestore,a.converter,gP(a._query,this._limit,this._limitType))}}function r7(a){return ct("limit",a),r6._create("limit",a,"F")}function r8(a){return ct("limitToLast",a),r6._create("limitToLast",a,"L")}class r9 extends rZ{constructor(a,b,c){super(),this.type=a,this._docOrFields=b,this._inclusive=c}static _create(a,b,c){return new r9(a,b,c)}_apply(a){let b=sf(a,this.type,this._docOrFields,this._inclusive);return new q0(a.firestore,a.converter,gQ(a._query,b))}}function sa(...a){return r9._create("startAt",a,!0)}function sb(...a){return r9._create("startAfter",a,!1)}class sc extends rZ{constructor(a,b,c){super(),this.type=a,this._docOrFields=b,this._inclusive=c}static _create(a,b,c){return new sc(a,b,c)}_apply(a){let b=sf(a,this.type,this._docOrFields,this._inclusive);return new q0(a.firestore,a.converter,gR(a._query,b))}}function sd(...a){return sc._create("endBefore",a,!1)}function se(...a){return sc._create("endAt",a,!0)}function sf(a,b,c,d){if(c[0]=O(c[0]),c[0]instanceof rV)return si(a._query,a.firestore._databaseId,b,c[0]._document,d);{let e=rt(a.firestore);return sj(a._query,a.firestore._databaseId,e,b,c,d)}}function sg(a,b,c,d,e,f,g){let h;if(e.isKeyField())if("array-contains"===f||"array-contains-any"===f)throw new bX(bJ,`Invalid Query. You can't perform '${f}' queries on documentId().`);else if("in"===f||"not-in"===f){sl(g,f);let b=[];for(let c of g)b.push(sk(d,a,c));h={arrayValue:{values:b}}}else h=sk(d,a,g);else("in"===f||"not-in"===f||"array-contains-any"===f)&&sl(g,f),h=rz(c,b,g,"in"===f||"not-in"===f);return f0.create(e,f,h)}function sh(a,b,c){if(null!==a.startAt)throw new bX(bJ,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==a.endAt)throw new bX(bJ,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fX(b,c)}function si(a,b,c,d,e){if(!d)throw new bX(bL,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);let f=[];for(let c of gJ(a))if(c.field.isKeyField())f.push(fy(b,d.key));else{let a=d.data.field(c.field);if(eQ(a))throw new bX(bJ,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null!==a)f.push(a);else{let a=c.field.canonicalString();throw new bX(bJ,`Invalid query. You are trying to start or end a query using a document for which the field '${a}' (used as the orderBy) does not exist.`)}}return new fS(f,e)}function sj(a,b,c,d,e,f){let g=a.explicitOrderBy;if(e.length>g.length)throw new bX(bJ,`Too many arguments provided to ${d}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let h=[];for(let f=0;f<e.length;f++){let i=e[f];if(g[f].field.isKeyField()){if("string"!=typeof i)throw new bX(bJ,`Invalid query. Expected a string for document ID in ${d}(), but got a ${typeof i}`);if(!gI(a)&&-1!==i.indexOf("/"))throw new bX(bJ,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${d}() must be a plain document ID, but '${i}' contains a slash.`);let c=a.path.child(ch.fromString(i));if(!ck.isDocumentKey(c))throw new bX(bJ,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${d}() must result in a valid document path, but '${c}' is not because it contains an odd number of segments.`);let e=new ck(c);h.push(fy(b,e))}else{let a=rz(c,d,i);h.push(a)}}return new fS(h,f)}function sk(a,b,c){if("string"==typeof(c=O(c))){if(""===c)throw new bX(bJ,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gI(b)&&-1!==c.indexOf("/"))throw new bX(bJ,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${c}' contains a '/' character.`);let d=b.path.child(ch.fromString(c));if(!ck.isDocumentKey(d))throw new bX(bJ,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${d}' is not because it has an odd number of segments (${d.length}).`);return fy(a,new ck(d))}if(c instanceof q1)return fy(a,c._key);throw new bX(bJ,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cq(c)}.`)}function sl(a,b){if(!Array.isArray(a)||0===a.length)throw new bX(bJ,`Invalid Query. A non-empty array is required for '${b.toString()}' filters.`)}function sm(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}function sn(a,b){let c=sp(a.filters,sm(b.op));if(null!==c)if(c===b.op)throw new bX(bJ,`Invalid query. You cannot use more than one '${b.op.toString()}' filter.`);else throw new bX(bJ,`Invalid query. You cannot use '${b.op.toString()}' filters with '${c.toString()}' filters.`)}function so(a,b){let c=a;for(let a of b.getFlattenedFilters())sn(c,a),c=gN(c,a)}function sp(a,b){for(let c of a)for(let a of c.getFlattenedFilters())if(b.indexOf(a.op)>=0)return a.op;return null}function sq(a,b){if(!(b instanceof r_)&&!(b instanceof r1))throw new bX(bJ,`Function ${a}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}function sr(a){let b=a.filter(a=>a instanceof r1).length,c=a.filter(a=>a instanceof r_).length;if(b>1||b>0&&c>0)throw new bX(bJ,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}function ss(a,b,c){return a?c&&(c.merge||c.mergeFields)?a.toFirestore(b,c):a.toFirestore(b):b}class st extends rN{constructor(a){super(),this.firestore=a}convertBytes(a){return new ri(a)}convertReference(a){let b=this.convertDocumentKey(a,this.firestore._databaseId);return new q1(this.firestore,null,b)}}function su(a){return new rT("sum",rI("sum",a))}function sv(a){return new rT("avg",rI("average",a))}function sw(){return new rT("count")}function sx(a,b){return a instanceof rT&&b instanceof rT&&a.aggregateType===b.aggregateType&&a._internalFieldPath?.canonicalString()===b._internalFieldPath?.canonicalString()}function sy(a,b){return q5(a.query,b.query)&&M(a.data(),b.data())}function sz(a){return sA(a,{count:sw()})}function sA(a,b){let c=cs(a.firestore,ra),d=rc(c),e=es(b,(a,b)=>new rh(b,a.aggregateType,a._internalFieldPath));return qy(d,a._query,e).then(b=>sB(c,a,b))}function sB(a,b,c){return new rU(b,new rO(a),c)}class sC{constructor(a){this.kind="memory",this._onlineComponentProvider=p2.provider,a?.garbageCollector?this._offlineComponentProvider=a.garbageCollector._offlineComponentProvider:this._offlineComponentProvider={build:()=>new p_(void 0)}}toJSON(){return{kind:this.kind}}}class sD{constructor(a){let b;this.kind="persistent",a?.tabManager?(a.tabManager._initialize(a),b=a.tabManager):(b=sM(void 0))._initialize(a),this._onlineComponentProvider=b._onlineComponentProvider,this._offlineComponentProvider=b._offlineComponentProvider}toJSON(){return{kind:this.kind}}}class sE{constructor(){this.kind="memoryEager",this._offlineComponentProvider=p$.provider}toJSON(){return{kind:this.kind}}}class sF{constructor(a){this.kind="memoryLru",this._offlineComponentProvider={build:()=>new p_(a)}}toJSON(){return{kind:this.kind}}}function sG(){return new sE}function sH(a){return new sF(a?.cacheSizeBytes)}function sI(a){return new sC(a)}function sJ(a){return new sD(a)}class sK{constructor(a){this.forceOwnership=a,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(a){this._onlineComponentProvider=p2.provider,this._offlineComponentProvider={build:b=>new p0(b,a?.cacheSizeBytes,this.forceOwnership)}}}class sL{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(a){this._onlineComponentProvider=p2.provider,this._offlineComponentProvider={build:b=>new p1(b,a?.cacheSizeBytes)}}}function sM(a){return new sK(a?.forceOwnership)}function sN(){return new sL}let sO=h5();function sP(a){let b=JSON.stringify(a),c=sO.encode(b).byteLength;return`${c}${b}`}sP({metadata:{id:"test-bundle",createTime:{seconds:0x5e0be105,nanos:6},version:1,totalDocuments:1,totalBytes:416}}),sP({documentMetadata:{name:"projects/test-project/databases/(default)/documents/collectionId/doc1",readTime:{seconds:5,nanos:6},exists:!0}}),sP({document:{name:"projects/test-project/databases/(default)/documents/collectionId/doc1",createTime:{seconds:1,nanos:2e6},updateTime:{seconds:3,nanos:4e3},fields:{foo:{stringValue:"value"},bar:{integerValue:-42}}}}),sP({documentMetadata:{name:"projects/test-project/databases/(default)/documents/collectionId/doc2",readTime:{seconds:5,nanos:6},exists:!0}}),sP({document:{name:"projects/test-project/databases/(default)/documents/collectionId/doc2",createTime:{seconds:1,nanos:2e6},updateTime:{seconds:3,nanos:4e3},fields:{foo:{stringValue:"value1"},bar:{integerValue:42},emptyArray:{arrayValue:{}},emptyMap:{mapValue:{}}}}}),sP({documentMetadata:{name:"projects/test-project/databases/(default)/documents/collectionId/nodoc",readTime:{seconds:5,nanos:6},exists:!1}}),sP({namedQuery:{name:"limitQuery",bundledQuery:{parent:"projects/fireeats-97d5e/databases/(default)/documents",structuredQuery:{from:[{collectionId:"node_3.7.5_7Li7XoCjutvNxwD0tpo9"}],orderBy:[{field:{fieldPath:"sort"},direction:"DESCENDING"}],limit:{value:1}},limitType:"FIRST"},readTime:{seconds:0x5ec5a5f3,nanos:191164e3}}}),sP({namedQuery:{name:"limitToLastQuery",bundledQuery:{parent:"projects/fireeats-97d5e/databases/(default)/documents",structuredQuery:{from:[{collectionId:"node_3.7.5_7Li7XoCjutvNxwD0tpo9"}],orderBy:[{field:{fieldPath:"sort"},direction:"ASCENDING"}],limit:{value:1}},limitType:"LAST"},readTime:{seconds:0x5ec5a5f3,nanos:543063e3}}});let sQ=1;class sR{constructor(a,b){this.firestore=a,this.bundleId=b,this.documents=new Map,this.namedQueries=new Map,this.latestReadTime=new cy(0,0),this.databaseId=a._databaseId,this.serializer=new it(this.databaseId,!0),this.userDataReader=new rs(this.databaseId,!0,this.serializer)}addBundleDocument(a,b){let c=this.documents.get(a.documentPath),d=c?.metadata.queries,e=a.readTime,f=c?.metadata.readTime?iy(c.metadata.readTime):null,g=!e&&null==f,h=void 0!==e&&(null==f||f<e);if((g||h)&&this.documents.set(a.documentPath,{document:this.toBundleDocument(a),metadata:{name:iG(this.serializer,a.documentKey),readTime:e?ix(this.serializer,e):void 0,exists:a.documentExists}}),e&&e>this.latestReadTime&&(this.latestReadTime=e),b){let c=this.documents.get(a.documentPath);c.metadata.queries=d||[],c.metadata.queries.push(b)}}addBundleQuery(a){if(this.namedQueries.has(a.name))throw Error(`Query name conflict: ${name} has already been added.`);let b=new cy(0,0);for(let c of a.docBundleDataArray)this.addBundleDocument(c,a.name),c.readTime&&c.readTime>b&&(b=c.readTime);let c=i4(this.serializer,gK(a.query)),d={parent:a.parent,structuredQuery:c.queryTarget.structuredQuery};this.namedQueries.set(a.name,{name:a.name,bundledQuery:d,readTime:ix(this.serializer,b)})}toBundleDocument(a){let b=this.userDataReader.createContext(4,"internal toBundledDocument"),c=rB(a.documentData,b);return{name:iG(this.serializer,a.documentKey),fields:c.mapValue.fields,updateTime:ix(this.serializer,a.versionTime),createTime:ix(this.serializer,a.createdTime)}}lengthPrefixedString(a){let b=JSON.stringify(a),c=sO.encode(b).byteLength;return`${c}${b}`}build(){let a="";for(let b of this.namedQueries.values())a+=this.lengthPrefixedString({namedQuery:b});for(let b of this.documents.values()){let c=b.metadata;a+=this.lengthPrefixedString({documentMetadata:c});let d=b.document;d&&(a+=this.lengthPrefixedString({document:d}))}let b={id:this.bundleId,createTime:ix(this.serializer,this.latestReadTime),version:sQ,totalDocuments:this.documents.size,totalBytes:sO.encode(a).length};return this.lengthPrefixedString({metadata:b})+a}}function sS(a,b,c,d){let e=new sR(a,b7.newId());return e.addBundleDocument(sU(d,c,b)),e.build()}function sT(a,b,c,d,e,f,g){let h=[];for(let a=0;a<f.length;a++)h.push(sU(e[a],g[a],f[a]));let i={name:c,query:b,parent:d,docBundleDataArray:h},j=new sR(a,c);return j.addBundleQuery(i),j.build()}function sU(a,b,c){return{documentData:b,documentKey:c.mutableCopy().key,documentPath:a,documentExists:!0,createdTime:c.createTime.toTimestamp(),readTime:c.readTime.toTimestamp(),versionTime:c.version.toTimestamp()}}let sV="NOT SUPPORTED";class sW{constructor(a,b){this.hasPendingWrites=a,this.fromCache=b}isEqual(a){return this.hasPendingWrites===a.hasPendingWrites&&this.fromCache===a.fromCache}}class sX extends rV{constructor(a,b,c,d,e,f){super(a,b,c,d,f),this._firestore=a,this._firestoreImpl=a,this.metadata=e}exists(){return super.exists()}data(a={}){if(this._document){if(!this._converter)return this._userDataWriter.convertValue(this._document.data.value,a.serverTimestamps);{let b=new sZ(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(b,a)}}}get(a,b={}){if(this._document){let c=this._document.data.field(rI("DocumentSnapshot.get",a));if(null!==c)return this._userDataWriter.convertValue(c,b.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new bX(bQ,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let a=this._document,b={};if(b.type=sX._jsonSchemaVersion,b.bundle="",b.bundleSource="DocumentSnapshot",b.bundleName=this._key.toString(),!a||!a.isValidDocument()||!a.isFoundDocument())return b;let c=this._userDataWriter.convertObjectMap(a.data.value.mapValue.fields,"previous");return b.bundle=sS(this._firestore,a,c,this.ref.path),b}}function sY(a,b,c){if(cv(b,sX._jsonSchema)){if(b.bundle===sV)throw new bX(bJ,"The provided JSON object was created in a client environment, which is not supported.");let d=nT(a._databaseId),e=qJ(b.bundle,d),f=e.getElements(),g=new pb(e.getMetadata(),d);for(let a of f)g.addSizedElement(a);let h=g.documents;if(1!==h.length)throw new bX(bJ,`Expected bundle data to contain 1 document, but it contains ${h.length} documents.`);let i=iP(d,h[0].document),j=new ck(ch.fromString(b.bundleName));return new sX(a,new st(a),j,i,new sW(!1,!1),c||null)}}sX._jsonSchemaVersion="firestore/documentSnapshot/1.0",sX._jsonSchema={type:cu("string",sX._jsonSchemaVersion),bundleSource:cu("string","DocumentSnapshot"),bundleName:cu("string"),bundle:cu("string")};class sZ extends sX{data(a={}){return super.data(a)}}class s${constructor(a,b,c,d){this._firestore=a,this._userDataWriter=b,this._snapshot=d,this.metadata=new sW(d.hasPendingWrites,d.fromCache),this.query=c}get docs(){let a=[];return this.forEach(b=>a.push(b)),a}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(a,b){this._snapshot.docs.forEach(c=>{a.call(b,new sZ(this._firestore,this._userDataWriter,c.key,c,new sW(this._snapshot.mutatedKeys.has(c.key),this._snapshot.fromCache),this.query.converter))})}docChanges(a={}){let b=!!a.includeMetadataChanges;if(b&&this._snapshot.excludesMetadataChanges)throw new bX(bJ,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===b||(this._cachedChanges=s0(this,b),this._cachedChangesIncludeMetadataChanges=b),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new bX(bQ,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let a={};a.type=s$._jsonSchemaVersion,a.bundleSource="QuerySnapshot",a.bundleName=b7.newId();let b=this._firestore._databaseId.database,c=this._firestore._databaseId.projectId,d=`projects/${c}/databases/${b}/documents`,e=[],f=[],g=[];return this.docs.forEach(a=>{null!==a._document&&(e.push(a._document),f.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),g.push(a.ref.path))}),a.bundle=sT(this._firestore,this.query._query,a.bundleName,d,g,e,f),a}}function s_(a,b,c){if(cv(b,s$._jsonSchema)){if(b.bundle===sV)throw new bX(bJ,"The provided JSON object was created in a client environment, which is not supported.");let d=nT(a._databaseId),e=qJ(b.bundle,d),f=e.getElements(),g=new pb(e.getMetadata(),d);for(let a of f)g.addSizedElement(a);if(1!==g.queries.length)throw new bX(bJ,`Snapshot data expected 1 query but found ${g.queries.length} queries.`);let h=jV(g.queries[0].bundledQuery),i=g.documents,j=new oU;i.map(a=>{let b=iP(d,a.document);j=j.add(b)});let k=oW.fromInitialDocuments(h,j,he(),!1,!1),l=new q0(a,c||null,h);return new s$(a,new st(a),l,k)}}function s0(a,b){if(a._snapshot.oldDocs.isEmpty()){let b=0;return a._snapshot.docChanges.map(c=>{let d=new sZ(a._firestore,a._userDataWriter,c.doc.key,c.doc,new sW(a._snapshot.mutatedKeys.has(c.doc.key),a._snapshot.fromCache),a.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:b++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(a=>b||3!==a.type).map(b=>{let d=new sZ(a._firestore,a._userDataWriter,b.doc.key,b.doc,new sW(a._snapshot.mutatedKeys.has(b.doc.key),a._snapshot.fromCache),a.query.converter),e=-1,f=-1;return 0!==b.type&&(e=c.indexOf(b.doc.key),c=c.delete(b.doc.key)),1!==b.type&&(f=(c=c.add(b.doc)).indexOf(b.doc.key)),{type:s1(b.type),doc:d,oldIndex:e,newIndex:f}})}}function s1(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bC(61501,{type:a})}}function s2(a,b){return a instanceof sX&&b instanceof sX?a._firestore===b._firestore&&a._key.isEqual(b._key)&&(null===a._document?null===b._document:a._document.isEqual(b._document))&&a._converter===b._converter:a instanceof s$&&b instanceof s$&&a._firestore===b._firestore&&q5(a.query,b.query)&&a.metadata.isEqual(b.metadata)&&a._snapshot.isEqual(b._snapshot)}s$._jsonSchemaVersion="firestore/querySnapshot/1.0",s$._jsonSchema={type:cu("string",s$._jsonSchemaVersion),bundleSource:cu("string","QuerySnapshot"),bundleName:cu("string"),bundle:cu("string")};let s3={maxAttempts:5};function s4(a){if(a.maxAttempts<1)throw new bX(bJ,"Max attempts must be at least 1")}class s5{constructor(a,b){this._firestore=a,this._commitHandler=b,this._mutations=[],this._committed=!1,this._dataReader=rt(a)}set(a,b,c){this._verifyNotCommitted();let d=s6(a,this._firestore),e=ss(d.converter,b,c),f=ru(this._dataReader,"WriteBatch.set",d._key,e,null!==d.converter,c);return this._mutations.push(f.toMutation(d._key,hC.none())),this}update(a,b,c,...d){let e;this._verifyNotCommitted();let f=s6(a,this._firestore);return e="string"==typeof(b=O(b))||b instanceof rj?ry(this._dataReader,"WriteBatch.update",f._key,b,c,d):rx(this._dataReader,"WriteBatch.update",f._key,b),this._mutations.push(e.toMutation(f._key,hC.exists(!0))),this}delete(a){this._verifyNotCommitted();let b=s6(a,this._firestore);return this._mutations=this._mutations.concat(new hT(b._key,hC.none())),this}commit(){return(this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0)?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new bX(bQ,"A write batch can no longer be used after commit() has been called.")}}function s6(a,b){if((a=O(a)).firestore===b)return a;throw new bX(bJ,"Provided document reference is from a different Firestore instance.")}class s7{constructor(a,b){this._firestore=a,this._transaction=b,this._dataReader=rt(a)}get(a){let b=s6(a,this._firestore),c=new st(this._firestore);return this._transaction.lookup([b._key]).then(a=>{if(!a||1!==a.length)return bC(24041);let d=a[0];if(d.isFoundDocument())return new rV(this._firestore,c,d.key,d,b.converter);if(d.isNoDocument())return new rV(this._firestore,c,b._key,null,b.converter);throw bC(18433,{doc:d})})}set(a,b,c){let d=s6(a,this._firestore),e=ss(d.converter,b,c),f=ru(this._dataReader,"Transaction.set",d._key,e,null!==d.converter,c);return this._transaction.set(d._key,f),this}update(a,b,c,...d){let e,f=s6(a,this._firestore);return e="string"==typeof(b=O(b))||b instanceof rj?ry(this._dataReader,"Transaction.update",f._key,b,c,d):rx(this._dataReader,"Transaction.update",f._key,b),this._transaction.update(f._key,e),this}delete(a){let b=s6(a,this._firestore);return this._transaction.delete(b._key),this}}class s8 extends s7{constructor(a,b){super(a,b),this._firestore=a}get(a){let b=s6(a,this._firestore),c=new rO(this._firestore);return super.get(a).then(a=>new sX(this._firestore,c,b._key,a._document,new sW(!1,!1),b.converter))}}function s9(a,b,c){a=cs(a,ra);let d={...s3,...c};return s4(d),qB(rc(a),c=>b(new s8(a,c)),d)}function ta(a){return tb(a,["next","error","complete"])}function tb(a,b){if("object"!=typeof a||null===a)return!1;let c=a;for(let a of b)if(a in c&&"function"==typeof c[a])return!0;return!1}function tc(a){a=cs(a,q1);let b=cs(a.firestore,ra);return qv(rc(b),a._key).then(c=>tq(b,a,c))}function td(a){a=cs(a,q1);let b=cs(a.firestore,ra),c=rc(b),d=new rO(b);return qu(c,a._key).then(c=>new sX(b,d,a._key,c,new sW(null!==c&&c.hasLocalMutations,!0),a.converter))}function te(a){a=cs(a,q1);let b=cs(a.firestore,ra);return qv(rc(b),a._key,{source:"server"}).then(c=>tq(b,a,c))}function tf(a){a=cs(a,q0);let b=cs(a.firestore,ra),c=rc(b),d=new rO(b);return rX(a._query),qx(c,a._query).then(c=>new s$(b,d,a,c))}function tg(a){a=cs(a,q0);let b=cs(a.firestore,ra),c=rc(b),d=new rO(b);return qw(c,a._query).then(c=>new s$(b,d,a,c))}function th(a){a=cs(a,q0);let b=cs(a.firestore,ra),c=rc(b),d=new rO(b);return qx(c,a._query,{source:"server"}).then(c=>new s$(b,d,a,c))}function ti(a,b,c){a=cs(a,q1);let d=cs(a.firestore,ra),e=ss(a.converter,b,c),f=ru(rt(d),"setDoc",a._key,e,null!==a.converter,c).toMutation(a._key,hC.none());return tp(d,[f])}function tj(a,b,c,...d){let e;a=cs(a,q1);let f=cs(a.firestore,ra),g=rt(f);return tp(f,[(e="string"==typeof(b=O(b))||b instanceof rj?ry(g,"updateDoc",a._key,b,c,d):rx(g,"updateDoc",a._key,b)).toMutation(a._key,hC.exists(!0))])}function tk(a){return tp(cs(a.firestore,ra),[new hT(a._key,hC.none())])}function tl(a,b){let c=cs(a.firestore,ra),d=q4(a),e=ss(a.converter,b);return tp(c,[ru(rt(a.firestore),"addDoc",d._key,e,null!==a.converter,{}).toMutation(d._key,hC.exists(!1))]).then(()=>d)}function tm(a,...b){let c,d,e;a=O(a);let f={includeMetadataChanges:!1,source:"default"},g=0;"object"!=typeof b[0]||ta(b[g])||(f=b[g++]);let h={includeMetadataChanges:f.includeMetadataChanges,source:f.source};if(ta(b[g])){let a=b[g];b[g]=a.next?.bind(a),b[g+1]=a.error?.bind(a),b[g+2]=a.complete?.bind(a)}if(a instanceof q1)d=cs(a.firestore,ra),e=gD(a._key.path),c={next:c=>{b[g]&&b[g](tq(d,a,c))},error:b[g+1],complete:b[g+2]};else{let f=cs(a,q0);d=cs(f.firestore,ra),e=f._query;let h=new rO(d);c={next:a=>{b[g]&&b[g](new s$(d,h,f,a))},error:b[g+1],complete:b[g+2]},rX(a._query)}return qt(rc(d),e,h,c)}function tn(a,b,...c){let d,e=O(a),f=tr(b);if(f.error)throw new bX(bJ,f.error);let g=0;if("object"!=typeof c[0]||ta(c[g])||(d=c[g++]),"QuerySnapshot"===f.bundleSource){let a=null;if("object"==typeof c[g]&&ta(c[g])){let b=c[g++];a={next:b.next,error:b.error,complete:b.complete}}else a={next:c[g++],error:c[g++],complete:c[g++]};return tt(e,f,d,a,c[g])}if("DocumentSnapshot"===f.bundleSource){let a=null;if("object"==typeof c[g]&&ta(c[g])){let b=c[g++];a={next:b.next,error:b.error,complete:b.complete}}else a={next:c[g++],error:c[g++],complete:c[g++]};return ts(e,f,d,a,c[g])}throw new bX(bJ,`unsupported bundle source: ${f.bundleSource}`)}function to(a,b){return qA(rc(a=cs(a,ra)),ta(b)?b:{next:b})}function tp(a,b){return qz(rc(a),b)}function tq(a,b,c){let d=c.docs.get(b._key),e=new rO(a);return new sX(a,e,b._key,d,new sW(c.hasPendingWrites,c.fromCache),b.converter)}function tr(a){let b={bundle:"",bundleName:"",bundleSource:""};for(let c of["bundle","bundleName","bundleSource"]){if(!(c in a)){b.error=`snapshotJson missing required field: ${c}`;break}let d=a[c];if("string"!=typeof d){b.error=`snapshotJson field '${c}' must be a string.`;break}if(0===d.length){b.error=`snapshotJson field '${c}' cannot be an empty string.`;break}"bundle"===c?b.bundle=d:"bundleName"===c?b.bundleName=d:"bundleSource"===c&&(b.bundleSource=d)}return b}function ts(a,b,c,d,e){let f,g=!1;return rf(a,b.bundle).then(()=>{g||(f=tm(new q1(a,e||null,ck.fromPath(b.bundleName)),c||{},d))}).catch(a=>(d.error&&d.error(a),()=>{})),()=>{!g&&(g=!0,f&&f())}}function tt(a,b,c,d,e){let f,g=!1;return rf(a,b.bundle).then(()=>rg(a,b.bundleName)).then(a=>{if(a&&!g){let b=a;e&&b.withConverter(e),f=tm(a,c||{},d)}}).catch(a=>(d.error&&d.error(a),()=>{})),()=>{!g&&(g=!0,f&&f())}}function tu(a){return rc(a=cs(a,ra)),new s5(a,b=>tp(a,b))}function tv(a,b){let c=rc(a=cs(a,ra));return c._uninitializedComponentsProvider&&"memory"!==c._uninitializedComponentsProvider._offline.kind?qK(c,tw(b)):(bA("Cannot enable indexes when persistence is disabled"),Promise.resolve())}function tw(a){let b="string"==typeof a?tx(a):a,c=[];if(Array.isArray(b.indexes))for(let a of b.indexes){let b=ty(a,"collectionGroup"),d=[];if(Array.isArray(a.fields))for(let b of a.fields){let a=rK("setIndexConfiguration",ty(b,"fieldPath"));"CONTAINS"===b.arrayConfig?d.push(new cI(a,2)):"ASCENDING"===b.order?d.push(new cI(a,0)):"DESCENDING"===b.order&&d.push(new cI(a,1))}c.push(new cC(cC.UNKNOWN_ID,b,d,cK.empty()))}return c}function tx(a){try{return JSON.parse(a)}catch(a){throw new bX(bJ,"Failed to parse JSON: "+a?.message)}}function ty(a,b){if("string"!=typeof a[b])throw new bX(bJ,"Missing string value for: "+b);return a[b]}class tz{constructor(a){this._firestore=a,this.type="PersistentCacheIndexManager"}}function tA(a){a=cs(a,ra);let b=tF.get(a);if(b)return b;let c=rc(a);if(c._uninitializedComponentsProvider?._offline.kind!=="persistent")return null;let d=new tz(a);return tF.set(a,d),d}function tB(a){tE(a,!0)}function tC(a){tE(a,!1)}function tD(a){qM(rc(a._firestore)).then(a=>by("deleting all persistent cache indexes succeeded")).catch(a=>bA("deleting all persistent cache indexes failed",a))}function tE(a,b){qL(rc(a._firestore),b).then(a=>by(`setting persistent cache index auto creation isEnabled=${b} succeeded`)).catch(a=>bA(`setting persistent cache index auto creation isEnabled=${b} failed`,a))}let tF=new WeakMap;class tG{constructor(){throw Error("instances of this class should not be created")}static onExistenceFilterMismatch(a){return tH.instance.onExistenceFilterMismatch(a)}}class tH{constructor(){this.existenceFilterMismatchCallbacksById=new Map}static get instance(){return tI||h4(tI=new tH),tI}notifyOnExistenceFilterMismatch(a){this.existenceFilterMismatchCallbacksById.forEach(b=>b(a))}onExistenceFilterMismatch(a){let b=Symbol(),c=this.existenceFilterMismatchCallbacksById;return c.set(b,a),()=>c.delete(b)}}let tI=null;rS("node"),a.s(["AggregateField",()=>rT,"AggregateQuerySnapshot",()=>rU,"DocumentSnapshot",()=>sX,"PersistentCacheIndexManager",()=>tz,"QueryCompositeFilterConstraint",()=>r1,"QueryConstraint",()=>rZ,"QueryDocumentSnapshot",()=>sZ,"QueryEndAtConstraint",()=>sc,"QueryFieldFilterConstraint",()=>r_,"QueryLimitConstraint",()=>r6,"QueryOrderByConstraint",()=>r4,"QuerySnapshot",()=>s$,"QueryStartAtConstraint",()=>r9,"SnapshotMetadata",()=>sW,"Transaction",()=>s8,"WriteBatch",()=>s5,"_TestingHooks",()=>tG,"addDoc",()=>tl,"aggregateFieldEqual",()=>sx,"aggregateQuerySnapshotEqual",()=>sy,"and",()=>r3,"average",()=>sv,"count",()=>sw,"deleteAllPersistentCacheIndexes",()=>tD,"deleteDoc",()=>tk,"disablePersistentCacheIndexAutoCreation",()=>tC,"documentSnapshotFromJSON",()=>sY,"enablePersistentCacheIndexAutoCreation",()=>tB,"endAt",()=>se,"endBefore",()=>sd,"executeWrite",()=>tp,"getAggregateFromServer",()=>sA,"getCountFromServer",()=>sz,"getDoc",()=>tc,"getDocFromCache",()=>td,"getDocFromServer",()=>te,"getDocs",()=>tf,"getDocsFromCache",()=>tg,"getDocsFromServer",()=>th,"getPersistentCacheIndexManager",()=>tA,"limit",()=>r7,"limitToLast",()=>r8,"memoryEagerGarbageCollector",()=>sG,"memoryLocalCache",()=>sI,"memoryLruGarbageCollector",()=>sH,"onSnapshot",()=>tm,"onSnapshotResume",()=>tn,"onSnapshotsInSync",()=>to,"or",()=>r2,"orderBy",()=>r5,"persistentLocalCache",()=>sJ,"persistentMultipleTabManager",()=>sN,"persistentSingleTabManager",()=>sM,"query",()=>r$,"querySnapshotFromJSON",()=>s_,"runTransaction",()=>s9,"setDoc",()=>ti,"setIndexConfiguration",()=>tv,"snapshotEqual",()=>s2,"startAfter",()=>sb,"startAt",()=>sa,"sum",()=>su,"updateDoc",()=>tj,"where",()=>r0,"writeBatch",()=>tu],64382),a.s([],45829),a.i(64382),a.s(["Timestamp",()=>cy,"addDoc",()=>tl,"collection",()=>q3,"doc",()=>q4,"getDocs",()=>tf,"getFirestore",()=>rb,"increment",()=>rP,"orderBy",()=>r5,"query",()=>r$,"updateDoc",()=>tj],55199);let tJ={apiKey:"AIzaSyBs15tX_VBrS9IvPN2rbJAbB9nRkDijNgk",authDomain:"aoe4-dashboard.firebaseapp.com",projectId:"aoe4-dashboard",storageBucket:"aoe4-dashboard.firebasestorage.app",messagingSenderId:"1064938687552",appId:"1:1064938687552:web:18becedde33a6557c4a3a5",measurementId:"G-57TVF82TDK"},tK=rb(0===aY().length?aV(tJ):aY()[0]);a.s(["db",()=>tK],26356)},86298,a=>{"use strict";var b=a.i(60686);let c=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),d=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var e=b,f={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let g=(0,e.forwardRef)(({color:a="currentColor",size:b=24,strokeWidth:c=2,absoluteStrokeWidth:g,className:h="",children:i,iconNode:j,...k},l)=>(0,e.createElement)("svg",{ref:l,...f,width:b,height:b,stroke:a,strokeWidth:g?24*Number(c)/Number(b):c,className:d("lucide",h),...k},[...j.map(([a,b])=>(0,e.createElement)(a,b)),...Array.isArray(i)?i:[i]])),h=(a,e)=>{let f=(0,b.forwardRef)(({className:f,...h},i)=>(0,b.createElement)(g,{ref:i,iconNode:e,className:d(`lucide-${c(a)}`,f),...h}));return f.displayName=`${a}`,f};a.s(["default",()=>h],86298)},15048,a=>{"use strict";let b=(0,a.i(86298).default)("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);a.s(["Crown",()=>b],15048)},10623,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.isUnsafeProperty=function(a){return"__proto__"===a}},42658,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.isDeepKey=function(a){switch(typeof a){case"number":case"symbol":return!1;case"string":return a.includes(".")||a.includes("[")||a.includes("]")}}},77502,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.toKey=function(a){return"string"==typeof a||"symbol"==typeof a?a:Object.is(a?.valueOf?.(),-0)?"-0":String(a)}},77918,(a,b,c)=>{"use strict";function d(a){if(null==a)return"";if("string"==typeof a)return a;if(Array.isArray(a))return a.map(d).join(",");let b=String(a);return"0"===b&&Object.is(Number(a),-0)?"-0":b}Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.toString=d},58926,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(77918),e=a.r(77502);c.toPath=function(a){if(Array.isArray(a))return a.map(e.toKey);if("symbol"==typeof a)return[a];a=d.toString(a);let b=[],c=a.length;if(0===c)return b;let f=0,g="",h="",i=!1;for(46===a.charCodeAt(0)&&(b.push(""),f++);f<c;){let d=a[f];h?"\\"===d&&f+1<c?g+=a[++f]:d===h?h="":g+=d:i?'"'===d||"'"===d?h=d:"]"===d?(i=!1,b.push(g),g=""):g+=d:"["===d?(i=!0,g&&(b.push(g),g="")):"."===d?g&&(b.push(g),g=""):g+=d,f++}return g&&b.push(g),b}},13597,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(10623),e=a.r(42658),f=a.r(77502),g=a.r(58926);function h(a,b,c){if(null==a)return c;switch(typeof b){case"string":{if(d.isUnsafeProperty(b))return c;let f=a[b];if(void 0===f)if(e.isDeepKey(b))return h(a,g.toPath(b),c);else return c;return f}case"number":case"symbol":{"number"==typeof b&&(b=f.toKey(b));let d=a[b];if(void 0===d)return c;return d}default:{if(Array.isArray(b))return i(a,b,c);if(b=Object.is(b?.valueOf(),-0)?"-0":String(b),d.isUnsafeProperty(b))return c;let e=a[b];if(void 0===e)return c;return e}}}function i(a,b,c){if(0===b.length)return c;let e=a;for(let a=0;a<b.length;a++){if(null==e||d.isUnsafeProperty(b[a]))return c;e=e[b[a]]}return void 0===e?c:e}c.get=h},14765,(a,b,c)=>{b.exports=a.r(13597).get},81708,(a,b,c)=>{"use strict";var d=a.r(60686);function e(a,b){return a===b&&(0!==a||1/a==1/b)||a!=a&&b!=b}var f="function"==typeof Object.is?Object.is:e,g=d.useSyncExternalStore,h=d.useRef,i=d.useEffect,j=d.useMemo,k=d.useDebugValue;c.useSyncExternalStoreWithSelector=function(a,b,c,d,e){var l=h(null);if(null===l.current){var m={hasValue:!1,value:null};l.current=m}else m=l.current;var n=g(a,(l=j(function(){function a(a){if(!i){if(i=!0,g=a,a=d(a),void 0!==e&&m.hasValue){var b=m.value;if(e(b,a))return h=b}return h=a}if(b=h,f(g,a))return b;var c=d(a);return void 0!==e&&e(b,c)?(g=a,b):(g=a,h=c)}var g,h,i=!1,j=void 0===c?null:c;return[function(){return a(b())},null===j?void 0:function(){return a(j())}]},[b,c,d,e]))[0],l[1]);return i(function(){m.hasValue=!0,m.value=n},[n]),k(n),n}},75808,(a,b,c)=>{"use strict";b.exports=a.r(81708)},45178,(a,b,c)=>{"use strict";var d=a.r(60686);d.useState,d.useEffect,d.useLayoutEffect,d.useDebugValue;var e=function(a,b){return b()};c.useSyncExternalStore=void 0!==d.useSyncExternalStore?d.useSyncExternalStore:e},21230,(a,b,c)=>{"use strict";b.exports=a.r(45178)},23983,(a,b,c)=>{"use strict";var d=a.r(60686),e=a.r(21230);function f(a,b){return a===b&&(0!==a||1/a==1/b)||a!=a&&b!=b}var g="function"==typeof Object.is?Object.is:f,h=e.useSyncExternalStore,i=d.useRef,j=d.useEffect,k=d.useMemo,l=d.useDebugValue;c.useSyncExternalStoreWithSelector=function(a,b,c,d,e){var f=i(null);if(null===f.current){var m={hasValue:!1,value:null};f.current=m}else m=f.current;var n=h(a,(f=k(function(){function a(a){if(!i){if(i=!0,f=a,a=d(a),void 0!==e&&m.hasValue){var b=m.value;if(e(b,a))return h=b}return h=a}if(b=h,g(f,a))return b;var c=d(a);return void 0!==e&&e(b,c)?(f=a,b):(f=a,h=c)}var f,h,i=!1,j=void 0===c?null:c;return[function(){return a(b())},null===j?void 0:function(){return a(j())}]},[b,c,d,e]))[0],f[1]);return j(function(){m.hasValue=!0,m.value=n},[n]),l(n),n}},60150,(a,b,c)=>{"use strict";b.exports=a.r(23983)},41483,(a,b,c)=>{"use strict";function d(a){return"symbol"==typeof a?1:null===a?2:void 0===a?3:4*(a!=a)}Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.compareValues=(a,b,c)=>{if(a!==b){let e=d(a),f=d(b);if(e===f&&0===e){if(a<b)return"desc"===c?1:-1;if(a>b)return"desc"===c?-1:1}return"desc"===c?f-e:e-f}return 0}},36678,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.isSymbol=function(a){return"symbol"==typeof a||a instanceof Symbol}},26637,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(36678),e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,f=/^\w*$/;c.isKey=function(a,b){return!Array.isArray(a)&&(!!("number"==typeof a||"boolean"==typeof a||null==a||d.isSymbol(a))||"string"==typeof a&&(f.test(a)||!e.test(a))||null!=b&&Object.hasOwn(b,a))}},67764,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(41483),e=a.r(26637),f=a.r(58926);c.orderBy=function(a,b,c,g){if(null==a)return[];c=g?void 0:c,Array.isArray(a)||(a=Object.values(a)),Array.isArray(b)||(b=null==b?[null]:[b]),0===b.length&&(b=[null]),Array.isArray(c)||(c=null==c?[]:[c]),c=c.map(a=>String(a));let h=(a,b)=>{let c=a;for(let a=0;a<b.length&&null!=c;++a)c=c[b[a]];return c},i=(a,b)=>null==b||null==a?b:"object"==typeof a&&"key"in a?Object.hasOwn(b,a.key)?b[a.key]:h(b,a.path):"function"==typeof a?a(b):Array.isArray(a)?h(b,a):"object"==typeof b?b[a]:b,j=b.map(a=>(Array.isArray(a)&&1===a.length&&(a=a[0]),null==a||"function"==typeof a||Array.isArray(a)||e.isKey(a))?a:{key:a,path:f.toPath(a)});return a.map(a=>({original:a,criteria:j.map(b=>i(b,a))})).slice().sort((a,b)=>{for(let e=0;e<j.length;e++){let f=d.compareValues(a.criteria[e],b.criteria[e],c[e]);if(0!==f)return f}return 0}).map(a=>a.original)}},73206,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.flatten=function(a,b=1){let c=[],d=Math.floor(b),e=(a,b)=>{for(let f=0;f<a.length;f++){let g=a[f];Array.isArray(g)&&b<d?e(g,b+1):c.push(g)}};return e(a,0),c}},33861,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=/^(?:0|[1-9]\d*)$/;c.isIndex=function(a,b=Number.MAX_SAFE_INTEGER){switch(typeof a){case"number":return Number.isInteger(a)&&a>=0&&a<b;case"symbol":return!1;case"string":return d.test(a)}}},6743,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.isLength=function(a){return Number.isSafeInteger(a)&&a>=0}},26053,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(6743);c.isArrayLike=function(a){return null!=a&&"function"!=typeof a&&d.isLength(a.length)}},49134,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.isObject=function(a){return null!==a&&("object"==typeof a||"function"==typeof a)}},61625,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.isEqualsSameValueZero=function(a,b){return a===b||Number.isNaN(a)&&Number.isNaN(b)}},32799,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(33861),e=a.r(26053),f=a.r(49134),g=a.r(61625);c.isIterateeCall=function(a,b,c){return!!f.isObject(c)&&(!!("number"==typeof b&&e.isArrayLike(c)&&d.isIndex(b))&&b<c.length||"string"==typeof b&&b in c)&&g.isEqualsSameValueZero(c[b],a)}},10313,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(67764),e=a.r(73206),f=a.r(32799);c.sortBy=function(a,...b){let c=b.length;return c>1&&f.isIterateeCall(a,b[0],b[1])?b=[]:c>2&&f.isIterateeCall(b[0],b[1],b[2])&&(b=[b[0]]),d.orderBy(a,e.flatten(b),["asc"])}},30599,(a,b,c)=>{b.exports=a.r(10313).sortBy},52805,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.debounce=function(a,b,{signal:c,edges:d}={}){let e,f=null,g=null!=d&&d.includes("leading"),h=null==d||d.includes("trailing"),i=()=>{null!==f&&(a.apply(e,f),e=void 0,f=null)},j=()=>{h&&i(),n()},k=null,l=()=>{null!=k&&clearTimeout(k),k=setTimeout(()=>{k=null,j()},b)},m=()=>{null!==k&&(clearTimeout(k),k=null)},n=()=>{m(),e=void 0,f=null},o=()=>{i()},p=function(...a){if(c?.aborted)return;e=this,f=a;let b=null==k;l(),g&&b&&i()};return p.schedule=l,p.cancel=n,p.flush=o,c?.addEventListener("abort",n,{once:!0}),p}},54921,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(52805);c.debounce=function(a,b=0,c={}){let e;"object"!=typeof c&&(c={});let{leading:f=!1,trailing:g=!0,maxWait:h}=c,i=[,,];f&&(i[0]="leading"),g&&(i[1]="trailing");let j=null,k=d.debounce(function(...b){e=a.apply(this,b),j=null},b,{edges:i}),l=function(...b){return null!=h&&(null===j&&(j=Date.now()),Date.now()-j>=h)?(e=a.apply(this,b),j=Date.now(),k.cancel(),k.schedule(),e):(k.apply(this,b),e)},m=()=>(k.flush(),e);return l.cancel=k.cancel,l.flush=m,l}},69090,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(54921);c.throttle=function(a,b=0,c={}){let{leading:e=!0,trailing:f=!0}=c;return d.debounce(a,b,{leading:e,maxWait:b,trailing:f})}},19978,(a,b,c)=>{b.exports=a.r(69090).throttle},78477,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(36678);c.toNumber=function(a){return d.isSymbol(a)?NaN:Number(a)}},45798,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(78477);c.toFinite=function(a){return a?(a=d.toNumber(a))===1/0||a===-1/0?(a<0?-1:1)*Number.MAX_VALUE:a==a?a:0:0===a?a:0}},62845,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(32799),e=a.r(45798);c.range=function(a,b,c){c&&"number"!=typeof c&&d.isIterateeCall(a,b,c)&&(b=c=void 0),a=e.toFinite(a),void 0===b?(b=a,a=0):b=e.toFinite(b),c=void 0===c?a<b?1:-1:e.toFinite(c);let f=Math.max(Math.ceil((b-a)/(c||1)),0),g=Array(f);for(let b=0;b<f;b++)g[b]=a,a+=c;return g}},81764,(a,b,c)=>{b.exports=a.r(62845).range},20259,(a,b,c)=>{"use strict";var d=Object.prototype.hasOwnProperty,e="~";function f(){}function g(a,b,c){this.fn=a,this.context=b,this.once=c||!1}function h(a,b,c,d,f){if("function"!=typeof c)throw TypeError("The listener must be a function");var h=new g(c,d||a,f),i=e?e+b:b;return a._events[i]?a._events[i].fn?a._events[i]=[a._events[i],h]:a._events[i].push(h):(a._events[i]=h,a._eventsCount++),a}function i(a,b){0==--a._eventsCount?a._events=new f:delete a._events[b]}function j(){this._events=new f,this._eventsCount=0}Object.create&&(f.prototype=Object.create(null),new f().__proto__||(e=!1)),j.prototype.eventNames=function(){var a,b,c=[];if(0===this._eventsCount)return c;for(b in a=this._events)d.call(a,b)&&c.push(e?b.slice(1):b);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(a)):c},j.prototype.listeners=function(a){var b=e?e+a:a,c=this._events[b];if(!c)return[];if(c.fn)return[c.fn];for(var d=0,f=c.length,g=Array(f);d<f;d++)g[d]=c[d].fn;return g},j.prototype.listenerCount=function(a){var b=e?e+a:a,c=this._events[b];return c?c.fn?1:c.length:0},j.prototype.emit=function(a,b,c,d,f,g){var h=e?e+a:a;if(!this._events[h])return!1;var i,j,k=this._events[h],l=arguments.length;if(k.fn){switch(k.once&&this.removeListener(a,k.fn,void 0,!0),l){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,b),!0;case 3:return k.fn.call(k.context,b,c),!0;case 4:return k.fn.call(k.context,b,c,d),!0;case 5:return k.fn.call(k.context,b,c,d,f),!0;case 6:return k.fn.call(k.context,b,c,d,f,g),!0}for(j=1,i=Array(l-1);j<l;j++)i[j-1]=arguments[j];k.fn.apply(k.context,i)}else{var m,n=k.length;for(j=0;j<n;j++)switch(k[j].once&&this.removeListener(a,k[j].fn,void 0,!0),l){case 1:k[j].fn.call(k[j].context);break;case 2:k[j].fn.call(k[j].context,b);break;case 3:k[j].fn.call(k[j].context,b,c);break;case 4:k[j].fn.call(k[j].context,b,c,d);break;default:if(!i)for(m=1,i=Array(l-1);m<l;m++)i[m-1]=arguments[m];k[j].fn.apply(k[j].context,i)}}return!0},j.prototype.on=function(a,b,c){return h(this,a,b,c,!1)},j.prototype.once=function(a,b,c){return h(this,a,b,c,!0)},j.prototype.removeListener=function(a,b,c,d){var f=e?e+a:a;if(!this._events[f])return this;if(!b)return i(this,f),this;var g=this._events[f];if(g.fn)g.fn!==b||d&&!g.once||c&&g.context!==c||i(this,f);else{for(var h=0,j=[],k=g.length;h<k;h++)(g[h].fn!==b||d&&!g[h].once||c&&g[h].context!==c)&&j.push(g[h]);j.length?this._events[f]=1===j.length?j[0]:j:i(this,f)}return this},j.prototype.removeAllListeners=function(a){var b;return a?(b=e?e+a:a,this._events[b]&&i(this,b)):(this._events=new f,this._eventsCount=0),this},j.prototype.off=j.prototype.removeListener,j.prototype.addListener=j.prototype.on,j.prefixed=e,j.EventEmitter=j,b.exports=j},35818,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.last=function(a){return a[a.length-1]}},23643,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.toArray=function(a){return Array.isArray(a)?a:Array.from(a)}},74999,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(35818),e=a.r(23643),f=a.r(26053);c.last=function(a){if(f.isArrayLike(a))return d.last(e.toArray(a))}},8382,(a,b,c)=>{b.exports=a.r(74999).last},63021,(a,b,c)=>{"use strict";var d="function"==typeof Symbol&&Symbol.for,e=d?Symbol.for("react.element"):60103,f=d?Symbol.for("react.portal"):60106,g=d?Symbol.for("react.fragment"):60107,h=d?Symbol.for("react.strict_mode"):60108,i=d?Symbol.for("react.profiler"):60114,j=d?Symbol.for("react.provider"):60109,k=d?Symbol.for("react.context"):60110,l=d?Symbol.for("react.async_mode"):60111,m=d?Symbol.for("react.concurrent_mode"):60111,n=d?Symbol.for("react.forward_ref"):60112,o=d?Symbol.for("react.suspense"):60113,p=d?Symbol.for("react.suspense_list"):60120,q=d?Symbol.for("react.memo"):60115,r=d?Symbol.for("react.lazy"):60116,s=d?Symbol.for("react.block"):60121,t=d?Symbol.for("react.fundamental"):60117,u=d?Symbol.for("react.responder"):60118,v=d?Symbol.for("react.scope"):60119;function w(a){if("object"==typeof a&&null!==a){var b=a.$$typeof;switch(b){case e:switch(a=a.type){case l:case m:case g:case i:case h:case o:return a;default:switch(a=a&&a.$$typeof){case k:case n:case r:case q:case j:return a;default:return b}}case f:return b}}}function x(a){return w(a)===m}c.AsyncMode=l,c.ConcurrentMode=m,c.ContextConsumer=k,c.ContextProvider=j,c.Element=e,c.ForwardRef=n,c.Fragment=g,c.Lazy=r,c.Memo=q,c.Portal=f,c.Profiler=i,c.StrictMode=h,c.Suspense=o,c.isAsyncMode=function(a){return x(a)||w(a)===l},c.isConcurrentMode=x,c.isContextConsumer=function(a){return w(a)===k},c.isContextProvider=function(a){return w(a)===j},c.isElement=function(a){return"object"==typeof a&&null!==a&&a.$$typeof===e},c.isForwardRef=function(a){return w(a)===n},c.isFragment=function(a){return w(a)===g},c.isLazy=function(a){return w(a)===r},c.isMemo=function(a){return w(a)===q},c.isPortal=function(a){return w(a)===f},c.isProfiler=function(a){return w(a)===i},c.isStrictMode=function(a){return w(a)===h},c.isSuspense=function(a){return w(a)===o},c.isValidElementType=function(a){return"string"==typeof a||"function"==typeof a||a===g||a===m||a===i||a===h||a===o||a===p||"object"==typeof a&&null!==a&&(a.$$typeof===r||a.$$typeof===q||a.$$typeof===j||a.$$typeof===k||a.$$typeof===n||a.$$typeof===t||a.$$typeof===u||a.$$typeof===v||a.$$typeof===s)},c.typeOf=w},51844,(a,b,c)=>{"use strict";b.exports=a.r(63021)},98236,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.isPlainObject=function(a){if("object"!=typeof a||null==a)return!1;if(null===Object.getPrototypeOf(a))return!0;if("[object Object]"!==Object.prototype.toString.call(a)){let b=a[Symbol.toStringTag];return null!=b&&!!Object.getOwnPropertyDescriptor(a,Symbol.toStringTag)?.writable&&a.toString()===`[object ${b}]`}let b=a;for(;null!==Object.getPrototypeOf(b);)b=Object.getPrototypeOf(b);return Object.getPrototypeOf(a)===b}},1326,(a,b,c)=>{b.exports=a.r(98236).isPlainObject},59498,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.uniqBy=function(a,b){let c=new Map;for(let d=0;d<a.length;d++){let e=a[d],f=b(e,d,a);c.has(f)||c.set(f,e)}return Array.from(c.values())}},32155,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.ary=function(a,b){return function(...c){return a.apply(this,c.slice(0,b))}}},45090,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.identity=function(a){return a}},72443,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.isObjectLike=function(a){return"object"==typeof a&&null!==a}},82904,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(26053),e=a.r(72443);c.isArrayLikeObject=function(a){return e.isObjectLike(a)&&d.isArrayLike(a)}},20771,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(13597);c.property=function(a){return function(b){return d.get(b,a)}}},63856,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.isPrimitive=function(a){return null==a||"object"!=typeof a&&"function"!=typeof a}},64130,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(49134),e=a.r(63856),f=a.r(61625);function g(a,b,c){return"function"!=typeof c?g(a,b,()=>void 0):h(a,b,function a(b,d,e,f,g,i){let j=c(b,d,e,f,g,i);return void 0!==j?!!j:h(b,d,a,i)},new Map)}function h(a,b,c,e){if(b===a)return!0;switch(typeof b){case"object":return i(a,b,c,e);case"function":if(Object.keys(b).length>0)return h(a,{...b},c,e);return f.isEqualsSameValueZero(a,b);default:if(!d.isObject(a))return f.isEqualsSameValueZero(a,b);if("string"==typeof b)return""===b;return!0}}function i(a,b,c,d){if(null==b)return!0;if(Array.isArray(b))return k(a,b,c,d);if(b instanceof Map)return j(a,b,c,d);if(b instanceof Set)return l(a,b,c,d);let f=Object.keys(b);if(null==a||e.isPrimitive(a))return 0===f.length;if(0===f.length)return!0;if(d?.has(b))return d.get(b)===a;d?.set(b,a);try{for(let g=0;g<f.length;g++){let h=f[g];if(!e.isPrimitive(a)&&!(h in a)||void 0===b[h]&&void 0!==a[h]||null===b[h]&&null!==a[h]||!c(a[h],b[h],h,a,b,d))return!1}return!0}finally{d?.delete(b)}}function j(a,b,c,d){if(0===b.size)return!0;if(!(a instanceof Map))return!1;for(let[e,f]of b.entries())if(!1===c(a.get(e),f,e,a,b,d))return!1;return!0}function k(a,b,c,d){if(0===b.length)return!0;if(!Array.isArray(a))return!1;let e=new Set;for(let f=0;f<b.length;f++){let g=b[f],h=!1;for(let i=0;i<a.length;i++){if(e.has(i))continue;let j=a[i],k=!1;if(c(j,g,f,a,b,d)&&(k=!0),k){e.add(i),h=!0;break}}if(!h)return!1}return!0}function l(a,b,c,d){return 0===b.size||a instanceof Set&&k([...a],[...b],c,d)}c.isMatchWith=g,c.isSetMatch=l},11035,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(64130);c.isMatch=function(a,b){return d.isMatchWith(a,b,()=>void 0)}},55880,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.getSymbols=function(a){return Object.getOwnPropertySymbols(a).filter(b=>Object.prototype.propertyIsEnumerable.call(a,b))}},82824,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.getTag=function(a){return null==a?void 0===a?"[object Undefined]":"[object Null]":Object.prototype.toString.call(a)}},69295,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d="[object RegExp]",e="[object String]",f="[object Number]",g="[object Boolean]",h="[object Symbol]",i="[object Date]",j="[object Map]",k="[object Set]",l="[object Array]",m="[object Function]",n="[object ArrayBuffer]",o="[object Object]",p="[object Error]",q="[object DataView]",r="[object Uint8Array]",s="[object Uint8ClampedArray]",t="[object Uint16Array]",u="[object Uint32Array]",v="[object BigUint64Array]",w="[object Int8Array]",x="[object Int16Array]",y="[object Int32Array]",z="[object BigInt64Array]",A="[object Float32Array]",B="[object Float64Array]";c.argumentsTag="[object Arguments]",c.arrayBufferTag=n,c.arrayTag=l,c.bigInt64ArrayTag=z,c.bigUint64ArrayTag=v,c.booleanTag=g,c.dataViewTag=q,c.dateTag=i,c.errorTag=p,c.float32ArrayTag=A,c.float64ArrayTag=B,c.functionTag=m,c.int16ArrayTag=x,c.int32ArrayTag=y,c.int8ArrayTag=w,c.mapTag=j,c.numberTag=f,c.objectTag=o,c.regexpTag=d,c.setTag=k,c.stringTag=e,c.symbolTag=h,c.uint16ArrayTag=t,c.uint32ArrayTag=u,c.uint8ArrayTag=r,c.uint8ClampedArrayTag=s},85159,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.isTypedArray=function(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)}},58074,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(55880),e=a.r(82824),f=a.r(69295),g=a.r(63856),h=a.r(85159);function i(a,b,c,d=new Map,e){let f=e?.(a,b,c,d);if(void 0!==f)return f;if(g.isPrimitive(a))return a;if(d.has(a))return d.get(a);if(Array.isArray(a)){let b=Array(a.length);d.set(a,b);for(let f=0;f<a.length;f++)b[f]=i(a[f],f,c,d,e);return Object.hasOwn(a,"index")&&(b.index=a.index),Object.hasOwn(a,"input")&&(b.input=a.input),b}if(a instanceof Date)return new Date(a.getTime());if(a instanceof RegExp){let b=new RegExp(a.source,a.flags);return b.lastIndex=a.lastIndex,b}if(a instanceof Map){let b=new Map;for(let[f,g]of(d.set(a,b),a))b.set(f,i(g,f,c,d,e));return b}if(a instanceof Set){let b=new Set;for(let f of(d.set(a,b),a))b.add(i(f,void 0,c,d,e));return b}if("u">typeof Buffer&&Buffer.isBuffer(a))return a.subarray();if(h.isTypedArray(a)){let b=new(Object.getPrototypeOf(a)).constructor(a.length);d.set(a,b);for(let f=0;f<a.length;f++)b[f]=i(a[f],f,c,d,e);return b}if(a instanceof ArrayBuffer||"u">typeof SharedArrayBuffer&&a instanceof SharedArrayBuffer)return a.slice(0);if(a instanceof DataView){let b=new DataView(a.buffer.slice(0),a.byteOffset,a.byteLength);return d.set(a,b),j(b,a,c,d,e),b}if("u">typeof File&&a instanceof File){let b=new File([a],a.name,{type:a.type});return d.set(a,b),j(b,a,c,d,e),b}if("u">typeof Blob&&a instanceof Blob){let b=new Blob([a],{type:a.type});return d.set(a,b),j(b,a,c,d,e),b}if(a instanceof Error){let b=new a.constructor;return d.set(a,b),b.message=a.message,b.name=a.name,b.stack=a.stack,b.cause=a.cause,j(b,a,c,d,e),b}if(a instanceof Boolean){let b=new Boolean(a.valueOf());return d.set(a,b),j(b,a,c,d,e),b}if(a instanceof Number){let b=new Number(a.valueOf());return d.set(a,b),j(b,a,c,d,e),b}if(a instanceof String){let b=new String(a.valueOf());return d.set(a,b),j(b,a,c,d,e),b}if("object"==typeof a&&k(a)){let b=Object.create(Object.getPrototypeOf(a));return d.set(a,b),j(b,a,c,d,e),b}return a}function j(a,b,c=a,e,f){let g=[...Object.keys(b),...d.getSymbols(b)];for(let d=0;d<g.length;d++){let h=g[d],j=Object.getOwnPropertyDescriptor(a,h);(null==j||j.writable)&&(a[h]=i(b[h],h,c,e,f))}}function k(a){switch(e.getTag(a)){case f.argumentsTag:case f.arrayTag:case f.arrayBufferTag:case f.dataViewTag:case f.booleanTag:case f.dateTag:case f.float32ArrayTag:case f.float64ArrayTag:case f.int8ArrayTag:case f.int16ArrayTag:case f.int32ArrayTag:case f.mapTag:case f.numberTag:case f.objectTag:case f.regexpTag:case f.setTag:case f.stringTag:case f.symbolTag:case f.uint8ArrayTag:case f.uint8ClampedArrayTag:case f.uint16ArrayTag:case f.uint32ArrayTag:return!0;default:return!1}}c.cloneDeepWith=function(a,b){return i(a,void 0,a,new Map,b)},c.cloneDeepWithImpl=i,c.copyProperties=j},15290,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(58074);c.cloneDeep=function(a){return d.cloneDeepWithImpl(a,void 0,a,new Map,void 0)}},43263,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(11035),e=a.r(15290);c.matches=function(a){return a=e.cloneDeep(a),b=>d.isMatch(b,a)}},55178,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(58074),e=a.r(82824),f=a.r(69295);c.cloneDeepWith=function(a,b){return d.cloneDeepWith(a,(c,g,h,i)=>{let j=b?.(c,g,h,i);if(void 0!==j)return j;if("object"==typeof a){if(e.getTag(a)===f.objectTag&&"function"!=typeof a.constructor){let b={};return i.set(a,b),d.copyProperties(b,a,h,i),b}switch(Object.prototype.toString.call(a)){case f.numberTag:case f.stringTag:case f.booleanTag:{let b=new a.constructor(a?.valueOf());return d.copyProperties(b,a),b}case f.argumentsTag:{let b={};return d.copyProperties(b,a),b.length=a.length,b[Symbol.iterator]=a[Symbol.iterator],b}default:return}}})}},83492,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(55178);c.cloneDeep=function(a){return d.cloneDeepWith(a)}},80974,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(82824);c.isArguments=function(a){return null!==a&&"object"==typeof a&&"[object Arguments]"===d.getTag(a)}},60392,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(42658),e=a.r(33861),f=a.r(80974),g=a.r(58926);c.has=function(a,b){let c;if(0===(c=Array.isArray(b)?b:"string"==typeof b&&d.isDeepKey(b)&&a?.[b]==null?g.toPath(b):[b]).length)return!1;let h=a;for(let a=0;a<c.length;a++){let b=c[a];if((null==h||!Object.hasOwn(h,b))&&!((Array.isArray(h)||f.isArguments(h))&&e.isIndex(b)&&b<h.length))return!1;h=h[b]}return!0}},40921,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(11035),e=a.r(77502),f=a.r(83492),g=a.r(13597),h=a.r(60392);c.matchesProperty=function(a,b){switch(typeof a){case"object":Object.is(a?.valueOf(),-0)&&(a="-0");break;case"number":a=e.toKey(a)}return b=f.cloneDeep(b),function(c){let e=g.get(c,a);return void 0===e?h.has(c,a):void 0===b?void 0===e:d.isMatch(e,b)}}},55322,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(45090),e=a.r(20771),f=a.r(43263),g=a.r(40921);c.iteratee=function(a){if(null==a)return d.identity;switch(typeof a){case"function":return a;case"object":if(Array.isArray(a)&&2===a.length)return g.matchesProperty(a[0],a[1]);return f.matches(a);case"string":case"symbol":case"number":return e.property(a)}}},83348,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(59498),e=a.r(32155),f=a.r(45090),g=a.r(82904),h=a.r(55322);c.uniqBy=function(a,b=f.identity){return g.isArrayLikeObject(a)?d.uniqBy(Array.from(a),e.ary(h.iteratee(b),1)):[]}},11238,(a,b,c)=>{b.exports=a.r(83348).uniqBy},37999,a=>{"use strict";let b={Ed:"#3b82f6",Zeca:"#eab308",Ian:"#8b5cf6",Jorge:"#ef4444",Samuka:"#10b981"};function c(a){return b[a]||"#a8a29e"}a.s(["getPlayerColor",()=>c])},16492,a=>{"use strict";let b;var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A=a.i(95300),B=a.i(60686),C=a.i(26356);a.i(45829);var D=a.i(55199),E=a.i(15048),F=A,G=B,H=C,I=D,J=B,K=Symbol.for("immer-nothing"),L=Symbol.for("immer-draftable"),M=Symbol.for("immer-state");function N(a){throw Error(`[Immer] minified error nr: ${a}. Full error at: https://bit.ly/3cXEKWf`)}var O=Object,P=O.getPrototypeOf,Q="constructor",R="prototype",S="configurable",T="enumerable",U="writable",V="value",W=a=>!!a&&!!a[M];function X(a){return!!a&&($(a)||af(a)||!!a[L]||!!a[Q]?.[L]||ag(a)||ah(a))}var Y=O[R][Q].toString(),Z=new WeakMap;function $(a){if(!a||!ai(a))return!1;let b=P(a);if(null===b||b===O[R])return!0;let c=O.hasOwnProperty.call(b,Q)&&b[Q];if(c===Object)return!0;if(!aj(c))return!1;let d=Z.get(c);return void 0===d&&(d=Function.toString.call(c),Z.set(c,d)),d===Y}function _(a,b,c=!0){0===aa(a)?(c?Reflect.ownKeys(a):O.keys(a)).forEach(c=>{b(c,a[c],a)}):a.forEach((c,d)=>b(d,c,a))}function aa(a){let b=a[M];return b?b.type_:af(a)?1:ag(a)?2:3*!!ah(a)}var ab=(a,b,c=aa(a))=>2===c?a.has(b):O[R].hasOwnProperty.call(a,b),ac=(a,b,c=aa(a))=>2===c?a.get(b):a[b],ad=(a,b,c,d=aa(a))=>{2===d?a.set(b,c):3===d?a.add(c):a[b]=c};function ae(a,b){return a===b?0!==a||1/a==1/b:a!=a&&b!=b}var af=Array.isArray,ag=a=>a instanceof Map,ah=a=>a instanceof Set,ai=a=>"object"==typeof a,aj=a=>"function"==typeof a,ak=a=>"boolean"==typeof a;function al(a){let b=+a;return Number.isInteger(b)&&String(b)===a}var am=a=>a.copy_||a.base_,an=a=>a.modified_?a.copy_:a.base_;function ao(a,b){if(ag(a))return new Map(a);if(ah(a))return new Set(a);if(af(a))return Array[R].slice.call(a);let c=$(a);if(!0!==b&&("class_only"!==b||c)){let b=P(a);if(null!==b&&c)return{...a};let d=O.create(b);return O.assign(d,a)}{let b=O.getOwnPropertyDescriptors(a);delete b[M];let c=Reflect.ownKeys(b);for(let d=0;d<c.length;d++){let e=c[d],f=b[e];!1===f[U]&&(f[U]=!0,f[S]=!0),(f.get||f.set)&&(b[e]={[S]:!0,[U]:!0,[T]:f[T],[V]:a[e]})}return O.create(P(a),b)}}function ap(a,b=!1){return ar(a)||W(a)||!X(a)||(aa(a)>1&&O.defineProperties(a,{set:aq,add:aq,clear:aq,delete:aq}),O.freeze(a),b&&_(a,(a,b)=>{ap(b,!0)},!1)),a}var aq={[V]:function(){N(2)}};function ar(a){return!(null!==a&&ai(a))||O.isFrozen(a)}var as="MapSet",at="Patches",au="ArrayMethods",av={};function aw(a){let b=av[a];return b||N(0,a),b}var ax=a=>!!av[a],ay=()=>k6,az=(a,b)=>({drafts_:[],parent_:a,immer_:b,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:ax(as)?aw(as):void 0,arrayMethodsPlugin_:ax(au)?aw(au):void 0});function aA(a,b){b&&(a.patchPlugin_=aw(at),a.patches_=[],a.inversePatches_=[],a.patchListener_=b)}function aB(a){aC(a),a.drafts_.forEach(aE),a.drafts_=null}function aC(a){a===k6&&(k6=a.parent_)}var aD=a=>k6=az(k6,a);function aE(a){let b=a[M];0===b.type_||1===b.type_?b.revoke_():b.revoked_=!0}function aF(a,b){b.unfinalizedDrafts_=b.drafts_.length;let c=b.drafts_[0];if(void 0!==a&&a!==c){c[M].modified_&&(aB(b),N(4)),X(a)&&(a=aG(b,a));let{patchPlugin_:d}=b;d&&d.generateReplacementPatches_(c[M].base_,a,b)}else a=aG(b,c);return aH(b,a,!0),aB(b),b.patches_&&b.patchListener_(b.patches_,b.inversePatches_),a!==K?a:void 0}function aG(a,b){if(ar(b))return b;let c=b[M];if(!c)return aP(b,a.handledSet_,a);if(!aJ(c,a))return b;if(!c.modified_)return c.base_;if(!c.finalized_){let{callbacks_:b}=c;if(b)for(;b.length>0;)b.pop()(a);aN(c,a)}return c.copy_}function aH(a,b,c=!1){!a.parent_&&a.immer_.autoFreeze_&&a.canAutoFreeze_&&ap(b,c)}function aI(a){a.finalized_=!0,a.scope_.unfinalizedDrafts_--}var aJ=(a,b)=>a.scope_===b,aK=[];function aL(a,b,c,d){let e=am(a),f=a.type_;if(void 0!==d&&ac(e,d,f)===b)return void ad(e,d,c,f);if(!a.draftLocations_){let b=a.draftLocations_=new Map;_(e,(a,c)=>{if(W(c)){let d=b.get(c)||[];d.push(a),b.set(c,d)}})}for(let d of a.draftLocations_.get(b)??aK)ad(e,d,c,f)}function aM(a,b,c){a.callbacks_.push(function(d){let e=b;if(!e||!aJ(e,d))return;d.mapSetPlugin_?.fixSetContents(e);let f=an(e);aL(a,e.draft_??e,f,c),aN(e,d)})}function aN(a,b){if(a.modified_&&!a.finalized_&&(3===a.type_||1===a.type_&&a.allIndicesReassigned_||(a.assigned_?.size??0)>0)){let{patchPlugin_:c}=b;if(c){let d=c.getPath(a);d&&c.generatePatches_(a,d,b)}aI(a)}}function aO(a,b,c){let{scope_:d}=a;if(W(c)){let e=c[M];aJ(e,d)&&e.callbacks_.push(function(){aX(a),aL(a,c,an(e),b)})}else X(c)&&a.callbacks_.push(function(){let e=am(a);3===a.type_?e.has(c)&&aP(c,d.handledSet_,d):ac(e,b,a.type_)===c&&d.drafts_.length>1&&(a.assigned_.get(b)??!1)===!0&&a.copy_&&aP(ac(a.copy_,b,a.type_),d.handledSet_,d)})}function aP(a,b,c){return!c.immer_.autoFreeze_&&c.unfinalizedDrafts_<1||W(a)||b.has(a)||!X(a)||ar(a)||(b.add(a),_(a,(d,e)=>{if(W(e)){let b=e[M];aJ(b,c)&&(ad(a,d,an(b),a.type_),aI(b))}else X(e)&&aP(e,b,c)})),a}function aQ(a,b){let c=af(a),d={type_:+!!c,scope_:b?b.scope_:ay(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:b,base_:a,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0},e=d,f=aR;c&&(e=[d],f=aS);let{revoke:g,proxy:h}=Proxy.revocable(e,f);return d.draft_=h,d.revoke_=g,[h,d]}var aR={get(a,b){if(b===M)return a;let c=a.scope_.arrayMethodsPlugin_,d=1===a.type_&&"string"==typeof b;if(d&&c?.isArrayOperationMethod(b))return c.createMethodInterceptor(a,b);let e=am(a);if(!ab(e,b,a.type_))return aU(a,e,b);let f=e[b];if(a.finalized_||!X(f)||d&&a.operationMethod&&c?.isMutatingArrayMethod(a.operationMethod)&&al(b))return f;if(f===aT(a.base_,b)){aX(a);let c=1===a.type_?+b:b,d=aY(a.scope_,f,a,c);return a.copy_[c]=d}return f},has:(a,b)=>b in am(a),ownKeys:a=>Reflect.ownKeys(am(a)),set(a,b,c){let d=aV(am(a),b);if(d?.set)return d.set.call(a.draft_,c),!0;if(!a.modified_){let d=aT(am(a),b),e=d?.[M];if(e&&e.base_===c)return a.copy_[b]=c,a.assigned_.set(b,!1),!0;if(ae(c,d)&&(void 0!==c||ab(a.base_,b,a.type_)))return!0;aX(a),aW(a)}return!!(a.copy_[b]===c&&(void 0!==c||b in a.copy_)||Number.isNaN(c)&&Number.isNaN(a.copy_[b]))||(a.copy_[b]=c,a.assigned_.set(b,!0),aO(a,b,c),!0)},deleteProperty:(a,b)=>(aX(a),void 0!==aT(a.base_,b)||b in a.base_?(a.assigned_.set(b,!1),aW(a)):a.assigned_.delete(b),a.copy_&&delete a.copy_[b],!0),getOwnPropertyDescriptor(a,b){let c=am(a),d=Reflect.getOwnPropertyDescriptor(c,b);return d?{[U]:!0,[S]:1!==a.type_||"length"!==b,[T]:d[T],[V]:c[b]}:d},defineProperty(){N(11)},getPrototypeOf:a=>P(a.base_),setPrototypeOf(){N(12)}},aS={};for(let a in aR){let b=aR[a];aS[a]=function(){let a=arguments;return a[0]=a[0][0],b.apply(this,a)}}function aT(a,b){let c=a[M];return(c?am(c):a)[b]}function aU(a,b,c){let d=aV(b,c);return d?V in d?d[V]:d.get?.call(a.draft_):void 0}function aV(a,b){if(!(b in a))return;let c=P(a);for(;c;){let a=Object.getOwnPropertyDescriptor(c,b);if(a)return a;c=P(c)}}function aW(a){!a.modified_&&(a.modified_=!0,a.parent_&&aW(a.parent_))}function aX(a){a.copy_||(a.assigned_=new Map,a.copy_=ao(a.base_,a.scope_.immer_.useStrictShallowCopy_))}function aY(a,b,c,d){let[e,f]=ag(b)?aw(as).proxyMap_(b,c):ah(b)?aw(as).proxySet_(b,c):aQ(b,c);return(c?.scope_??ay()).drafts_.push(e),f.callbacks_=c?.callbacks_??[],f.key_=d,c&&void 0!==d?aM(c,f,d):f.callbacks_.push(function(a){a.mapSetPlugin_?.fixSetContents(f);let{patchPlugin_:b}=a;f.modified_&&b&&b.generatePatches_(f,[],a)}),e}function aZ(a){return W(a)||N(10,a),a$(a)}function a$(a){let b;if(!X(a)||ar(a))return a;let c=a[M],d=!0;if(c){if(!c.modified_)return c.base_;c.finalized_=!0,b=ao(a,c.scope_.immer_.useStrictShallowCopy_),d=c.scope_.immer_.shouldUseStrictIteration()}else b=ao(a,!0);return _(b,(a,c)=>{ad(b,a,a$(c))},d),c&&(c.finalized_=!1),b}aS.deleteProperty=function(a,b){return aS.set.call(this,a,b,void 0)},aS.set=function(a,b,c){return aR.set.call(this,a[0],b,c,a[0])};var a_=new class{constructor(a){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(a,b,c)=>{let d;if(aj(a)&&!aj(b)){let c=b;b=a;let d=this;return function(a=c,...e){return d.produce(a,a=>b.call(this,a,...e))}}if(aj(b)||N(6),void 0===c||aj(c)||N(7),X(a)){let e=aD(this),f=aY(e,a,void 0),g=!0;try{d=b(f),g=!1}finally{g?aB(e):aC(e)}return aA(e,c),aF(d,e)}if(a&&ai(a))N(1,a);else{if(void 0===(d=b(a))&&(d=a),d===K&&(d=void 0),this.autoFreeze_&&ap(d,!0),c){let b=[],e=[];aw(at).generateReplacementPatches_(a,d,{patches_:b,inversePatches_:e}),c(b,e)}return d}},this.produceWithPatches=(a,b)=>{let c,d;return aj(a)?(b,...c)=>this.produceWithPatches(b,b=>a(b,...c)):[this.produce(a,b,(a,b)=>{c=a,d=b}),c,d]},ak(a?.autoFreeze)&&this.setAutoFreeze(a.autoFreeze),ak(a?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(a.useStrictShallowCopy),ak(a?.useStrictIteration)&&this.setUseStrictIteration(a.useStrictIteration)}createDraft(a){X(a)||N(8),W(a)&&(a=aZ(a));let b=aD(this),c=aY(b,a,void 0);return c[M].isManual_=!0,aC(b),c}finishDraft(a,b){let c=a&&a[M];c&&c.isManual_||N(9);let{scope_:d}=c;return aA(d,b),aF(void 0,d)}setAutoFreeze(a){this.autoFreeze_=a}setUseStrictShallowCopy(a){this.useStrictShallowCopy_=a}setUseStrictIteration(a){this.useStrictIteration_=a}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(a,b){let c;for(c=b.length-1;c>=0;c--){let d=b[c];if(0===d.path.length&&"replace"===d.op){a=d.value;break}}c>-1&&(b=b.slice(c+1));let d=aw(at).applyPatches_;return W(a)?d(a,b):this.produce(a,a=>d(a,b))}}().produce;function a0(a,b=`expected a function, instead received ${typeof a}`){if("function"!=typeof a)throw TypeError(b)}function a1(a,b=`expected an object, instead received ${typeof a}`){if("object"!=typeof a)throw TypeError(b)}function a2(a,b="expected all items to be functions, instead received the following types: "){if(!a.every(a=>"function"==typeof a)){let c=a.map(a=>"function"==typeof a?`function ${a.name||"unnamed"}()`:typeof a).join(", ");throw TypeError(`${b}[${c}]`)}}var a3=a=>Array.isArray(a)?a:[a];function a4(a){let b=Array.isArray(a[0])?a[0]:a;return a2(b,"createSelector expects all input-selectors to be functions, but received the following types: "),b}function a5(a,b){let c=[],{length:d}=a;for(let e=0;e<d;e++)c.push(a[e].apply(null,b));return c}var a6=0,a7=null,a8=class{revision=a6;_value;_lastValue;_isEqual=a9;constructor(a,b=a9){this._value=this._lastValue=a,this._isEqual=b}get value(){return a7?.add(this),this._value}set value(a){this.value!==a&&(this._value=a,this.revision=++a6)}};function a9(a,b){return a===b}function ba(a){return a instanceof a8||console.warn("Not a valid cell! ",a),a.value}function bb(a,b=a9){return new a8(a,b)}var bc=(a,b)=>!1;function bd(){return bb(null,bc)}var be=a=>{let b=a.collectionTag;null===b&&(b=a.collectionTag=bd()),ba(b)};Symbol();var bf=0,bg=Object.getPrototypeOf({}),bh=class{constructor(a){this.value=a,this.value=a,this.tag.value=a}proxy=new Proxy(this,bi);tag=bd();tags={};children={};collectionTag=null;id=bf++},bi={get:(a,b)=>(function(){let{value:c}=a,d=Reflect.get(c,b);if("symbol"==typeof b||b in bg)return d;if("object"==typeof d&&null!==d){let c=a.children[b];return void 0===c&&(c=a.children[b]=bl(d)),c.tag&&ba(c.tag),c.proxy}{let c=a.tags[b];return void 0===c&&((c=a.tags[b]=bd()).value=d),ba(c),d}})(),ownKeys:a=>(be(a),Reflect.ownKeys(a.value)),getOwnPropertyDescriptor:(a,b)=>Reflect.getOwnPropertyDescriptor(a.value,b),has:(a,b)=>Reflect.has(a.value,b)},bj=class{constructor(a){this.value=a,this.value=a,this.tag.value=a}proxy=new Proxy([this],bk);tag=bd();tags={};children={};collectionTag=null;id=bf++},bk={get:([a],b)=>("length"===b&&be(a),bi.get(a,b)),ownKeys:([a])=>bi.ownKeys(a),getOwnPropertyDescriptor:([a],b)=>bi.getOwnPropertyDescriptor(a,b),has:([a],b)=>bi.has(a,b)};function bl(a){return Array.isArray(a)?new bj(a):new bh(a)}var bm=class{constructor(a){this.value=a}deref(){return this.value}},bn="u">typeof WeakRef?WeakRef:bm,bo=0,bp=1;function bq(){return{s:bo,v:void 0,o:null,p:null}}function br(a,b={}){let c,d=bq(),{resultEqualityCheck:e}=b,f=0;function g(){let b,g=d,{length:h}=arguments;for(let a=0,b=h;a<b;a++){let b=arguments[a];if("function"==typeof b||"object"==typeof b&&null!==b){let a=g.o;null===a&&(g.o=a=new WeakMap);let c=a.get(b);void 0===c?(g=bq(),a.set(b,g)):g=c}else{let a=g.p;null===a&&(g.p=a=new Map);let c=a.get(b);void 0===c?(g=bq(),a.set(b,g)):g=c}}let i=g;if(g.s===bp)b=g.v;else if(b=a.apply(null,arguments),f++,e){let a=c?.deref?.()??c;null!=a&&e(a,b)&&(b=a,0!==f&&f--),c="object"==typeof b&&null!==b||"function"==typeof b?new bn(b):b}return i.s=bp,i.v=b,b}return g.clearCache=()=>{d=bq(),g.resetResultsCount()},g.resultsCount=()=>f,g.resetResultsCount=()=>{f=0},g}var bs=function a(b,...c){let d="function"==typeof b?{memoize:b,memoizeOptions:c}:b,e=(...a)=>{let b,c=0,e=0,f={},g=a.pop();"object"==typeof g&&(f=g,g=a.pop()),a0(g,`createSelector expects an output function after the inputs, but received: [${typeof g}]`);let{memoize:h,memoizeOptions:i=[],argsMemoize:j=br,argsMemoizeOptions:k=[],devModeChecks:l={}}={...d,...f},m=a3(i),n=a3(k),o=a4(a),p=h(function(){return c++,g.apply(null,arguments)},...m);return Object.assign(j(function(){e++;let a=a5(o,arguments);return b=p.apply(null,a)},...n),{resultFunc:g,memoizedResultFunc:p,dependencies:o,dependencyRecomputations:()=>e,resetDependencyRecomputations:()=>{e=0},lastResult:()=>b,recomputations:()=>c,resetRecomputations:()=>{c=0},memoize:h,argsMemoize:j})};return Object.assign(e,{withTypes:()=>e}),e}(br),bt=Object.assign((a,b=bs)=>{a1(a,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof a}`);let c=Object.keys(a);return b(c.map(b=>a[b]),(...a)=>a.reduce((a,b,d)=>(a[c[d]]=b,a),{}))},{withTypes:()=>bt});function bu(a){return`Minified Redux error #${a}; visit https://redux.js.org/Errors?code=${a} for the full message or use the non-minified dev environment for full errors. `}var bv="function"==typeof Symbol&&Symbol.observable||"@@observable",bw=()=>Math.random().toString(36).substring(7).split("").join("."),bx={INIT:`@@redux/INIT${bw()}`,REPLACE:`@@redux/REPLACE${bw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${bw()}`};function by(a){if("object"!=typeof a||null===a)return!1;let b=a;for(;null!==Object.getPrototypeOf(b);)b=Object.getPrototypeOf(b);return Object.getPrototypeOf(a)===b||null===Object.getPrototypeOf(a)}function bz(a,b,c){if("function"!=typeof a)throw Error(bu(2));if("function"==typeof b&&"function"==typeof c||"function"==typeof c&&"function"==typeof arguments[3])throw Error(bu(0));if("function"==typeof b&&void 0===c&&(c=b,b=void 0),void 0!==c){if("function"!=typeof c)throw Error(bu(1));return c(bz)(a,b)}let d=a,e=b,f=new Map,g=f,h=0,i=!1;function j(){g===f&&(g=new Map,f.forEach((a,b)=>{g.set(b,a)}))}function k(){if(i)throw Error(bu(3));return e}function l(a){if("function"!=typeof a)throw Error(bu(4));if(i)throw Error(bu(5));let b=!0;j();let c=h++;return g.set(c,a),function(){if(b){if(i)throw Error(bu(6));b=!1,j(),g.delete(c),f=null}}}function m(a){if(!by(a))throw Error(bu(7));if(void 0===a.type)throw Error(bu(8));if("string"!=typeof a.type)throw Error(bu(17));if(i)throw Error(bu(9));try{i=!0,e=d(e,a)}finally{i=!1}return(f=g).forEach(a=>{a()}),a}function n(a){if("function"!=typeof a)throw Error(bu(10));d=a,m({type:bx.REPLACE})}function o(){let a=l;return{subscribe(b){if("object"!=typeof b||null===b)throw Error(bu(11));function c(){let a=b;a.next&&a.next(k())}return c(),{unsubscribe:a(c)}},[bv](){return this}}}return m({type:bx.INIT}),{dispatch:m,subscribe:l,getState:k,replaceReducer:n,[bv]:o}}function bA(a){Object.keys(a).forEach(b=>{let c=a[b];if(void 0===c(void 0,{type:bx.INIT}))throw Error(bu(12));if(void 0===c(void 0,{type:bx.PROBE_UNKNOWN_ACTION()}))throw Error(bu(13))})}function bB(a){let b,c=Object.keys(a),d={};for(let b=0;b<c.length;b++){let e=c[b];"function"==typeof a[e]&&(d[e]=a[e])}let e=Object.keys(d);try{bA(d)}catch(a){b=a}return function(a={},c){if(b)throw b;let f=!1,g={};for(let b=0;b<e.length;b++){let h=e[b],i=d[h],j=a[h],k=i(j,c);if(void 0===k)throw c&&c.type,Error(bu(14));g[h]=k,f=f||k!==j}return(f=f||e.length!==Object.keys(a).length)?g:a}}function bC(...a){return 0===a.length?a=>a:1===a.length?a[0]:a.reduce((a,b)=>(...c)=>a(b(...c)))}function bD(...a){return b=>(c,d)=>{let e=b(c,d),f=()=>{throw Error(bu(15))},g={getState:e.getState,dispatch:(a,...b)=>f(a,...b)};return f=bC(...a.map(a=>a(g)))(e.dispatch),{...e,dispatch:f}}}function bE(a){return by(a)&&"type"in a&&"string"==typeof a.type}function bF(a){return({dispatch:b,getState:c})=>d=>e=>"function"==typeof e?e(b,c,a):d(e)}var bG=bF(),bH=bF,bI=function(){if(0!=arguments.length)return"object"==typeof arguments[0]?bC:bC.apply(null,arguments)};function bJ(a,b){function c(...d){if(b){let c=b(...d);if(!c)throw Error(cH(0));return{type:a,payload:c.payload,..."meta"in c&&{meta:c.meta},..."error"in c&&{error:c.error}}}return{type:a,payload:d[0]}}return c.toString=()=>`${a}`,c.type=a,c.match=b=>bE(b)&&b.type===a,c}var bK=class a extends Array{constructor(...b){super(...b),Object.setPrototypeOf(this,a.prototype)}static get[Symbol.species](){return a}concat(...a){return super.concat.apply(this,a)}prepend(...b){return 1===b.length&&Array.isArray(b[0])?new a(...b[0].concat(this)):new a(...b.concat(this))}};function bL(a){return X(a)?a_(a,()=>{}):a}function bM(a,b,c){return a.has(b)?a.get(b):a.set(b,c(b)).get(b)}function bN(a){return"boolean"==typeof a}var bO=()=>function(a){let{thunk:b=!0,immutableCheck:c=!0,serializableCheck:d=!0,actionCreatorCheck:e=!0}=a??{},f=new bK;return b&&(bN(b)?f.push(bG):f.push(bH(b.extraArgument))),f},bP="RTK_autoBatch",bQ=()=>a=>({payload:a,meta:{[bP]:!0}}),bR=a=>b=>{setTimeout(b,a)},bS=(a={type:"raf"})=>b=>(...c)=>{let d=b(...c),e=!0,f=!1,g=!1,h=new Set,i="tick"===a.type?queueMicrotask:"raf"===a.type?bR(10):"callback"===a.type?a.queueNotification:bR(a.timeout),j=()=>{g=!1,f&&(f=!1,h.forEach(a=>a()))};return Object.assign({},d,{subscribe(a){let b=()=>e&&a(),c=d.subscribe(b);return h.add(a),()=>{c(),h.delete(a)}},dispatch(a){try{return(f=!(e=!a?.meta?.[bP]))&&!g&&(g=!0,i(j)),d.dispatch(a)}finally{e=!0}}})},bT=a=>function(b){let{autoBatch:c=!0}=b??{},d=new bK(a);return c&&d.push(bS("object"==typeof c?c:void 0)),d};function bU(a){let b,c,d=bO(),{reducer:e,middleware:f,devTools:g=!0,duplicateMiddlewareCheck:h=!0,preloadedState:i,enhancers:j}=a||{};if("function"==typeof e)b=e;else if(by(e))b=bB(e);else throw Error(cH(1));c="function"==typeof f?f(d):d();let k=bC;g&&(k=bI({trace:!1,..."object"==typeof g&&g}));let l=bT(bD(...c));return bz(b,i,k(..."function"==typeof j?j(l):l()))}function bV(a){let b,c={},d=[],e={addCase(a,b){let d="string"==typeof a?a:a.type;if(!d)throw Error(cH(28));if(d in c)throw Error(cH(29));return c[d]=b,e},addAsyncThunk:(a,b)=>(b.pending&&(c[a.pending.type]=b.pending),b.rejected&&(c[a.rejected.type]=b.rejected),b.fulfilled&&(c[a.fulfilled.type]=b.fulfilled),b.settled&&d.push({matcher:a.settled,reducer:b.settled}),e),addMatcher:(a,b)=>(d.push({matcher:a,reducer:b}),e),addDefaultCase:a=>(b=a,e)};return a(e),[c,d,b]}function bW(a){return"function"==typeof a}function bX(a,b){let c,[d,e,f]=bV(b);if(bW(a))c=()=>bL(a());else{let b=bL(a);c=()=>b}function g(a=c(),b){let h=[d[b.type],...e.filter(({matcher:a})=>a(b)).map(({reducer:a})=>a)];return 0===h.filter(a=>!!a).length&&(h=[f]),h.reduce((a,c)=>{if(c)if(W(a)){let d=c(a,b);return void 0===d?a:d}else{if(X(a))return a_(a,a=>c(a,b));let d=c(a,b);if(void 0===d){if(null===a)return a;throw Error("A case reducer on a non-draftable value must not return undefined")}return d}return a},a)}return g.getInitialState=c,g}var bY="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",bZ=(a=21)=>{let b="",c=a;for(;c--;)b+=bY[64*Math.random()|0];return b},b$=Symbol.for("rtk-slice-createasyncthunk"),b_=((b=b_||{}).reducer="reducer",b.reducerWithPrepare="reducerWithPrepare",b.asyncThunk="asyncThunk",b);function b0(a,b){return`${a}/${b}`}function b1(a,b,c,d){function e(f,...g){let h=b(f);return void 0===h&&d&&(h=c()),a(h,...g)}return e.unwrapped=a,e}var b2=function({creators:a}={}){let b=a?.asyncThunk?.[b$];return function(a){let c,{name:d,reducerPath:e=d}=a;if(!d)throw Error(cH(11));let f=("function"==typeof a.reducers?a.reducers(b3()):a.reducers)||{},g=Object.keys(f),h={},i={},j={},k=[],l={addCase(a,b){let c="string"==typeof a?a:a.type;if(!c)throw Error(cH(12));if(c in i)throw Error(cH(13));return i[c]=b,l},addMatcher:(a,b)=>(k.push({matcher:a,reducer:b}),l),exposeAction:(a,b)=>(j[a]=b,l),exposeCaseReducer:(a,b)=>(h[a]=b,l)};function m(){let[b={},c=[],d]="function"==typeof a.extraReducers?bV(a.extraReducers):[a.extraReducers],e={...b,...i};return bX(a.initialState,a=>{for(let b in e)a.addCase(b,e[b]);for(let b of k)a.addMatcher(b.matcher,b.reducer);for(let b of c)a.addMatcher(b.matcher,b.reducer);d&&a.addDefaultCase(d)})}g.forEach(c=>{let e=f[c],g={reducerName:c,type:b0(d,c),createNotation:"function"==typeof a.reducers};b5(e)?b7(g,e,l,b):b4(g,e,l)});let n=a=>a,o=new Map,p=new WeakMap;function q(a,b){return c||(c=m()),c(a,b)}function r(){return c||(c=m()),c.getInitialState()}function s(b,c=!1){function d(a){let e=a[b];return void 0===e&&c&&(e=bM(p,d,r)),e}function e(b=n){let d=bM(o,c,()=>new WeakMap);return bM(d,b,()=>{let d={};for(let[e,f]of Object.entries(a.selectors??{}))d[e]=b1(f,b,()=>bM(p,b,r),c);return d})}return{reducerPath:b,getSelectors:e,get selectors(){return e(d)},selectSlice:d}}let t={name:d,reducer:q,actions:j,caseReducers:h,getInitialState:r,...s(e),injectInto(a,{reducerPath:b,...c}={}){let d=b??e;return a.inject({reducerPath:d,reducer:q},c),{...t,...s(d,!0)}}};return t}}();function b3(){function a(a,b){return{_reducerDefinitionType:"asyncThunk",payloadCreator:a,...b}}return a.withTypes=()=>a,{reducer:a=>Object.assign({[a.name]:(...b)=>a(...b)}[a.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(a,b)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:a,reducer:b}),asyncThunk:a}}function b4({type:a,reducerName:b,createNotation:c},d,e){let f,g;if("reducer"in d){if(c&&!b6(d))throw Error(cH(17));f=d.reducer,g=d.prepare}else f=d;e.addCase(a,f).exposeCaseReducer(b,f).exposeAction(b,g?bJ(a,g):bJ(a))}function b5(a){return"asyncThunk"===a._reducerDefinitionType}function b6(a){return"reducerWithPrepare"===a._reducerDefinitionType}function b7({type:a,reducerName:b},c,d,e){if(!e)throw Error(cH(18));let{payloadCreator:f,fulfilled:g,pending:h,rejected:i,settled:j,options:k}=c,l=e(a,f,k);d.exposeAction(b,l),g&&d.addCase(l.fulfilled,g),h&&d.addCase(l.pending,h),i&&d.addCase(l.rejected,i),j&&d.addMatcher(l.settled,j),d.exposeCaseReducer(b,{fulfilled:g||b8,pending:h||b8,rejected:i||b8,settled:j||b8})}function b8(){}var b9="task",ca="listener",cb="completed",cc="cancelled",cd=`task-${cc}`,ce=`task-${cb}`,cf=`${ca}-${cc}`,cg=`${ca}-${cb}`,ch=class{constructor(a){this.code=a,this.message=`${b9} ${cc} (reason: ${a})`}name="TaskAbortError";message},ci=(a,b)=>{if("function"!=typeof a)throw TypeError(cH(32))},cj=()=>{},ck=(a,b=cj)=>(a.catch(b),a),cl=(a,b)=>(a.addEventListener("abort",b,{once:!0}),()=>a.removeEventListener("abort",b)),cm=a=>{if(a.aborted)throw new ch(a.reason)};function cn(a,b){let c=cj;return new Promise((d,e)=>{let f=()=>e(new ch(a.reason));a.aborted?f():(c=cl(a,f),b.finally(()=>c()).then(d,e))}).finally(()=>{c=cj})}var co=async(a,b)=>{try{await Promise.resolve();let b=await a();return{status:"ok",value:b}}catch(a){return{status:a instanceof ch?"cancelled":"rejected",error:a}}finally{b?.()}},cp=a=>b=>ck(cn(a,b).then(b=>(cm(a),b))),cq=a=>{let b=cp(a);return a=>b(new Promise(b=>setTimeout(b,a)))},{assign:cr}=Object,cs={},ct="listenerMiddleware",cu=(a,b)=>{let c=b=>cl(a,()=>b.abort(a.reason));return(d,e)=>{ci(d,"taskExecutor");let f=new AbortController;c(f);let g=co(async()=>{cm(a),cm(f.signal);let b=await d({pause:cp(f.signal),delay:cq(f.signal),signal:f.signal});return cm(f.signal),b},()=>f.abort(ce));return e?.autoJoin&&b.push(g.catch(cj)),{result:cp(a)(g),cancel(){f.abort(cd)}}}},cv=(a,b)=>{let c=async(c,d)=>{cm(b);let e=()=>{},f=[new Promise((b,d)=>{let f=a({predicate:c,effect:(a,c)=>{c.unsubscribe(),b([a,c.getState(),c.getOriginalState()])}});e=()=>{f(),d()}})];null!=d&&f.push(new Promise(a=>setTimeout(a,d,null)));try{let a=await cn(b,Promise.race(f));return cm(b),a}finally{e()}};return(a,b)=>ck(c(a,b))},cw=a=>{let{type:b,actionCreator:c,matcher:d,predicate:e,effect:f}=a;if(b)e=bJ(b).match;else if(c)b=c.type,e=c.match;else if(d)e=d;else if(e);else throw Error(cH(21));return ci(f,"options.listener"),{predicate:e,type:b,effect:f}},cx=cr(a=>{let{type:b,predicate:c,effect:d}=cw(a);return{id:bZ(),effect:d,type:b,predicate:c,pending:new Set,unsubscribe:()=>{throw Error(cH(22))}}},{withTypes:()=>cx}),cy=(a,b)=>{let{type:c,effect:d,predicate:e}=cw(b);return Array.from(a.values()).find(a=>("string"==typeof c?a.type===c:a.predicate===e)&&a.effect===d)},cz=a=>{a.pending.forEach(a=>{a.abort(cf)})},cA=(a,b)=>()=>{for(let a of b.keys())cz(a);a.clear()},cB=(a,b,c)=>{try{a(b,c)}catch(a){setTimeout(()=>{throw a},0)}},cC=cr(bJ(`${ct}/add`),{withTypes:()=>cC}),cD=bJ(`${ct}/removeAll`),cE=cr(bJ(`${ct}/remove`),{withTypes:()=>cE}),cF=(...a)=>{console.error(`${ct}/error`,...a)},cG=(a={})=>{let b=new Map,c=new Map,d=a=>{let b=c.get(a)??0;c.set(a,b+1)},e=a=>{let b=c.get(a)??1;1===b?c.delete(a):c.set(a,b-1)},{extra:f,onError:g=cF}=a;ci(g,"onError");let h=a=>(a.unsubscribe=()=>b.delete(a.id),b.set(a.id,a),b=>{a.unsubscribe(),b?.cancelActive&&cz(a)}),i=a=>h(cy(b,a)??cx(a));cr(i,{withTypes:()=>i});let j=a=>{let c=cy(b,a);return c&&(c.unsubscribe(),a.cancelActive&&cz(c)),!!c};cr(j,{withTypes:()=>j});let k=async(a,c,h,j)=>{let k=new AbortController,l=cv(i,k.signal),m=[];try{a.pending.add(k),d(a),await Promise.resolve(a.effect(c,cr({},h,{getOriginalState:j,condition:(a,b)=>l(a,b).then(Boolean),take:l,delay:cq(k.signal),pause:cp(k.signal),extra:f,signal:k.signal,fork:cu(k.signal,m),unsubscribe:a.unsubscribe,subscribe:()=>{b.set(a.id,a)},cancelActiveListeners:()=>{a.pending.forEach((a,b,c)=>{a!==k&&(a.abort(cf),c.delete(a))})},cancel:()=>{k.abort(cf),a.pending.delete(k)},throwIfCancelled:()=>{cm(k.signal)}})))}catch(a){a instanceof ch||cB(g,a,{raisedBy:"effect"})}finally{await Promise.all(m),k.abort(cg),e(a),a.pending.delete(k)}},l=cA(b,c);return{middleware:a=>c=>d=>{let e;if(!bE(d))return c(d);if(cC.match(d))return i(d.payload);if(cD.match(d))return void l();if(cE.match(d))return j(d.payload);let f=a.getState(),h=()=>{if(f===cs)throw Error(cH(23));return f};try{if(e=c(d),b.size>0){let c=a.getState();for(let e of Array.from(b.values())){let b=!1;try{b=e.predicate(d,c,f)}catch(a){b=!1,cB(g,a,{raisedBy:"predicate"})}b&&k(e,d,a,h)}}}finally{f=cs}return e},startListening:i,stopListening:j,clearListeners:l}};function cH(a){return`Minified Redux Toolkit error #${a}; visit https://redux-toolkit.js.org/Errors?code=${a} for the full message or use the non-minified dev environment for full errors. `}Symbol.for("rtk-state-proxy-original");var cI=a.i(14765),cJ=4;function cK(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cJ,c=10**b,d=Math.round(a*c)/c;return Object.is(d,-0)?0:d}function cL(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return a.reduce((a,b,d)=>{var e=c[d-1];return"string"==typeof e?a+e+b:void 0!==e?a+cK(e)+b:a+b},"")}var cM=a=>0===a?0:a>0?1:-1,cN=a=>"number"==typeof a&&a!=+a,cO=a=>"string"==typeof a&&a.indexOf("%")===a.length-1,cP=a=>("number"==typeof a||a instanceof Number)&&!cN(a),cQ=a=>cP(a)||"string"==typeof a,cR=0,cS=a=>{var b=++cR;return"".concat(a||"").concat(b)},cT=function(a,b){var c,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,e=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!cP(a)&&"string"!=typeof a)return d;if(cO(a)){if(null==b)return d;var f=a.indexOf("%");c=b*parseFloat(a.slice(0,f))/100}else c=+a;return cN(c)&&(c=d),e&&null!=b&&c>b&&(c=b),c},cU=a=>{if(!Array.isArray(a))return!1;for(var b=a.length,c={},d=0;d<b;d++)if(c[String(a[d])])return!0;else c[String(a[d])]=!0;return!1};function cV(a,b,c){return cP(a)&&cP(b)?cK(a+c*(b-a)):b}function cW(a,b,c){if(a&&a.length)return a.find(a=>a&&("function"==typeof b?b(a):(0,cI.default)(a,b))===c)}var cX=a=>null==a,cY=a=>cX(a)?a:"".concat(a.charAt(0).toUpperCase()).concat(a.slice(1));function cZ(a){return null!=a}function c$(){}var c_=(a,b)=>{if(b&&Array.isArray(a)){var c=Number.parseInt(b,10);if(!cN(c))return a[c]}},c0=b2({name:"options",initialState:{chartName:"",tooltipPayloadSearcher:()=>void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},reducers:{createEventEmitter:a=>{null==a.eventEmitter&&(a.eventEmitter=Symbol("rechartsEventEmitter"))}}}),c1=c0.reducer,{createEventEmitter:c2}=c0.actions,c3=B,c4=B,c5=B;function c6(a){a()}function c7(){let a=null,b=null;return{clear(){a=null,b=null},notify(){c6(()=>{let b=a;for(;b;)b.callback(),b=b.next})},get(){let b=[],c=a;for(;c;)b.push(c),c=c.next;return b},subscribe(c){let d=!0,e=b={callback:c,next:null,prev:b};return e.prev?e.prev.next=e:a=e,function(){d&&null!==a&&(d=!1,e.next?e.next.prev=e.prev:b=e.prev,e.prev?e.prev.next=e.next:a=e.next)}}}}a.i(75808);var c8={notify(){},get:()=>[]};function c9(a,b){let c,d=c8,e=0,f=!1;function g(){j.onStateChange&&j.onStateChange()}function h(){e++,c||(c=b?b.addNestedSub(g):a.subscribe(g),d=c7())}function i(){e--,c&&0===e&&(c(),c=void 0,d.clear(),d=c8)}let j={addNestedSub:function(a){h();let b=d.subscribe(a),c=!1;return()=>{c||(c=!0,b(),i())}},notifyNestedSubs:function(){d.notify()},handleChangeWrapper:g,isSubscribed:function(){return f},trySubscribe:function(){f||(f=!0,h())},tryUnsubscribe:function(){f&&(f=!1,i())},getListeners:()=>d};return j}var da=!1,db="u">typeof navigator&&"ReactNative"===navigator.product,dc=da||db?c5.useLayoutEffect:c5.useEffect;function dd(a,b){return a===b?0!==a||0!==b||1/a==1/b:a!=a&&b!=b}function de(a,b){if(dd(a,b))return!0;if("object"!=typeof a||null===a||"object"!=typeof b||null===b)return!1;let c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(let d=0;d<c.length;d++)if(!Object.prototype.hasOwnProperty.call(b,c[d])||!dd(a[c[d]],b[c[d]]))return!1;return!0}var df=Symbol.for("react-redux-context"),dg="u">typeof globalThis?globalThis:{},dh=function(){if(!c5.createContext)return{};let a=dg[df]??=new Map,b=a.get(c5.createContext);return b||(b=c5.createContext(null),a.set(c5.createContext,b)),b}(),di=function(a){let{children:b,context:c,serverState:d,store:e}=a,f=c5.useMemo(()=>{let a=c9(e);return{store:e,subscription:a,getServerState:d?()=>d:void 0}},[e,d]),g=c5.useMemo(()=>e.getState(),[e]);dc(()=>{let{subscription:a}=f;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),g!==e.getState()&&a.notifyNestedSubs(),()=>{a.tryUnsubscribe(),a.onStateChange=void 0}},[f,g]);let h=c||dh;return c5.createElement(h.Provider,{value:f},b)};function dj(a=dh){return function(){return c5.useContext(a)}}var dk=dj(),dl=Symbol.for("immer-nothing"),dm=Symbol.for("immer-draftable"),dn=Symbol.for("immer-state");function dp(a){throw Error(`[Immer] minified error nr: ${a}. Full error at: https://bit.ly/3cXEKWf`)}var dq=Object.getPrototypeOf;function dr(a){return!!a&&!!a[dn]}function ds(a){return!!a&&(dv(a)||Array.isArray(a)||!!a[dm]||!!a.constructor?.[dm]||dB(a)||dC(a))}var dt=Object.prototype.constructor.toString(),du=new WeakMap;function dv(a){if(!a||"object"!=typeof a)return!1;let b=Object.getPrototypeOf(a);if(null===b||b===Object.prototype)return!0;let c=Object.hasOwnProperty.call(b,"constructor")&&b.constructor;if(c===Object)return!0;if("function"!=typeof c)return!1;let d=du.get(c);return void 0===d&&(d=Function.toString.call(c),du.set(c,d)),d===dt}function dw(a,b,c=!0){0===dx(a)?(c?Reflect.ownKeys(a):Object.keys(a)).forEach(c=>{b(c,a[c],a)}):a.forEach((c,d)=>b(d,c,a))}function dx(a){let b=a[dn];return b?b.type_:Array.isArray(a)?1:dB(a)?2:3*!!dC(a)}function dy(a,b){return 2===dx(a)?a.has(b):Object.prototype.hasOwnProperty.call(a,b)}function dz(a,b,c){let d=dx(a);2===d?a.set(b,c):3===d?a.add(c):a[b]=c}function dA(a,b){return a===b?0!==a||1/a==1/b:a!=a&&b!=b}function dB(a){return a instanceof Map}function dC(a){return a instanceof Set}function dD(a){return a.copy_||a.base_}function dE(a,b){if(dB(a))return new Map(a);if(dC(a))return new Set(a);if(Array.isArray(a))return Array.prototype.slice.call(a);let c=dv(a);if(!0!==b&&("class_only"!==b||c)){let b=dq(a);return null!==b&&c?{...a}:Object.assign(Object.create(b),a)}{let b=Object.getOwnPropertyDescriptors(a);delete b[dn];let c=Reflect.ownKeys(b);for(let d=0;d<c.length;d++){let e=c[d],f=b[e];!1===f.writable&&(f.writable=!0,f.configurable=!0),(f.get||f.set)&&(b[e]={configurable:!0,writable:!0,enumerable:f.enumerable,value:a[e]})}return Object.create(dq(a),b)}}function dF(a,b=!1){return dH(a)||dr(a)||!ds(a)||(dx(a)>1&&Object.defineProperties(a,{set:dG,add:dG,clear:dG,delete:dG}),Object.freeze(a),b&&Object.values(a).forEach(a=>dF(a,!0))),a}var dG={value:function(){dp(2)}};function dH(a){return null===a||"object"!=typeof a||Object.isFrozen(a)}var dI={};function dJ(a){let b=dI[a];return b||dp(0,a),b}function dK(){return k7}function dL(a,b){return{drafts_:[],parent_:a,immer_:b,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function dM(a,b){b&&(dJ("Patches"),a.patches_=[],a.inversePatches_=[],a.patchListener_=b)}function dN(a){dO(a),a.drafts_.forEach(dQ),a.drafts_=null}function dO(a){a===k7&&(k7=a.parent_)}function dP(a){return k7=dL(k7,a)}function dQ(a){let b=a[dn];0===b.type_||1===b.type_?b.revoke_():b.revoked_=!0}function dR(a,b){b.unfinalizedDrafts_=b.drafts_.length;let c=b.drafts_[0];return void 0!==a&&a!==c?(c[dn].modified_&&(dN(b),dp(4)),ds(a)&&(a=dS(b,a),b.parent_||dU(b,a)),b.patches_&&dJ("Patches").generateReplacementPatches_(c[dn].base_,a,b.patches_,b.inversePatches_)):a=dS(b,c,[]),dN(b),b.patches_&&b.patchListener_(b.patches_,b.inversePatches_),a!==dl?a:void 0}function dS(a,b,c){if(dH(b))return b;let d=a.immer_.shouldUseStrictIteration(),e=b[dn];if(!e)return dw(b,(d,f)=>dT(a,e,b,d,f,c),d),b;if(e.scope_!==a)return b;if(!e.modified_)return dU(a,e.base_,!0),e.base_;if(!e.finalized_){e.finalized_=!0,e.scope_.unfinalizedDrafts_--;let b=e.copy_,f=b,g=!1;3===e.type_&&(f=new Set(b),b.clear(),g=!0),dw(f,(d,f)=>dT(a,e,b,d,f,c,g),d),dU(a,b,!1),c&&a.patches_&&dJ("Patches").generatePatches_(e,c,a.patches_,a.inversePatches_)}return e.copy_}function dT(a,b,c,d,e,f,g){if(null==e||"object"!=typeof e&&!g)return;let h=dH(e);if(!h||g){if(dr(e)){let g=dS(a,e,f&&b&&3!==b.type_&&!dy(b.assigned_,d)?f.concat(d):void 0);if(dz(c,d,g),!dr(g))return;a.canAutoFreeze_=!1}else g&&c.add(e);if(ds(e)&&!h){if(!a.immer_.autoFreeze_&&a.unfinalizedDrafts_<1||b&&b.base_&&b.base_[d]===e&&h)return;dS(a,e),(!b||!b.scope_.parent_)&&"symbol"!=typeof d&&(dB(c)?c.has(d):Object.prototype.propertyIsEnumerable.call(c,d))&&dU(a,e)}}}function dU(a,b,c=!1){!a.parent_&&a.immer_.autoFreeze_&&a.canAutoFreeze_&&dF(b,c)}function dV(a,b){let c=Array.isArray(a),d={type_:+!!c,scope_:b?b.scope_:dK(),modified_:!1,finalized_:!1,assigned_:{},parent_:b,base_:a,draft_:null,copy_:null,revoke_:null,isManual_:!1},e=d,f=dW;c&&(e=[d],f=dX);let{revoke:g,proxy:h}=Proxy.revocable(e,f);return d.draft_=h,d.revoke_=g,h}var dW={get(a,b){if(b===dn)return a;let c=dD(a);if(!dy(c,b))return dZ(a,c,b);let d=c[b];return a.finalized_||!ds(d)?d:d===dY(a.base_,b)?(d0(a),a.copy_[b]=d1(d,a)):d},has:(a,b)=>b in dD(a),ownKeys:a=>Reflect.ownKeys(dD(a)),set(a,b,c){let d=d$(dD(a),b);if(d?.set)return d.set.call(a.draft_,c),!0;if(!a.modified_){let d=dY(dD(a),b),e=d?.[dn];if(e&&e.base_===c)return a.copy_[b]=c,a.assigned_[b]=!1,!0;if(dA(c,d)&&(void 0!==c||dy(a.base_,b)))return!0;d0(a),d_(a)}return!!(a.copy_[b]===c&&(void 0!==c||b in a.copy_)||Number.isNaN(c)&&Number.isNaN(a.copy_[b]))||(a.copy_[b]=c,a.assigned_[b]=!0,!0)},deleteProperty:(a,b)=>(void 0!==dY(a.base_,b)||b in a.base_?(a.assigned_[b]=!1,d0(a),d_(a)):delete a.assigned_[b],a.copy_&&delete a.copy_[b],!0),getOwnPropertyDescriptor(a,b){let c=dD(a),d=Reflect.getOwnPropertyDescriptor(c,b);return d?{writable:!0,configurable:1!==a.type_||"length"!==b,enumerable:d.enumerable,value:c[b]}:d},defineProperty(){dp(11)},getPrototypeOf:a=>dq(a.base_),setPrototypeOf(){dp(12)}},dX={};function dY(a,b){let c=a[dn];return(c?dD(c):a)[b]}function dZ(a,b,c){let d=d$(b,c);return d?"value"in d?d.value:d.get?.call(a.draft_):void 0}function d$(a,b){if(!(b in a))return;let c=dq(a);for(;c;){let a=Object.getOwnPropertyDescriptor(c,b);if(a)return a;c=dq(c)}}function d_(a){!a.modified_&&(a.modified_=!0,a.parent_&&d_(a.parent_))}function d0(a){a.copy_||(a.copy_=dE(a.base_,a.scope_.immer_.useStrictShallowCopy_))}function d1(a,b){let c=dB(a)?dJ("MapSet").proxyMap_(a,b):dC(a)?dJ("MapSet").proxySet_(a,b):dV(a,b);return(b?b.scope_:dK()).drafts_.push(c),c}function d2(a){return dr(a)||dp(10,a),d3(a)}function d3(a){let b;if(!ds(a)||dH(a))return a;let c=a[dn],d=!0;if(c){if(!c.modified_)return c.base_;c.finalized_=!0,b=dE(a,c.scope_.immer_.useStrictShallowCopy_),d=c.scope_.immer_.shouldUseStrictIteration()}else b=dE(a,!0);return dw(b,(a,c)=>{dz(b,a,d3(c))},d),c&&(c.finalized_=!1),b}function d4(a){return a}dw(dW,(a,b)=>{dX[a]=function(){return arguments[0]=arguments[0][0],b.apply(this,arguments)}}),dX.deleteProperty=function(a,b){return dX.set.call(this,a,b,void 0)},dX.set=function(a,b,c){return dW.set.call(this,a[0],b,c,a[0])},new class{constructor(a){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(a,b,c)=>{let d;if("function"==typeof a&&"function"!=typeof b){let c=b;b=a;let d=this;return function(a=c,...e){return d.produce(a,a=>b.call(this,a,...e))}}if("function"!=typeof b&&dp(6),void 0!==c&&"function"!=typeof c&&dp(7),ds(a)){let e=dP(this),f=d1(a,void 0),g=!0;try{d=b(f),g=!1}finally{g?dN(e):dO(e)}return dM(e,c),dR(d,e)}if(a&&"object"==typeof a)dp(1,a);else{if(void 0===(d=b(a))&&(d=a),d===dl&&(d=void 0),this.autoFreeze_&&dF(d,!0),c){let b=[],e=[];dJ("Patches").generateReplacementPatches_(a,d,b,e),c(b,e)}return d}},this.produceWithPatches=(a,b)=>{let c,d;return"function"==typeof a?(b,...c)=>this.produceWithPatches(b,b=>a(b,...c)):[this.produce(a,b,(a,b)=>{c=a,d=b}),c,d]},"boolean"==typeof a?.autoFreeze&&this.setAutoFreeze(a.autoFreeze),"boolean"==typeof a?.useStrictShallowCopy&&this.setUseStrictShallowCopy(a.useStrictShallowCopy),"boolean"==typeof a?.useStrictIteration&&this.setUseStrictIteration(a.useStrictIteration)}createDraft(a){ds(a)||dp(8),dr(a)&&(a=d2(a));let b=dP(this),c=d1(a,void 0);return c[dn].isManual_=!0,dO(b),c}finishDraft(a,b){let c=a&&a[dn];c&&c.isManual_||dp(9);let{scope_:d}=c;return dM(d,b),dR(void 0,d)}setAutoFreeze(a){this.autoFreeze_=a}setUseStrictShallowCopy(a){this.useStrictShallowCopy_=a}setUseStrictIteration(a){this.useStrictIteration_=a}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(a,b){let c;for(c=b.length-1;c>=0;c--){let d=b[c];if(0===d.path.length&&"replace"===d.op){a=d.value;break}}c>-1&&(b=b.slice(c+1));let d=dJ("Patches").applyPatches_;return dr(a)?d(a,b):this.produce(a,a=>d(a,b))}}().produce;var d5={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},d6=b2({name:"tooltip",initialState:{itemInteraction:{click:d5,hover:d5},axisInteraction:{click:d5,hover:d5},keyboardInteraction:d5,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},reducers:{addTooltipEntrySettings:{reducer(a,b){a.tooltipItemPayloads.push(d4(b.payload))},prepare:bQ()},replaceTooltipEntrySettings:{reducer(a,b){var{prev:c,next:d}=b.payload,e=aZ(a).tooltipItemPayloads.indexOf(d4(c));e>-1&&(a.tooltipItemPayloads[e]=d4(d))},prepare:bQ()},removeTooltipEntrySettings:{reducer(a,b){var c=aZ(a).tooltipItemPayloads.indexOf(d4(b.payload));c>-1&&a.tooltipItemPayloads.splice(c,1)},prepare:bQ()},setTooltipSettingsState(a,b){a.settings=b.payload},setActiveMouseOverItemIndex(a,b){a.syncInteraction.active=!1,a.keyboardInteraction.active=!1,a.itemInteraction.hover.active=!0,a.itemInteraction.hover.index=b.payload.activeIndex,a.itemInteraction.hover.dataKey=b.payload.activeDataKey,a.itemInteraction.hover.graphicalItemId=b.payload.activeGraphicalItemId,a.itemInteraction.hover.coordinate=b.payload.activeCoordinate},mouseLeaveChart(a){a.itemInteraction.hover.active=!1,a.axisInteraction.hover.active=!1},mouseLeaveItem(a){a.itemInteraction.hover.active=!1},setActiveClickItemIndex(a,b){a.syncInteraction.active=!1,a.itemInteraction.click.active=!0,a.keyboardInteraction.active=!1,a.itemInteraction.click.index=b.payload.activeIndex,a.itemInteraction.click.dataKey=b.payload.activeDataKey,a.itemInteraction.click.graphicalItemId=b.payload.activeGraphicalItemId,a.itemInteraction.click.coordinate=b.payload.activeCoordinate},setMouseOverAxisIndex(a,b){a.syncInteraction.active=!1,a.axisInteraction.hover.active=!0,a.keyboardInteraction.active=!1,a.axisInteraction.hover.index=b.payload.activeIndex,a.axisInteraction.hover.dataKey=b.payload.activeDataKey,a.axisInteraction.hover.coordinate=b.payload.activeCoordinate},setMouseClickAxisIndex(a,b){a.syncInteraction.active=!1,a.keyboardInteraction.active=!1,a.axisInteraction.click.active=!0,a.axisInteraction.click.index=b.payload.activeIndex,a.axisInteraction.click.dataKey=b.payload.activeDataKey,a.axisInteraction.click.coordinate=b.payload.activeCoordinate},setSyncInteraction(a,b){a.syncInteraction=b.payload},setKeyboardInteraction(a,b){a.keyboardInteraction.active=b.payload.active,a.keyboardInteraction.index=b.payload.activeIndex,a.keyboardInteraction.coordinate=b.payload.activeCoordinate}}}),{addTooltipEntrySettings:d7,replaceTooltipEntrySettings:d8,removeTooltipEntrySettings:d9,setTooltipSettingsState:ea,setActiveMouseOverItemIndex:eb,mouseLeaveItem:ec,mouseLeaveChart:ed,setActiveClickItemIndex:ee,setMouseOverAxisIndex:ef,setMouseClickAxisIndex:eg,setSyncInteraction:eh,setKeyboardInteraction:ei}=d6.actions,ej=d6.reducer,ek=b2({name:"chartData",initialState:{chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},reducers:{setChartData(a,b){if(a.chartData=d4(b.payload),null==b.payload){a.dataStartIndex=0,a.dataEndIndex=0;return}b.payload.length>0&&a.dataEndIndex!==b.payload.length-1&&(a.dataEndIndex=b.payload.length-1)},setComputedData(a,b){a.computedData=b.payload},setDataStartEndIndexes(a,b){var{startIndex:c,endIndex:d}=b.payload;null!=c&&(a.dataStartIndex=c),null!=d&&(a.dataEndIndex=d)}}}),{setChartData:el,setDataStartEndIndexes:em,setComputedData:en}=ek.actions,eo=ek.reducer,ep=b2({name:"chartLayout",initialState:{layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},reducers:{setLayout(a,b){a.layoutType=b.payload},setChartSize(a,b){a.width=b.payload.width,a.height=b.payload.height},setMargin(a,b){var c,d,e,f;a.margin.top=null!=(c=b.payload.top)?c:0,a.margin.right=null!=(d=b.payload.right)?d:0,a.margin.bottom=null!=(e=b.payload.bottom)?e:0,a.margin.left=null!=(f=b.payload.left)?f:0},setScale(a,b){a.scale=b.payload}}}),{setMargin:eq,setLayout:er,setChartSize:es,setScale:et}=ep.actions,eu=ep.reducer,ev=B,ew=a.i(60150),ex=B,ey=(0,B.createContext)(null),ez=a=>a,eA=()=>{var a=(0,ex.useContext)(ey);return a?a.store.dispatch:ez},eB=()=>{},eC=()=>eB,eD=(a,b)=>a===b;function eE(a){var b=(0,ex.useContext)(ey),c=(0,ex.useMemo)(()=>b?b=>{if(null!=b)return a(b)}:eB,[b,a]);return(0,ew.useSyncExternalStoreWithSelector)(b?b.subscription.addNestedSub:eC,b?b.store.getState:eB,b?b.store.getState:eB,c,eD)}var eF=a.i(30599),eG=a=>a.legend.settings,eH=a=>a.legend.size,eI=bs([a=>a.legend.payload,eG],(a,b)=>{var{itemSorter:c}=b,d=a.flat(1);return c?(0,eF.default)(d,c):d}),eJ=eF,eK=cI;function eL(a){return"object"==typeof a&&"length"in a?a:Array.from(a)}function eM(a){return function(){return a}}function eN(a,b){if((e=a.length)>1)for(var c,d,e,f=1,g=a[b[0]],h=g.length;f<e;++f)for(d=g,g=a[b[f]],c=0;c<h;++c)g[c][1]+=g[c][0]=isNaN(d[c][1])?d[c][0]:d[c][1]}function eO(a){for(var b=a.length,c=Array(b);--b>=0;)c[b]=b;return c}function eP(a,b){return a[b]}function eQ(a){let b=[];return b.key=a,b}function eR(){var a=eM([]),b=eO,c=eN,d=eP;function e(e){var f,g,h=Array.from(a.apply(this,arguments),eQ),i=h.length,j=-1;for(let a of e)for(f=0,++j;f<i;++f)(h[f][j]=[0,+d(a,h[f].key,j,e)]).data=a;for(f=0,g=eL(b(h));f<i;++f)h[g[f]].index=f;return c(h,g),h}return e.keys=function(b){return arguments.length?(a="function"==typeof b?b:eM(Array.from(b)),e):a},e.value=function(a){return arguments.length?(d="function"==typeof a?a:eM(+a),e):d},e.order=function(a){return arguments.length?(b=null==a?eO:"function"==typeof a?a:eM(Array.from(a)),e):b},e.offset=function(a){return arguments.length?(c=null==a?eN:a,e):c},e}function eS(a,b){if((c=a.length)>0){for(var c,d=0,e=a[b[0]],f=e.length;d<f;++d){for(var g=0,h=0;g<c;++g)h+=a[g][d][1]||0;e[d][1]+=e[d][0]=-h/2}eN(a,b)}}function eT(a,b){if((e=a.length)>0&&(d=(c=a[b[0]]).length)>0){for(var c,d,e,f=0,g=1;g<d;++g){for(var h=0,i=0,j=0;h<e;++h){for(var k=a[b[h]],l=k[g][1]||0,m=(l-(k[g-1][1]||0))/2,n=0;n<h;++n){var o=a[b[n]];m+=(o[g][1]||0)-(o[g-1][1]||0)}i+=l,j+=m*l}c[g-1][1]+=c[g-1][0]=f,i&&(f-=j/i)}c[g-1][1]+=c[g-1][0]=f,eN(a,b)}}function eU(a,b,c){return Array.isArray(a)&&a&&b+c!==0?a.slice(b,c+1):a}function eV(a){return Number.isFinite(a)}function eW(a){return"number"==typeof a&&a>0&&Number.isFinite(a)}function eX(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function eY(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?eX(Object(c),!0).forEach(function(b){eZ(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):eX(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function eZ(a,b,c){return(b=e$(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function e$(a){var b=e_(a,"string");return"symbol"==typeof b?b:b+""}function e_(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function e0(a,b,c){return cX(a)||cX(b)?c:cQ(b)?(0,eK.default)(a,b,c):"function"==typeof b?b(a):c}Array.prototype.slice;var e1=(a,b,c)=>{if(b&&c){var{width:d,height:e}=c,{align:f,verticalAlign:g,layout:h}=b;if(("vertical"===h||"horizontal"===h&&"middle"===g)&&"center"!==f&&cP(a[f]))return eY(eY({},a),{},{[f]:a[f]+(d||0)});if(("horizontal"===h||"vertical"===h&&"center"===f)&&"middle"!==g&&cP(a[g]))return eY(eY({},a),{},{[g]:a[g]+(e||0)})}return a},e2=(a,b)=>"horizontal"===a&&"xAxis"===b||"vertical"===a&&"yAxis"===b||"centric"===a&&"angleAxis"===b||"radial"===a&&"radiusAxis"===b,e3=(a,b,c,d)=>{if(d)return a.map(a=>a.coordinate);var e,f,g=a.map(a=>(a.coordinate===b&&(e=!0),a.coordinate===c&&(f=!0),a.coordinate));return e||g.push(b),f||g.push(c),g},e4=(a,b,c)=>{if(!a)return null;var{duplicateDomain:d,type:e,range:f,scale:g,realScaleType:h,isCategorical:i,categoricalDomain:j,tickCount:k,ticks:l,niceTicks:m,axisType:n}=a;if(!g)return null;var o="scaleBand"===h&&g.bandwidth?g.bandwidth()/2:2,p=(b||c)&&"category"===e&&g.bandwidth?g.bandwidth()/o:0;return(p="angleAxis"===n&&f&&f.length>=2?2*cM(f[0]-f[1])*p:p,b&&(l||m))?(l||m||[]).map((a,b)=>{var c=d?d.indexOf(a):a,e=g.map(c);return eV(e)?{coordinate:e+p,value:a,offset:p,index:b}:null}).filter(cZ):i&&j?j.map((a,b)=>{var c=g.map(a);return eV(c)?{coordinate:c+p,value:a,index:b,offset:p}:null}).filter(cZ):g.ticks&&!c&&null!=k?g.ticks(k).map((a,b)=>{var c=g.map(a);return eV(c)?{coordinate:c+p,value:a,index:b,offset:p}:null}).filter(cZ):g.domain().map((a,b)=>{var c=g.map(a);return eV(c)?{coordinate:c+p,value:d?d[a]:a,index:b,offset:p}:null}).filter(cZ)},e5={sign:a=>{var b,c=a.length;if(!(c<=0)){var d=null==(b=a[0])?void 0:b.length;if(null!=d&&!(d<=0))for(var e=0;e<d;++e)for(var f=0,g=0,h=0;h<c;++h){var i=a[h],j=null==i?void 0:i[e];if(null!=j){var k=j[1],l=j[0],m=cN(k)?l:k;m>=0?(j[0]=f,f+=m,j[1]=f):(j[0]=g,g+=m,j[1]=g)}}}},expand:function(a,b){if((d=a.length)>0){for(var c,d,e,f=0,g=a[0].length;f<g;++f){for(e=c=0;c<d;++c)e+=a[c][f][1]||0;if(e)for(c=0;c<d;++c)a[c][f][1]/=e}eN(a,b)}},none:eN,silhouette:eS,wiggle:eT,positive:a=>{var b,c=a.length;if(!(c<=0)){var d=null==(b=a[0])?void 0:b.length;if(null!=d&&!(d<=0))for(var e=0;e<d;++e)for(var f=0,g=0;g<c;++g){var h=a[g],i=null==h?void 0:h[e];if(null!=i){var j=cN(i[1])?i[0]:i[1];j>=0?(i[0]=f,f+=j,i[1]=f):(i[0]=0,i[1]=0)}}}}},e6=(a,b,c)=>{var d,e=null!=(d=e5[c])?d:eN,f=eR().keys(b).value((a,b)=>Number(e0(a,b,0))).order(eO).offset(e)(a);return f.forEach((c,d)=>{c.forEach((c,e)=>{var f=e0(a[e],b[d],0);Array.isArray(f)&&2===f.length&&cP(f[0])&&cP(f[1])&&(c[0]=f[0],c[1]=f[1])})}),f};function e7(a){var{axis:b,ticks:c,bandSize:d,entry:e,index:f,dataKey:g}=a;if("category"===b.type){if(!b.allowDuplicatedCategory&&b.dataKey&&!cX(e[b.dataKey])){var h=cW(c,"value",e[b.dataKey]);if(h)return h.coordinate+d/2}return null!=c&&c[f]?c[f].coordinate+d/2:null}var i=e0(e,cX(g)?b.dataKey:g),j=b.scale.map(i);return cP(j)?j:null}var e8=a=>{var b=a.flat(2).filter(cP);return[Math.min(...b),Math.max(...b)]},e9=a=>[a[0]===1/0?0:a[0],a[1]===-1/0?0:a[1]],fa=(a,b,c)=>{if(null!=a)return e9(Object.keys(a).reduce((d,e)=>{var f=a[e];if(!f)return d;var{stackedData:g}=f,h=g.reduce((a,d)=>{var e=e8(eU(d,b,c));return eV(e[0])&&eV(e[1])?[Math.min(a[0],e[0]),Math.max(a[1],e[1])]:a},[1/0,-1/0]);return[Math.min(h[0],d[0]),Math.max(h[1],d[1])]},[1/0,-1/0]))},fb=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fc=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fd=(a,b,c)=>{if(a&&a.scale&&a.scale.bandwidth){var d=a.scale.bandwidth();if(!c||d>0)return d}if(a&&b&&b.length>=2){for(var e=(0,eJ.default)(b,a=>a.coordinate),f=1/0,g=1,h=e.length;g<h;g++){var i=e[g],j=e[g-1];f=Math.min(((null==i?void 0:i.coordinate)||0)-((null==j?void 0:j.coordinate)||0),f)}return f===1/0?0:f}return c?void 0:0};function fe(a){var{tooltipEntrySettings:b,dataKey:c,payload:d,value:e,name:f}=a;return eY(eY({},b),{},{dataKey:c,payload:d,value:e,name:f})}function ff(a,b){return a?String(a):"string"==typeof b?b:void 0}var fg=(a,b)=>"horizontal"===b?a.chartX:"vertical"===b?a.chartY:void 0,fh=(a,b)=>"centric"===b?a.angle:a.radius,fi=a=>a.layout.width,fj=a=>a.layout.height,fk=a=>a.layout.scale,fl=a=>a.layout.margin,fm=bs(a=>a.cartesianAxis.xAxis,a=>Object.values(a)),fn=bs(a=>a.cartesianAxis.yAxis,a=>Object.values(a)),fo="data-recharts-item-index",fp="data-recharts-item-id",fq=60;function fr(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function fs(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?fr(Object(c),!0).forEach(function(b){ft(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):fr(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function ft(a,b,c){return(b=fu(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function fu(a){var b=fv(a,"string");return"symbol"==typeof b?b:b+""}function fv(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var fw=bs([fi,fj,fl,a=>a.brush.height,function(a){return fn(a).reduce((a,b)=>"left"!==b.orientation||b.mirror||b.hide?a:a+("number"==typeof b.width?b.width:fq),0)},function(a){return fn(a).reduce((a,b)=>"right"!==b.orientation||b.mirror||b.hide?a:a+("number"==typeof b.width?b.width:fq),0)},function(a){return fm(a).reduce((a,b)=>"top"!==b.orientation||b.mirror||b.hide?a:a+b.height,0)},function(a){return fm(a).reduce((a,b)=>"bottom"!==b.orientation||b.mirror||b.hide?a:a+b.height,0)},eG,eH],(a,b,c,d,e,f,g,h,i,j)=>{var k={left:(c.left||0)+e,right:(c.right||0)+f},l=fs(fs({},{top:(c.top||0)+g,bottom:(c.bottom||0)+h}),k),m=l.bottom;l.bottom+=d;var n=a-(l=e1(l,i,j)).left-l.right,o=b-l.top-l.bottom;return fs(fs({brushBottom:m},l),{},{width:Math.max(n,0),height:Math.max(o,0)})}),fx=bs(fw,a=>({x:a.left,y:a.top,width:a.width,height:a.height})),fy=bs(fi,fj,(a,b)=>({x:0,y:0,width:a,height:b})),fz=B,fA=(0,fz.createContext)(null),fB=()=>null!=(0,fz.useContext)(fA),fC=a=>a.brush,fD=bs([fC,fw,fl],(a,b,c)=>({height:a.height,x:cP(a.x)?a.x:b.left,y:cP(a.y)?a.y:b.top+b.height+b.brushBottom-((null==c?void 0:c.bottom)||0),width:cP(a.width)?a.width:b.width}));function fE(a){var b,c,d="";if("string"==typeof a||"number"==typeof a)d+=a;else if("object"==typeof a)if(Array.isArray(a)){var e=a.length;for(b=0;b<e;b++)a[b]&&(c=fE(a[b]))&&(d&&(d+=" "),d+=c)}else for(c in a)a[c]&&(d&&(d+=" "),d+=c);return d}function fF(){for(var a,b,c=0,d="",e=arguments.length;c<e;c++)(a=arguments[c])&&(b=fE(a))&&(d&&(d+=" "),d+=b);return d}var fG=B,fH=a.i(19978),fI=!0,fJ=function(a,b){for(var c=arguments.length,d=Array(c>2?c-2:0),e=2;e<c;e++)d[e-2]=arguments[e];if(fI&&"u">typeof console&&console.warn&&(void 0===b&&console.warn("LogUtils requires an error message argument"),!a))if(void 0===b)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=0;console.warn(b.replace(/%s/g,()=>d[f++]))}},fK="100%",fL="100%",fM=0,fN=0,fO={width:-1,height:-1},fP=(a,b,c)=>{var{width:d=fK,height:e=fL,aspect:f,maxHeight:g}=c,h=cO(d)?a:Number(d),i=cO(e)?b:Number(e);return f&&f>0&&(h?i=h/f:i&&(h=i*f),g&&null!=i&&i>g&&(i=g)),{calculatedWidth:h,calculatedHeight:i}},fQ={width:0,height:0,overflow:"visible"},fR={width:0,overflowX:"visible"},fS={height:0,overflowY:"visible"},fT={},fU=a=>{var{width:b,height:c}=a,d=cO(b),e=cO(c);return d&&e?fQ:d?fR:e?fS:fT};function fV(a){var{width:b,height:c,aspect:d}=a,e=b,f=c;return void 0===e&&void 0===f?(e=fK,f=fL):void 0===e?e=d&&d>0?void 0:fK:void 0===f&&(f=d&&d>0?void 0:fL),{width:e,height:f}}function fW(){return(fW=Object.assign.bind()).apply(null,arguments)}function fX(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function fY(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?fX(Object(c),!0).forEach(function(b){fZ(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):fX(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function fZ(a,b,c){return(b=f$(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function f$(a){var b=f_(a,"string");return"symbol"==typeof b?b:b+""}function f_(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var f0=(0,fG.createContext)(fO);function f1(a){return eW(a.width)&&eW(a.height)}function f2(a){var{children:b,width:c,height:d}=a,e=(0,fG.useMemo)(()=>({width:c,height:d}),[c,d]);return f1(e)?fG.createElement(f0.Provider,{value:e},b):null}var f3=()=>(0,fG.useContext)(f0),f4=(0,fG.forwardRef)((a,b)=>{var{aspect:c,initialDimension:d=fO,width:e,height:f,minWidth:g=fN,minHeight:h,maxHeight:i,children:j,debounce:k=fM,id:l,className:m,onResize:n,style:o={}}=a,p=(0,fG.useRef)(null),q=(0,fG.useRef)();q.current=n,(0,fG.useImperativeHandle)(b,()=>p.current);var[r,s]=(0,fG.useState)({containerWidth:d.width,containerHeight:d.height}),t=(0,fG.useCallback)((a,b)=>{s(c=>{var d=Math.round(a),e=Math.round(b);return c.containerWidth===d&&c.containerHeight===e?c:{containerWidth:d,containerHeight:e}})},[]);(0,fG.useEffect)(()=>{if(null==p.current||"u"<typeof ResizeObserver)return c$;var a=a=>{var b,c=a[0];if(null!=c){var{width:d,height:e}=c.contentRect;t(d,e),null==(b=q.current)||b.call(q,d,e)}};k>0&&(a=(0,fH.default)(a,k,{trailing:!0,leading:!1}));var b=new ResizeObserver(a),{width:c,height:d}=p.current.getBoundingClientRect();return t(c,d),b.observe(p.current),()=>{b.disconnect()}},[t,k]);var{containerWidth:u,containerHeight:v}=r;fJ(!c||c>0,"The aspect(%s) must be greater than zero.",c);var{calculatedWidth:w,calculatedHeight:x}=fP(u,v,{width:e,height:f,aspect:c,maxHeight:i});return fJ(null!=w&&w>0||null!=x&&x>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",w,x,e,f,g,h,c),fG.createElement("div",{id:l?"".concat(l):void 0,className:fF("recharts-responsive-container",m),style:fY(fY({},o),{},{width:e,height:f,minWidth:g,minHeight:h,maxHeight:i}),ref:p},fG.createElement("div",{style:fU({width:e,height:f})},fG.createElement(f2,{width:w,height:x},j)))}),f5=(0,fG.forwardRef)((a,b)=>{var c=f3();if(eW(c.width)&&eW(c.height))return a.children;var{width:d,height:e}=fV({width:a.width,height:a.height,aspect:a.aspect}),{calculatedWidth:f,calculatedHeight:g}=fP(void 0,void 0,{width:d,height:e,aspect:a.aspect,maxHeight:a.maxHeight});return cP(f)&&cP(g)?fG.createElement(f2,{width:f,height:g},a.children):fG.createElement(f4,fW({},a,{width:d,height:e,ref:b}))});function f6(a){if(a)return{x:a.x,y:a.y,upperWidth:"upperWidth"in a?a.upperWidth:a.width,lowerWidth:"lowerWidth"in a?a.lowerWidth:a.width,width:a.width,height:a.height}}var f7=()=>{var a,b=fB(),c=eE(fx),d=eE(fD),e=null==(a=eE(fC))?void 0:a.padding;return b&&d&&e?{width:d.width-e.left-e.right,height:d.height-e.top-e.bottom,x:e.left,y:e.top}:c},f8={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},f9=()=>{var a;return null!=(a=eE(fw))?a:f8},ga=()=>eE(fi),gb=()=>eE(fj),gc=()=>eE(a=>a.layout.margin),gd=a=>a.layout.layoutType,ge=()=>eE(gd),gf=()=>{var a=ge();if("horizontal"===a||"vertical"===a)return a},gg=a=>{var b=a.layout.layoutType;if("centric"===b||"radial"===b)return b},gh=()=>void 0!==ge(),gi=a=>{var b=eA(),c=fB(),{width:d,height:e}=a,f=f3(),g=d,h=e;return f&&(g=f.width>0?f.width:d,h=f.height>0?f.height:e),(0,ev.useEffect)(()=>{!c&&eW(g)&&eW(h)&&b(es({width:g,height:h}))},[b,c,g,h]),null},gj=a.i(81764);function gk(a,b,c){a*=1,b*=1,c=(e=arguments.length)<2?(b=a,a=0,1):e<3?1:+c;for(var d=-1,e=0|Math.max(0,Math.ceil((b-a)/c)),f=Array(e);++d<e;)f[d]=a+d*c;return f}function gl(a,b){switch(arguments.length){case 0:break;case 1:this.range(a);break;default:this.range(b).domain(a)}return this}function gm(a,b){switch(arguments.length){case 0:break;case 1:"function"==typeof a?this.interpolator(a):this.range(a);break;default:this.domain(a),"function"==typeof b?this.interpolator(b):this.range(b)}return this}a.s([],12521),a.i(12521),a.s([],17144),a.i(17144);class gn extends Map{constructor(a,b=gr){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:b}}),null!=a)for(const[b,c]of a)this.set(b,c)}get(a){return super.get(go(this,a))}has(a){return super.has(go(this,a))}set(a,b){return super.set(gp(this,a),b)}delete(a){return super.delete(gq(this,a))}}function go({_intern:a,_key:b},c){let d=b(c);return a.has(d)?a.get(d):c}function gp({_intern:a,_key:b},c){let d=b(c);return a.has(d)?a.get(d):(a.set(d,c),c)}function gq({_intern:a,_key:b},c){let d=b(c);return a.has(d)&&(c=a.get(d),a.delete(d)),c}function gr(a){return null!==a&&"object"==typeof a?a.valueOf():a}let gs=Symbol("implicit");function gt(){var a=new gn,b=[],c=[],d=gs;function e(e){let f=a.get(e);if(void 0===f){if(d!==gs)return d;a.set(e,f=b.push(e)-1)}return c[f%c.length]}return e.domain=function(c){if(!arguments.length)return b.slice();for(let d of(b=[],a=new gn,c))a.has(d)||a.set(d,b.push(d)-1);return e},e.range=function(a){return arguments.length?(c=Array.from(a),e):c.slice()},e.unknown=function(a){return arguments.length?(d=a,e):d},e.copy=function(){return gt(b,c).unknown(d)},gl.apply(e,arguments),e}function gu(){var a,b,c=gt().unknown(void 0),d=c.domain,e=c.range,f=0,g=1,h=!1,i=0,j=0,k=.5;function l(){var c=d().length,l=g<f,m=l?g:f,n=l?f:g;a=(n-m)/Math.max(1,c-i+2*j),h&&(a=Math.floor(a)),m+=(n-m-a*(c-i))*k,b=a*(1-i),h&&(m=Math.round(m),b=Math.round(b));var o=gk(c).map(function(b){return m+a*b});return e(l?o.reverse():o)}return delete c.unknown,c.domain=function(a){return arguments.length?(d(a),l()):d()},c.range=function(a){return arguments.length?([f,g]=a,f*=1,g*=1,l()):[f,g]},c.rangeRound=function(a){return[f,g]=a,f*=1,g*=1,h=!0,l()},c.bandwidth=function(){return b},c.step=function(){return a},c.round=function(a){return arguments.length?(h=!!a,l()):h},c.padding=function(a){return arguments.length?(i=Math.min(1,j=+a),l()):i},c.paddingInner=function(a){return arguments.length?(i=Math.min(1,a),l()):i},c.paddingOuter=function(a){return arguments.length?(j=+a,l()):j},c.align=function(a){return arguments.length?(k=Math.max(0,Math.min(1,a)),l()):k},c.copy=function(){return gu(d(),[f,g]).round(h).paddingInner(i).paddingOuter(j).align(k)},gl.apply(l(),arguments)}function gv(a){var b=a.copy;return a.padding=a.paddingOuter,delete a.paddingInner,delete a.paddingOuter,a.copy=function(){return gv(b())},a}function gw(){return gv(gu.apply(null,arguments).paddingInner(1))}let gx=Math.sqrt(50),gy=Math.sqrt(10),gz=Math.sqrt(2);function gA(a,b,c){let d,e,f,g=(b-a)/Math.max(0,c),h=Math.floor(Math.log10(g)),i=g/Math.pow(10,h),j=i>=gx?10:i>=gy?5:i>=gz?2:1;return(h<0?(d=Math.round(a*(f=Math.pow(10,-h)/j)),e=Math.round(b*f),d/f<a&&++d,e/f>b&&--e,f=-f):(d=Math.round(a/(f=Math.pow(10,h)*j)),e=Math.round(b/f),d*f<a&&++d,e*f>b&&--e),e<d&&.5<=c&&c<2)?gA(a,b,2*c):[d,e,f]}function gB(a,b,c){if(b*=1,a*=1,!((c*=1)>0))return[];if(a===b)return[a];let d=b<a,[e,f,g]=d?gA(b,a,c):gA(a,b,c);if(!(f>=e))return[];let h=f-e+1,i=Array(h);if(d)if(g<0)for(let a=0;a<h;++a)i[a]=-((f-a)/g);else for(let a=0;a<h;++a)i[a]=(f-a)*g;else if(g<0)for(let a=0;a<h;++a)i[a]=-((e+a)/g);else for(let a=0;a<h;++a)i[a]=(e+a)*g;return i}function gC(a,b,c){return gA(a*=1,b*=1,c*=1)[2]}function gD(a,b,c){b*=1,a*=1,c*=1;let d=b<a,e=d?gC(b,a,c):gC(a,b,c);return(d?-1:1)*(e<0?-(1/e):e)}function gE(a,b){return null==a||null==b?NaN:a<b?-1:a>b?1:a>=b?0:NaN}function gF(a,b){return null==a||null==b?NaN:b<a?-1:b>a?1:b>=a?0:NaN}function gG(a){let b,c,d;function e(a,d,f=0,g=a.length){if(f<g){if(0!==b(d,d))return g;do{let b=f+g>>>1;0>c(a[b],d)?f=b+1:g=b}while(f<g)}return f}function f(a,b,c=0,g=a.length){let h=e(a,b,c,g-1);return h>c&&d(a[h-1],b)>-d(a[h],b)?h-1:h}return 2!==a.length?(b=gE,c=(b,c)=>gE(a(b),c),d=(b,c)=>a(b)-c):(b=a===gE||a===gF?a:gH,c=a,d=a),{left:e,center:f,right:function(a,d,e=0,f=a.length){if(e<f){if(0!==b(d,d))return f;do{let b=e+f>>>1;0>=c(a[b],d)?e=b+1:f=b}while(e<f)}return e}}}function gH(){return 0}function gI(a){return null===a?NaN:+a}function*gJ(a,b){if(void 0===b)for(let b of a)null!=b&&(b*=1)>=b&&(yield b);else{let c=-1;for(let d of a)null!=(d=b(d,++c,a))&&(d*=1)>=d&&(yield d)}}let gK=gG(gE),gL=gK.right;gK.left,gG(gI).center;let gM=gL;function gN(a,b,c){a.prototype=b.prototype=c,c.constructor=a}function gO(a,b){var c=Object.create(a.prototype);for(var d in b)c[d]=b[d];return c}function gP(){}var gQ=.7,gR=1.4285714285714286,gS="\\s*([+-]?\\d+)\\s*",gT="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",gU="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",gV=/^#([0-9a-f]{3,8})$/,gW=RegExp(`^rgb\\(${gS},${gS},${gS}\\)$`),gX=RegExp(`^rgb\\(${gU},${gU},${gU}\\)$`),gY=RegExp(`^rgba\\(${gS},${gS},${gS},${gT}\\)$`),gZ=RegExp(`^rgba\\(${gU},${gU},${gU},${gT}\\)$`),g$=RegExp(`^hsl\\(${gT},${gU},${gU}\\)$`),g_=RegExp(`^hsla\\(${gT},${gU},${gU},${gT}\\)$`),g0={aliceblue:0xf0f8ff,antiquewhite:0xfaebd7,aqua:65535,aquamarine:8388564,azure:0xf0ffff,beige:0xf5f5dc,bisque:0xffe4c4,black:0,blanchedalmond:0xffebcd,blue:255,blueviolet:9055202,brown:0xa52a2a,burlywood:0xdeb887,cadetblue:6266528,chartreuse:8388352,chocolate:0xd2691e,coral:0xff7f50,cornflowerblue:6591981,cornsilk:0xfff8dc,crimson:0xdc143c,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:0xb8860b,darkgray:0xa9a9a9,darkgreen:25600,darkgrey:0xa9a9a9,darkkhaki:0xbdb76b,darkmagenta:9109643,darkolivegreen:5597999,darkorange:0xff8c00,darkorchid:0x9932cc,darkred:9109504,darksalmon:0xe9967a,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:0xff1493,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:0xb22222,floralwhite:0xfffaf0,forestgreen:2263842,fuchsia:0xff00ff,gainsboro:0xdcdcdc,ghostwhite:0xf8f8ff,gold:0xffd700,goldenrod:0xdaa520,gray:8421504,green:32768,greenyellow:0xadff2f,grey:8421504,honeydew:0xf0fff0,hotpink:0xff69b4,indianred:0xcd5c5c,indigo:4915330,ivory:0xfffff0,khaki:0xf0e68c,lavender:0xe6e6fa,lavenderblush:0xfff0f5,lawngreen:8190976,lemonchiffon:0xfffacd,lightblue:0xadd8e6,lightcoral:0xf08080,lightcyan:0xe0ffff,lightgoldenrodyellow:0xfafad2,lightgray:0xd3d3d3,lightgreen:9498256,lightgrey:0xd3d3d3,lightpink:0xffb6c1,lightsalmon:0xffa07a,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:0xb0c4de,lightyellow:0xffffe0,lime:65280,limegreen:3329330,linen:0xfaf0e6,magenta:0xff00ff,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:0xba55d3,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:0xc71585,midnightblue:1644912,mintcream:0xf5fffa,mistyrose:0xffe4e1,moccasin:0xffe4b5,navajowhite:0xffdead,navy:128,oldlace:0xfdf5e6,olive:8421376,olivedrab:7048739,orange:0xffa500,orangered:0xff4500,orchid:0xda70d6,palegoldenrod:0xeee8aa,palegreen:0x98fb98,paleturquoise:0xafeeee,palevioletred:0xdb7093,papayawhip:0xffefd5,peachpuff:0xffdab9,peru:0xcd853f,pink:0xffc0cb,plum:0xdda0dd,powderblue:0xb0e0e6,purple:8388736,rebeccapurple:6697881,red:0xff0000,rosybrown:0xbc8f8f,royalblue:4286945,saddlebrown:9127187,salmon:0xfa8072,sandybrown:0xf4a460,seagreen:3050327,seashell:0xfff5ee,sienna:0xa0522d,silver:0xc0c0c0,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:0xfffafa,springgreen:65407,steelblue:4620980,tan:0xd2b48c,teal:32896,thistle:0xd8bfd8,tomato:0xff6347,turquoise:4251856,violet:0xee82ee,wheat:0xf5deb3,white:0xffffff,whitesmoke:0xf5f5f5,yellow:0xffff00,yellowgreen:0x9acd32};function g1(){return this.rgb().formatHex()}function g2(){return this.rgb().formatRgb()}function g3(a){var b,c;return a=(a+"").trim().toLowerCase(),(b=gV.exec(a))?(c=b[1].length,b=parseInt(b[1],16),6===c?g4(b):3===c?new g8(b>>8&15|b>>4&240,b>>4&15|240&b,(15&b)<<4|15&b,1):8===c?g5(b>>24&255,b>>16&255,b>>8&255,(255&b)/255):4===c?g5(b>>12&15|b>>8&240,b>>8&15|b>>4&240,b>>4&15|240&b,((15&b)<<4|15&b)/255):null):(b=gW.exec(a))?new g8(b[1],b[2],b[3],1):(b=gX.exec(a))?new g8(255*b[1]/100,255*b[2]/100,255*b[3]/100,1):(b=gY.exec(a))?g5(b[1],b[2],b[3],b[4]):(b=gZ.exec(a))?g5(255*b[1]/100,255*b[2]/100,255*b[3]/100,b[4]):(b=g$.exec(a))?hf(b[1],b[2]/100,b[3]/100,1):(b=g_.exec(a))?hf(b[1],b[2]/100,b[3]/100,b[4]):g0.hasOwnProperty(a)?g4(g0[a]):"transparent"===a?new g8(NaN,NaN,NaN,0):null}function g4(a){return new g8(a>>16&255,a>>8&255,255&a,1)}function g5(a,b,c,d){return d<=0&&(a=b=c=NaN),new g8(a,b,c,d)}function g6(a){return(a instanceof gP||(a=g3(a)),a)?new g8((a=a.rgb()).r,a.g,a.b,a.opacity):new g8}function g7(a,b,c,d){return 1==arguments.length?g6(a):new g8(a,b,c,null==d?1:d)}function g8(a,b,c,d){this.r=+a,this.g=+b,this.b=+c,this.opacity=+d}function g9(){return`#${he(this.r)}${he(this.g)}${he(this.b)}`}function ha(){return`#${he(this.r)}${he(this.g)}${he(this.b)}${he((isNaN(this.opacity)?1:this.opacity)*255)}`}function hb(){let a=hc(this.opacity);return`${1===a?"rgb(":"rgba("}${hd(this.r)}, ${hd(this.g)}, ${hd(this.b)}${1===a?")":`, ${a})`}`}function hc(a){return isNaN(a)?1:Math.max(0,Math.min(1,a))}function hd(a){return Math.max(0,Math.min(255,Math.round(a)||0))}function he(a){return((a=hd(a))<16?"0":"")+a.toString(16)}function hf(a,b,c,d){return d<=0?a=b=c=NaN:c<=0||c>=1?a=b=NaN:b<=0&&(a=NaN),new hi(a,b,c,d)}function hg(a){if(a instanceof hi)return new hi(a.h,a.s,a.l,a.opacity);if(a instanceof gP||(a=g3(a)),!a)return new hi;if(a instanceof hi)return a;var b=(a=a.rgb()).r/255,c=a.g/255,d=a.b/255,e=Math.min(b,c,d),f=Math.max(b,c,d),g=NaN,h=f-e,i=(f+e)/2;return h?(g=b===f?(c-d)/h+(c<d)*6:c===f?(d-b)/h+2:(b-c)/h+4,h/=i<.5?f+e:2-f-e,g*=60):h=i>0&&i<1?0:g,new hi(g,h,i,a.opacity)}function hh(a,b,c,d){return 1==arguments.length?hg(a):new hi(a,b,c,null==d?1:d)}function hi(a,b,c,d){this.h=+a,this.s=+b,this.l=+c,this.opacity=+d}function hj(a){return(a=(a||0)%360)<0?a+360:a}function hk(a){return Math.max(0,Math.min(1,a||0))}function hl(a,b,c){return(a<60?b+(c-b)*a/60:a<180?c:a<240?b+(c-b)*(240-a)/60:b)*255}function hm(a,b,c,d,e){var f=a*a,g=f*a;return((1-3*a+3*f-g)*b+(4-6*f+3*g)*c+(1+3*a+3*f-3*g)*d+g*e)/6}function hn(a){var b=a.length-1;return function(c){var d=c<=0?c=0:c>=1?(c=1,b-1):Math.floor(c*b),e=a[d],f=a[d+1],g=d>0?a[d-1]:2*e-f,h=d<b-1?a[d+2]:2*f-e;return hm((c-d/b)*b,g,e,f,h)}}function ho(a){var b=a.length;return function(c){var d=Math.floor(((c%=1)<0?++c:c)*b),e=a[(d+b-1)%b],f=a[d%b],g=a[(d+1)%b],h=a[(d+2)%b];return hm((c-d/b)*b,e,f,g,h)}}gN(gP,g3,{copy(a){return Object.assign(new this.constructor,this,a)},displayable(){return this.rgb().displayable()},hex:g1,formatHex:g1,formatHex8:function a(){return this.rgb().formatHex8()},formatHsl:function a(){return hg(this).formatHsl()},formatRgb:g2,toString:g2}),gN(g8,g7,gO(gP,{brighter(a){return a=null==a?gR:Math.pow(gR,a),new g8(this.r*a,this.g*a,this.b*a,this.opacity)},darker(a){return a=null==a?gQ:Math.pow(gQ,a),new g8(this.r*a,this.g*a,this.b*a,this.opacity)},rgb(){return this},clamp(){return new g8(hd(this.r),hd(this.g),hd(this.b),hc(this.opacity))},displayable(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:g9,formatHex:g9,formatHex8:ha,formatRgb:hb,toString:hb})),gN(hi,hh,gO(gP,{brighter(a){return a=null==a?gR:Math.pow(gR,a),new hi(this.h,this.s,this.l*a,this.opacity)},darker(a){return a=null==a?gQ:Math.pow(gQ,a),new hi(this.h,this.s,this.l*a,this.opacity)},rgb(){var a=this.h%360+(this.h<0)*360,b=isNaN(a)||isNaN(this.s)?0:this.s,c=this.l,d=c+(c<.5?c:1-c)*b,e=2*c-d;return new g8(hl(a>=240?a-240:a+120,e,d),hl(a,e,d),hl(a<120?a+240:a-120,e,d),this.opacity)},clamp(){return new hi(hj(this.h),hk(this.s),hk(this.l),hc(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let a=hc(this.opacity);return`${1===a?"hsl(":"hsla("}${hj(this.h)}, ${100*hk(this.s)}%, ${100*hk(this.l)}%${1===a?")":`, ${a})`}`}}));let hp=a=>()=>a;function hq(a,b){return function(c){return a+c*b}}function hr(a,b,c){return a=Math.pow(a,c),b=Math.pow(b,c)-a,c=1/c,function(d){return Math.pow(a+d*b,c)}}function hs(a){return 1==(a*=1)?ht:function(b,c){return c-b?hr(b,c,a):hp(isNaN(b)?c:b)}}function ht(a,b){var c=b-a;return c?hq(a,c):hp(isNaN(a)?b:a)}let hu=function a(b){var c=hs(b);function d(a,b){var d=c((a=g7(a)).r,(b=g7(b)).r),e=c(a.g,b.g),f=c(a.b,b.b),g=ht(a.opacity,b.opacity);return function(b){return a.r=d(b),a.g=e(b),a.b=f(b),a.opacity=g(b),a+""}}return d.gamma=a,d}(1);function hv(a){return function(b){var c,d,e=b.length,f=Array(e),g=Array(e),h=Array(e);for(c=0;c<e;++c)d=g7(b[c]),f[c]=d.r||0,g[c]=d.g||0,h[c]=d.b||0;return f=a(f),g=a(g),h=a(h),d.opacity=1,function(a){return d.r=f(a),d.g=g(a),d.b=h(a),d+""}}}function hw(a,b){b||(b=[]);var c,d=a?Math.min(b.length,a.length):0,e=b.slice();return function(f){for(c=0;c<d;++c)e[c]=a[c]*(1-f)+b[c]*f;return e}}function hx(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)}function hy(a,b){var c,d=b?b.length:0,e=a?Math.min(d,a.length):0,f=Array(e),g=Array(d);for(c=0;c<e;++c)f[c]=hH(a[c],b[c]);for(;c<d;++c)g[c]=b[c];return function(a){for(c=0;c<e;++c)g[c]=f[c](a);return g}}function hz(a,b){var c=new Date;return a*=1,b*=1,function(d){return c.setTime(a*(1-d)+b*d),c}}function hA(a,b){return a*=1,b*=1,function(c){return a*(1-c)+b*c}}function hB(a,b){var c,d={},e={};for(c in(null===a||"object"!=typeof a)&&(a={}),(null===b||"object"!=typeof b)&&(b={}),b)c in a?d[c]=hH(a[c],b[c]):e[c]=b[c];return function(a){for(c in d)e[c]=d[c](a);return e}}hv(hn),hv(ho);var hC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hD=RegExp(hC.source,"g");function hE(a){return function(){return a}}function hF(a){return function(b){return a(b)+""}}function hG(a,b){var c,d,e,f=hC.lastIndex=hD.lastIndex=0,g=-1,h=[],i=[];for(a+="",b+="";(c=hC.exec(a))&&(d=hD.exec(b));)(e=d.index)>f&&(e=b.slice(f,e),h[g]?h[g]+=e:h[++g]=e),(c=c[0])===(d=d[0])?h[g]?h[g]+=d:h[++g]=d:(h[++g]=null,i.push({i:g,x:hA(c,d)})),f=hD.lastIndex;return f<b.length&&(e=b.slice(f),h[g]?h[g]+=e:h[++g]=e),h.length<2?i[0]?hF(i[0].x):hE(b):(b=i.length,function(a){for(var c,d=0;d<b;++d)h[(c=i[d]).i]=c.x(a);return h.join("")})}function hH(a,b){var c,d=typeof b;return null==b||"boolean"===d?hp(b):("number"===d?hA:"string"===d?(c=g3(b))?(b=c,hu):hG:b instanceof g3?hu:b instanceof Date?hz:hx(b)?hw:Array.isArray(b)?hy:"function"!=typeof b.valueOf&&"function"!=typeof b.toString||isNaN(b)?hB:hA)(a,b)}function hI(a,b){return a*=1,b*=1,function(c){return Math.round(a*(1-c)+b*c)}}function hJ(a){return function(){return a}}function hK(a){return+a}var hL=[0,1];function hM(a){return a}function hN(a,b){return(b-=a*=1)?function(c){return(c-a)/b}:hJ(isNaN(b)?NaN:.5)}function hO(a,b){var c;return a>b&&(c=a,a=b,b=c),function(c){return Math.max(a,Math.min(b,c))}}function hP(a,b,c){var d=a[0],e=a[1],f=b[0],g=b[1];return e<d?(d=hN(e,d),f=c(g,f)):(d=hN(d,e),f=c(f,g)),function(a){return f(d(a))}}function hQ(a,b,c){var d=Math.min(a.length,b.length)-1,e=Array(d),f=Array(d),g=-1;for(a[d]<a[0]&&(a=a.slice().reverse(),b=b.slice().reverse());++g<d;)e[g]=hN(a[g],a[g+1]),f[g]=c(b[g],b[g+1]);return function(b){var c=gM(a,b,1,d)-1;return f[c](e[c](b))}}function hR(a,b){return b.domain(a.domain()).range(a.range()).interpolate(a.interpolate()).clamp(a.clamp()).unknown(a.unknown())}function hS(){var a,b,c,d,e,f,g=hL,h=hL,i=hH,j=hM;function k(){var a=Math.min(g.length,h.length);return j!==hM&&(j=hO(g[0],g[a-1])),d=a>2?hQ:hP,e=f=null,l}function l(b){return null==b||isNaN(b*=1)?c:(e||(e=d(g.map(a),h,i)))(a(j(b)))}return l.invert=function(c){return j(b((f||(f=d(h,g.map(a),hA)))(c)))},l.domain=function(a){return arguments.length?(g=Array.from(a,hK),k()):g.slice()},l.range=function(a){return arguments.length?(h=Array.from(a),k()):h.slice()},l.rangeRound=function(a){return h=Array.from(a),i=hI,k()},l.clamp=function(a){return arguments.length?(j=!!a||hM,k()):j!==hM},l.interpolate=function(a){return arguments.length?(i=a,k()):i},l.unknown=function(a){return arguments.length?(c=a,l):c},function(c,d){return a=c,b=d,k()}}function hT(){return hS()(hM,hM)}function hU(a){return Math.abs(a=Math.round(a))>=1e21?a.toLocaleString("en").replace(/,/g,""):a.toString(10)}function hV(a,b){if(!isFinite(a)||0===a)return null;var c=(a=b?a.toExponential(b-1):a.toExponential()).indexOf("e"),d=a.slice(0,c);return[d.length>1?d[0]+d.slice(2):d,+a.slice(c+1)]}function hW(a){return(a=hV(Math.abs(a)))?a[1]:NaN}function hX(a,b){return function(c,d){for(var e=c.length,f=[],g=0,h=a[0],i=0;e>0&&h>0&&(i+h+1>d&&(h=Math.max(1,d-i)),f.push(c.substring(e-=h,e+h)),!((i+=h+1)>d));)h=a[g=(g+1)%a.length];return f.reverse().join(b)}}function hY(a){return function(b){return b.replace(/[0-9]/g,function(b){return a[+b]})}}var hZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function h$(a){var b;if(!(b=hZ.exec(a)))throw Error("invalid format: "+a);return new h_({fill:b[1],align:b[2],sign:b[3],symbol:b[4],zero:b[5],width:b[6],comma:b[7],precision:b[8]&&b[8].slice(1),trim:b[9],type:b[10]})}function h_(a){this.fill=void 0===a.fill?" ":a.fill+"",this.align=void 0===a.align?">":a.align+"",this.sign=void 0===a.sign?"-":a.sign+"",this.symbol=void 0===a.symbol?"":a.symbol+"",this.zero=!!a.zero,this.width=void 0===a.width?void 0:+a.width,this.comma=!!a.comma,this.precision=void 0===a.precision?void 0:+a.precision,this.trim=!!a.trim,this.type=void 0===a.type?"":a.type+""}function h0(a){a:for(var b,c=a.length,d=1,e=-1;d<c;++d)switch(a[d]){case".":e=b=d;break;case"0":0===e&&(e=d),b=d;break;default:if(!+a[d])break a;e>0&&(e=0)}return e>0?a.slice(0,e)+a.slice(b+1):a}function h1(a,b){var c=hV(a,b);if(!c)return a+"";var d=c[0],e=c[1];return e<0?"0."+Array(-e).join("0")+d:d.length>e+1?d.slice(0,e+1)+"."+d.slice(e+1):d+Array(e-d.length+2).join("0")}h$.prototype=h_.prototype,h_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};let h2={"%":(a,b)=>(100*a).toFixed(b),b:a=>Math.round(a).toString(2),c:a=>a+"",d:hU,e:(a,b)=>a.toExponential(b),f:(a,b)=>a.toFixed(b),g:(a,b)=>a.toPrecision(b),o:a=>Math.round(a).toString(8),p:(a,b)=>h1(100*a,b),r:h1,s:function(a,b){var c=hV(a,b);if(!c)return k8=void 0,a.toPrecision(b);var d=c[0],e=c[1],f=e-(k8=3*Math.max(-8,Math.min(8,Math.floor(e/3))))+1,g=d.length;return f===g?d:f>g?d+Array(f-g+1).join("0"):f>0?d.slice(0,f)+"."+d.slice(f):"0."+Array(1-f).join("0")+hV(a,Math.max(0,b+f-1))[0]},X:a=>Math.round(a).toString(16).toUpperCase(),x:a=>Math.round(a).toString(16)};function h3(a){return a}var h4=Array.prototype.map,h5=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function h6(a){var b=void 0===a.grouping||void 0===a.thousands?h3:hX(h4.call(a.grouping,Number),a.thousands+""),c=void 0===a.currency?"":a.currency[0]+"",d=void 0===a.currency?"":a.currency[1]+"",e=void 0===a.decimal?".":a.decimal+"",f=void 0===a.numerals?h3:hY(h4.call(a.numerals,String)),g=void 0===a.percent?"%":a.percent+"",h=void 0===a.minus?"":a.minus+"",i=void 0===a.nan?"NaN":a.nan+"";function j(a,j){var k=(a=h$(a)).fill,l=a.align,m=a.sign,n=a.symbol,o=a.zero,p=a.width,q=a.comma,r=a.precision,s=a.trim,t=a.type;"n"===t?(q=!0,t="g"):h2[t]||(void 0===r&&(r=12),s=!0,t="g"),(o||"0"===k&&"="===l)&&(o=!0,k="0",l="=");var u=(j&&void 0!==j.prefix?j.prefix:"")+("$"===n?c:"#"===n&&/[boxX]/.test(t)?"0"+t.toLowerCase():""),v=("$"===n?d:/[%p]/.test(t)?g:"")+(j&&void 0!==j.suffix?j.suffix:""),w=h2[t],x=/[defgprs%]/.test(t);function y(a){var c,d,g,j=u,n=v;if("c"===t)n=w(a)+n,a="";else{var y=(a*=1)<0||1/a<0;if(a=isNaN(a)?i:w(Math.abs(a),r),s&&(a=h0(a)),y&&0==+a&&"+"!==m&&(y=!1),j=(y?"("===m?m:h:"-"===m||"("===m?"":m)+j,n=("s"!==t||isNaN(a)||void 0===k8?"":h5[8+k8/3])+n+(y&&"("===m?")":""),x){for(c=-1,d=a.length;++c<d;)if(48>(g=a.charCodeAt(c))||g>57){n=(46===g?e+a.slice(c+1):a.slice(c))+n,a=a.slice(0,c);break}}}q&&!o&&(a=b(a,1/0));var z=j.length+a.length+n.length,A=z<p?Array(p-z+1).join(k):"";switch(q&&o&&(a=b(A+a,A.length?p-n.length:1/0),A=""),l){case"<":a=j+a+n+A;break;case"=":a=j+A+a+n;break;case"^":a=A.slice(0,z=A.length>>1)+j+a+n+A.slice(z);break;default:a=A+j+a+n}return f(a)}return r=void 0===r?6:/[gprs]/.test(t)?Math.max(1,Math.min(21,r)):Math.max(0,Math.min(20,r)),y.toString=function(){return a+""},y}function k(a,b){var c=3*Math.max(-8,Math.min(8,Math.floor(hW(b)/3))),d=Math.pow(10,-c),e=j(((a=h$(a)).type="f",a),{suffix:h5[8+c/3]});return function(a){return e(d*a)}}return{format:j,formatPrefix:k}}function h7(a){return Math.max(0,-hW(Math.abs(a)))}function h8(a,b){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(hW(b)/3)))-hW(Math.abs(a)))}function h9(a,b){return Math.max(0,hW(b=Math.abs(b)-(a=Math.abs(a)))-hW(a))+1}function ia(a,b,c,d){var e,f=gD(a,b,c);switch((d=h$(null==d?",f":d)).type){case"s":var g=Math.max(Math.abs(a),Math.abs(b));return null!=d.precision||isNaN(e=h8(f,g))||(d.precision=e),lb(d,g);case"":case"e":case"g":case"p":case"r":null!=d.precision||isNaN(e=h9(f,Math.max(Math.abs(a),Math.abs(b))))||(d.precision=e-("e"===d.type));break;case"f":case"%":null!=d.precision||isNaN(e=h7(f))||(d.precision=e-("%"===d.type)*2)}return la(d)}function ib(a){var b=a.domain;return a.ticks=function(a){var c=b();return gB(c[0],c[c.length-1],null==a?10:a)},a.tickFormat=function(a,c){var d=b();return ia(d[0],d[d.length-1],null==a?10:a,c)},a.nice=function(c){null==c&&(c=10);var d,e,f=b(),g=0,h=f.length-1,i=f[g],j=f[h],k=10;for(j<i&&(e=i,i=j,j=e,e=g,g=h,h=e);k-- >0;){if((e=gC(i,j,c))===d)return f[g]=i,f[h]=j,b(f);if(e>0)i=Math.floor(i/e)*e,j=Math.ceil(j/e)*e;else if(e<0)i=Math.ceil(i*e)/e,j=Math.floor(j*e)/e;else break;d=e}return a},a}function ic(){var a=hT();return a.copy=function(){return hR(a,ic())},gl.apply(a,arguments),ib(a)}function id(a){var b;function c(a){return null==a||isNaN(a*=1)?b:a}return c.invert=c,c.domain=c.range=function(b){return arguments.length?(a=Array.from(b,hK),c):a.slice()},c.unknown=function(a){return arguments.length?(b=a,c):b},c.copy=function(){return id(a).unknown(b)},a=arguments.length?Array.from(a,hK):[0,1],ib(c)}function ie(a,b){a=a.slice();var c,d=0,e=a.length-1,f=a[d],g=a[e];return g<f&&(c=d,d=e,e=c,c=f,f=g,g=c),a[d]=b.floor(f),a[e]=b.ceil(g),a}function ig(a){return Math.log(a)}function ih(a){return Math.exp(a)}function ii(a){return-Math.log(-a)}function ij(a){return-Math.exp(-a)}function ik(a){return isFinite(a)?+("1e"+a):a<0?0:a}function il(a){return 10===a?ik:a===Math.E?Math.exp:b=>Math.pow(a,b)}function im(a){return a===Math.E?Math.log:10===a&&Math.log10||2===a&&Math.log2||(a=Math.log(a),b=>Math.log(b)/a)}function io(a){return(b,c)=>-a(-b,c)}function ip(a){let b,c,d=a(ig,ih),e=d.domain,f=10;function g(){return b=im(f),c=il(f),e()[0]<0?(b=io(b),c=io(c),a(ii,ij)):a(ig,ih),d}return d.base=function(a){return arguments.length?(f=+a,g()):f},d.domain=function(a){return arguments.length?(e(a),g()):e()},d.ticks=a=>{let d,g,h=e(),i=h[0],j=h[h.length-1],k=j<i;k&&([i,j]=[j,i]);let l=b(i),m=b(j),n=null==a?10:+a,o=[];if(!(f%1)&&m-l<n){if(l=Math.floor(l),m=Math.ceil(m),i>0){for(;l<=m;++l)for(d=1;d<f;++d)if(!((g=l<0?d/c(-l):d*c(l))<i)){if(g>j)break;o.push(g)}}else for(;l<=m;++l)for(d=f-1;d>=1;--d)if(!((g=l>0?d/c(-l):d*c(l))<i)){if(g>j)break;o.push(g)}2*o.length<n&&(o=gB(i,j,n))}else o=gB(l,m,Math.min(m-l,n)).map(c);return k?o.reverse():o},d.tickFormat=(a,e)=>{if(null==a&&(a=10),null==e&&(e=10===f?"s":","),"function"!=typeof e&&(f%1||null!=(e=h$(e)).precision||(e.trim=!0),e=la(e)),a===1/0)return e;let g=Math.max(1,f*a/d.ticks().length);return a=>{let d=a/c(Math.round(b(a)));return d*f<f-.5&&(d*=f),d<=g?e(a):""}},d.nice=()=>e(ie(e(),{floor:a=>c(Math.floor(b(a))),ceil:a=>c(Math.ceil(b(a)))})),d}function iq(){let a=ip(hS()).domain([1,10]);return a.copy=()=>hR(a,iq()).base(a.base()),gl.apply(a,arguments),a}function ir(a){return function(b){return Math.sign(b)*Math.log1p(Math.abs(b/a))}}function is(a){return function(b){return Math.sign(b)*Math.expm1(Math.abs(b))*a}}function it(a){var b=1,c=a(ir(1),is(b));return c.constant=function(c){return arguments.length?a(ir(b=+c),is(b)):b},ib(c)}function iu(){var a=it(hS());return a.copy=function(){return hR(a,iu()).constant(a.constant())},gl.apply(a,arguments)}function iv(a){return function(b){return b<0?-Math.pow(-b,a):Math.pow(b,a)}}function iw(a){return a<0?-Math.sqrt(-a):Math.sqrt(a)}function ix(a){return a<0?-a*a:a*a}function iy(a){var b=a(hM,hM),c=1;function d(){return 1===c?a(hM,hM):.5===c?a(iw,ix):a(iv(c),iv(1/c))}return b.exponent=function(a){return arguments.length?(c=+a,d()):c},ib(b)}function iz(){var a=iy(hS());return a.copy=function(){return hR(a,iz()).exponent(a.exponent())},gl.apply(a,arguments),a}function iA(){return iz.apply(null,arguments).exponent(.5)}function iB(a){return Math.sign(a)*a*a}function iC(a){return Math.sign(a)*Math.sqrt(Math.abs(a))}function iD(){var a,b=hT(),c=[0,1],d=!1;function e(c){var e=iC(b(c));return isNaN(e)?a:d?Math.round(e):e}return e.invert=function(a){return b.invert(iB(a))},e.domain=function(a){return arguments.length?(b.domain(a),e):b.domain()},e.range=function(a){return arguments.length?(b.range((c=Array.from(a,hK)).map(iB)),e):c.slice()},e.rangeRound=function(a){return e.range(a).round(!0)},e.round=function(a){return arguments.length?(d=!!a,e):d},e.clamp=function(a){return arguments.length?(b.clamp(a),e):b.clamp()},e.unknown=function(b){return arguments.length?(a=b,e):a},e.copy=function(){return iD(b.domain(),c).round(d).clamp(b.clamp()).unknown(a)},gl.apply(e,arguments),ib(e)}function iE(a,b){let c;if(void 0===b)for(let b of a)null!=b&&(c<b||void 0===c&&b>=b)&&(c=b);else{let d=-1;for(let e of a)null!=(e=b(e,++d,a))&&(c<e||void 0===c&&e>=e)&&(c=e)}return c}function iF(a,b){let c;if(void 0===b)for(let b of a)null!=b&&(c>b||void 0===c&&b>=b)&&(c=b);else{let d=-1;for(let e of a)null!=(e=b(e,++d,a))&&(c>e||void 0===c&&e>=e)&&(c=e)}return c}function iG(a=gE){if(a===gE)return iH;if("function"!=typeof a)throw TypeError("compare is not a function");return(b,c)=>{let d=a(b,c);return d||0===d?d:(0===a(c,c))-(0===a(b,b))}}function iH(a,b){return(null==a||!(a>=a))-(null==b||!(b>=b))||(a<b?-1:+(a>b))}function iI(a,b,c=0,d=1/0,e){if(b=Math.floor(b),c=Math.floor(Math.max(0,c)),d=Math.floor(Math.min(a.length-1,d)),!(c<=b&&b<=d))return a;for(e=void 0===e?iH:iG(e);d>c;){if(d-c>600){let f=d-c+1,g=b-c+1,h=Math.log(f),i=.5*Math.exp(2*h/3),j=.5*Math.sqrt(h*i*(f-i)/f)*(g-f/2<0?-1:1),k=Math.max(c,Math.floor(b-g*i/f+j)),l=Math.min(d,Math.floor(b+(f-g)*i/f+j));iI(a,b,k,l,e)}let f=a[b],g=c,h=d;for(iJ(a,c,b),e(a[d],f)>0&&iJ(a,c,d);g<h;){for(iJ(a,g,h),++g,--h;0>e(a[g],f);)++g;for(;e(a[h],f)>0;)--h}0===e(a[c],f)?iJ(a,c,h):iJ(a,++h,d),h<=b&&(c=h+1),b<=h&&(d=h-1)}return a}function iJ(a,b,c){let d=a[b];a[b]=a[c],a[c]=d}function iK(a,b,c){if(!(!(d=(a=Float64Array.from(gJ(a,c))).length)||isNaN(b*=1))){if(b<=0||d<2)return iF(a);if(b>=1)return iE(a);var d,e=(d-1)*b,f=Math.floor(e),g=iE(iI(a,f).subarray(0,f+1)),h=iF(a.subarray(f+1));return g+(h-g)*(e-f)}}function iL(a,b,c=gI){if(!(!(d=a.length)||isNaN(b*=1))){if(b<=0||d<2)return+c(a[0],0,a);if(b>=1)return+c(a[d-1],d-1,a);var d,e=(d-1)*b,f=Math.floor(e),g=+c(a[f],f,a),h=+c(a[f+1],f+1,a);return g+(h-g)*(e-f)}}function iM(){var a,b=[],c=[],d=[];function e(){var a=0,e=Math.max(1,c.length);for(d=Array(e-1);++a<e;)d[a-1]=iL(b,a/e);return f}function f(b){return null==b||isNaN(b*=1)?a:c[gM(d,b)]}return f.invertExtent=function(a){var e=c.indexOf(a);return e<0?[NaN,NaN]:[e>0?d[e-1]:b[0],e<d.length?d[e]:b[b.length-1]]},f.domain=function(a){if(!arguments.length)return b.slice();for(let c of(b=[],a))null==c||isNaN(c*=1)||b.push(c);return b.sort(gE),e()},f.range=function(a){return arguments.length?(c=Array.from(a),e()):c.slice()},f.unknown=function(b){return arguments.length?(a=b,f):a},f.quantiles=function(){return d.slice()},f.copy=function(){return iM().domain(b).range(c).unknown(a)},gl.apply(f,arguments)}function iN(){var a,b=0,c=1,d=1,e=[.5],f=[0,1];function g(b){return null!=b&&b<=b?f[gM(e,b,0,d)]:a}function h(){var a=-1;for(e=Array(d);++a<d;)e[a]=((a+1)*c-(a-d)*b)/(d+1);return g}return g.domain=function(a){return arguments.length?([b,c]=a,b*=1,c*=1,h()):[b,c]},g.range=function(a){return arguments.length?(d=(f=Array.from(a)).length-1,h()):f.slice()},g.invertExtent=function(a){var g=f.indexOf(a);return g<0?[NaN,NaN]:g<1?[b,e[0]]:g>=d?[e[d-1],c]:[e[g-1],e[g]]},g.unknown=function(b){return arguments.length&&(a=b),g},g.thresholds=function(){return e.slice()},g.copy=function(){return iN().domain([b,c]).range(f).unknown(a)},gl.apply(ib(g),arguments)}function iO(){var a,b=[.5],c=[0,1],d=1;function e(e){return null!=e&&e<=e?c[gM(b,e,0,d)]:a}return e.domain=function(a){return arguments.length?(d=Math.min((b=Array.from(a)).length,c.length-1),e):b.slice()},e.range=function(a){return arguments.length?(c=Array.from(a),d=Math.min(b.length,c.length-1),e):c.slice()},e.invertExtent=function(a){var d=c.indexOf(a);return[b[d-1],b[d]]},e.unknown=function(b){return arguments.length?(a=b,e):a},e.copy=function(){return iO().domain(b).range(c).unknown(a)},gl.apply(e,arguments)}(function a(a){return la=(k9=h6(a)).format,lb=k9.formatPrefix})({thousands:",",grouping:[3],currency:["$",""]});let iP=new Date,iQ=new Date;function iR(a,b,c,d){function e(b){return a(b=0==arguments.length?new Date:new Date(+b)),b}return e.floor=b=>(a(b=new Date(+b)),b),e.ceil=c=>(a(c=new Date(c-1)),b(c,1),a(c),c),e.round=a=>{let b=e(a),c=e.ceil(a);return a-b<c-a?b:c},e.offset=(a,c)=>(b(a=new Date(+a),null==c?1:Math.floor(c)),a),e.range=(c,d,f)=>{let g,h=[];if(c=e.ceil(c),f=null==f?1:Math.floor(f),!(c<d)||!(f>0))return h;do h.push(g=new Date(+c)),b(c,f),a(c);while(g<c&&c<d)return h},e.filter=c=>iR(b=>{if(b>=b)for(;a(b),!c(b);)b.setTime(b-1)},(a,d)=>{if(a>=a)if(d<0)for(;++d<=0;)for(;b(a,-1),!c(a););else for(;--d>=0;)for(;b(a,1),!c(a););}),c&&(e.count=(b,d)=>(iP.setTime(+b),iQ.setTime(+d),a(iP),a(iQ),Math.floor(c(iP,iQ))),e.every=a=>isFinite(a=Math.floor(a))&&a>0?a>1?e.filter(d?b=>d(b)%a==0:b=>e.count(0,b)%a==0):e:null),e}let iS=iR(a=>{a.setMonth(0,1),a.setHours(0,0,0,0)},(a,b)=>{a.setFullYear(a.getFullYear()+b)},(a,b)=>b.getFullYear()-a.getFullYear(),a=>a.getFullYear());iS.every=a=>isFinite(a=Math.floor(a))&&a>0?iR(b=>{b.setFullYear(Math.floor(b.getFullYear()/a)*a),b.setMonth(0,1),b.setHours(0,0,0,0)},(b,c)=>{b.setFullYear(b.getFullYear()+c*a)}):null,iS.range;let iT=iR(a=>{a.setUTCMonth(0,1),a.setUTCHours(0,0,0,0)},(a,b)=>{a.setUTCFullYear(a.getUTCFullYear()+b)},(a,b)=>b.getUTCFullYear()-a.getUTCFullYear(),a=>a.getUTCFullYear());iT.every=a=>isFinite(a=Math.floor(a))&&a>0?iR(b=>{b.setUTCFullYear(Math.floor(b.getUTCFullYear()/a)*a),b.setUTCMonth(0,1),b.setUTCHours(0,0,0,0)},(b,c)=>{b.setUTCFullYear(b.getUTCFullYear()+c*a)}):null,iT.range;let iU=iR(a=>{a.setDate(1),a.setHours(0,0,0,0)},(a,b)=>{a.setMonth(a.getMonth()+b)},(a,b)=>b.getMonth()-a.getMonth()+(b.getFullYear()-a.getFullYear())*12,a=>a.getMonth());iU.range;let iV=iR(a=>{a.setUTCDate(1),a.setUTCHours(0,0,0,0)},(a,b)=>{a.setUTCMonth(a.getUTCMonth()+b)},(a,b)=>b.getUTCMonth()-a.getUTCMonth()+(b.getUTCFullYear()-a.getUTCFullYear())*12,a=>a.getUTCMonth());iV.range;let iW=1e3,iX=6e4,iY=36e5,iZ=864e5,i$=6048e5,i_=2592e6,i0=31536e6;function i1(a){return iR(b=>{b.setDate(b.getDate()-(b.getDay()+7-a)%7),b.setHours(0,0,0,0)},(a,b)=>{a.setDate(a.getDate()+7*b)},(a,b)=>(b-a-(b.getTimezoneOffset()-a.getTimezoneOffset())*iX)/i$)}let i2=i1(0),i3=i1(1),i4=i1(2),i5=i1(3),i6=i1(4),i7=i1(5),i8=i1(6);function i9(a){return iR(b=>{b.setUTCDate(b.getUTCDate()-(b.getUTCDay()+7-a)%7),b.setUTCHours(0,0,0,0)},(a,b)=>{a.setUTCDate(a.getUTCDate()+7*b)},(a,b)=>(b-a)/i$)}i2.range,i3.range,i4.range,i5.range,i6.range,i7.range,i8.range;let ja=i9(0),jb=i9(1),jc=i9(2),jd=i9(3),je=i9(4),jf=i9(5),jg=i9(6);ja.range,jb.range,jc.range,jd.range,je.range,jf.range,jg.range;let jh=iR(a=>a.setHours(0,0,0,0),(a,b)=>a.setDate(a.getDate()+b),(a,b)=>(b-a-(b.getTimezoneOffset()-a.getTimezoneOffset())*iX)/iZ,a=>a.getDate()-1);jh.range;let ji=iR(a=>{a.setUTCHours(0,0,0,0)},(a,b)=>{a.setUTCDate(a.getUTCDate()+b)},(a,b)=>(b-a)/iZ,a=>a.getUTCDate()-1);ji.range;let jj=iR(a=>{a.setUTCHours(0,0,0,0)},(a,b)=>{a.setUTCDate(a.getUTCDate()+b)},(a,b)=>(b-a)/iZ,a=>Math.floor(a/iZ));jj.range;let jk=iR(a=>{a.setTime(a-a.getMilliseconds()-a.getSeconds()*iW-a.getMinutes()*iX)},(a,b)=>{a.setTime(+a+b*iY)},(a,b)=>(b-a)/iY,a=>a.getHours());jk.range;let jl=iR(a=>{a.setUTCMinutes(0,0,0)},(a,b)=>{a.setTime(+a+b*iY)},(a,b)=>(b-a)/iY,a=>a.getUTCHours());jl.range;let jm=iR(a=>{a.setTime(a-a.getMilliseconds()-a.getSeconds()*iW)},(a,b)=>{a.setTime(+a+b*iX)},(a,b)=>(b-a)/iX,a=>a.getMinutes());jm.range;let jn=iR(a=>{a.setUTCSeconds(0,0)},(a,b)=>{a.setTime(+a+b*iX)},(a,b)=>(b-a)/iX,a=>a.getUTCMinutes());jn.range;let jo=iR(a=>{a.setTime(a-a.getMilliseconds())},(a,b)=>{a.setTime(+a+b*iW)},(a,b)=>(b-a)/iW,a=>a.getUTCSeconds());jo.range;let jp=iR(()=>{},(a,b)=>{a.setTime(+a+b)},(a,b)=>b-a);function jq(a,b,c,d,e,f){let g=[[jo,1,iW],[jo,5,5*iW],[jo,15,15*iW],[jo,30,30*iW],[f,1,iX],[f,5,5*iX],[f,15,15*iX],[f,30,30*iX],[e,1,iY],[e,3,3*iY],[e,6,6*iY],[e,12,12*iY],[d,1,iZ],[d,2,2*iZ],[c,1,i$],[b,1,i_],[b,3,3*i_],[a,1,i0]];function h(b,c,d){let e=Math.abs(c-b)/d,f=gG(([,,a])=>a).right(g,e);if(f===g.length)return a.every(gD(b/i0,c/i0,d));if(0===f)return jp.every(Math.max(gD(b,c,d),1));let[h,i]=g[e/g[f-1][2]<g[f][2]/e?f-1:f];return h.every(i)}return[function(a,b,c){let d=b<a;d&&([a,b]=[b,a]);let e=c&&"function"==typeof c.range?c:h(a,b,c),f=e?e.range(a,+b+1):[];return d?f.reverse():f},h]}jp.every=a=>isFinite(a=Math.floor(a))&&a>0?a>1?iR(b=>{b.setTime(Math.floor(b/a)*a)},(b,c)=>{b.setTime(+b+c*a)},(b,c)=>(c-b)/a):jp:null,jp.range;let[jr,js]=jq(iT,iV,ja,jj,jl,jn),[jt,ju]=jq(iS,iU,i2,jh,jk,jm);function jv(a){if(0<=a.y&&a.y<100){var b=new Date(-1,a.m,a.d,a.H,a.M,a.S,a.L);return b.setFullYear(a.y),b}return new Date(a.y,a.m,a.d,a.H,a.M,a.S,a.L)}function jw(a){if(0<=a.y&&a.y<100){var b=new Date(Date.UTC(-1,a.m,a.d,a.H,a.M,a.S,a.L));return b.setUTCFullYear(a.y),b}return new Date(Date.UTC(a.y,a.m,a.d,a.H,a.M,a.S,a.L))}function jx(a,b,c){return{y:a,m:b,d:c,H:0,M:0,S:0,L:0}}function jy(a){var b=a.dateTime,c=a.date,d=a.time,e=a.periods,f=a.days,g=a.shortDays,h=a.months,i=a.shortMonths,j=jF(e),k=jG(e),l=jF(f),m=jG(f),n=jF(g),o=jG(g),p=jF(h),q=jG(h),r=jF(i),s=jG(i),t={a:H,A:I,b:J,B:K,c:null,d:j_,e:j_,f:j4,g:kf,G:kh,H:j0,I:j1,j:j2,L:j3,m:j5,M:j6,p:L,q:M,Q:kE,s:kF,S:j7,u:j8,U:j9,V:kb,w:kc,W:kd,x:null,X:null,y:ke,Y:kg,Z:ki,"%":kD},u={a:N,A:O,b:P,B:Q,c:null,d:kj,e:kj,f:ko,g:kz,G:kB,H:kk,I:kl,j:km,L:kn,m:kp,M:kq,p:R,q:S,Q:kE,s:kF,S:kr,u:ks,U:kt,V:kv,w:kw,W:kx,x:null,X:null,y:ky,Y:kA,Z:kC,"%":kD},v={a:A,A:B,b:C,B:D,c:E,d:jR,e:jR,f:jX,g:jN,G:jM,H:jT,I:jT,j:jS,L:jW,m:jQ,M:jU,p:z,q:jP,Q:jZ,s:j$,S:jV,u:jI,U:jJ,V:jK,w:jH,W:jL,x:F,X:G,y:jN,Y:jM,Z:jO,"%":jY};function w(a,b){return function(c){var d,e,f,g=[],h=-1,i=0,j=a.length;for(c instanceof Date||(c=new Date(+c));++h<j;)37===a.charCodeAt(h)&&(g.push(a.slice(i,h)),null!=(e=jz[d=a.charAt(++h)])?d=a.charAt(++h):e="e"===d?" ":"0",(f=b[d])&&(d=f(c,e)),g.push(d),i=h+1);return g.push(a.slice(i,h)),g.join("")}}function x(a,b){return function(c){var d,e,f=jx(1900,void 0,1);if(y(f,a,c+="",0)!=c.length)return null;if("Q"in f)return new Date(f.Q);if("s"in f)return new Date(1e3*f.s+("L"in f?f.L:0));if(!b||"Z"in f||(f.Z=0),"p"in f&&(f.H=f.H%12+12*f.p),void 0===f.m&&(f.m="q"in f?f.q:0),"V"in f){if(f.V<1||f.V>53)return null;"w"in f||(f.w=1),"Z"in f?(d=(e=(d=jw(jx(f.y,0,1))).getUTCDay())>4||0===e?jb.ceil(d):jb(d),d=ji.offset(d,(f.V-1)*7),f.y=d.getUTCFullYear(),f.m=d.getUTCMonth(),f.d=d.getUTCDate()+(f.w+6)%7):(d=(e=(d=jv(jx(f.y,0,1))).getDay())>4||0===e?i3.ceil(d):i3(d),d=jh.offset(d,(f.V-1)*7),f.y=d.getFullYear(),f.m=d.getMonth(),f.d=d.getDate()+(f.w+6)%7)}else("W"in f||"U"in f)&&("w"in f||(f.w="u"in f?f.u%7:+("W"in f)),e="Z"in f?jw(jx(f.y,0,1)).getUTCDay():jv(jx(f.y,0,1)).getDay(),f.m=0,f.d="W"in f?(f.w+6)%7+7*f.W-(e+5)%7:f.w+7*f.U-(e+6)%7);return"Z"in f?(f.H+=f.Z/100|0,f.M+=f.Z%100,jw(f)):jv(f)}}function y(a,b,c,d){for(var e,f,g=0,h=b.length,i=c.length;g<h;){if(d>=i)return -1;if(37===(e=b.charCodeAt(g++))){if(!(f=v[(e=b.charAt(g++))in jz?b.charAt(g++):e])||(d=f(a,c,d))<0)return -1}else if(e!=c.charCodeAt(d++))return -1}return d}function z(a,b,c){var d=j.exec(b.slice(c));return d?(a.p=k.get(d[0].toLowerCase()),c+d[0].length):-1}function A(a,b,c){var d=n.exec(b.slice(c));return d?(a.w=o.get(d[0].toLowerCase()),c+d[0].length):-1}function B(a,b,c){var d=l.exec(b.slice(c));return d?(a.w=m.get(d[0].toLowerCase()),c+d[0].length):-1}function C(a,b,c){var d=r.exec(b.slice(c));return d?(a.m=s.get(d[0].toLowerCase()),c+d[0].length):-1}function D(a,b,c){var d=p.exec(b.slice(c));return d?(a.m=q.get(d[0].toLowerCase()),c+d[0].length):-1}function E(a,c,d){return y(a,b,c,d)}function F(a,b,d){return y(a,c,b,d)}function G(a,b,c){return y(a,d,b,c)}function H(a){return g[a.getDay()]}function I(a){return f[a.getDay()]}function J(a){return i[a.getMonth()]}function K(a){return h[a.getMonth()]}function L(a){return e[+(a.getHours()>=12)]}function M(a){return 1+~~(a.getMonth()/3)}function N(a){return g[a.getUTCDay()]}function O(a){return f[a.getUTCDay()]}function P(a){return i[a.getUTCMonth()]}function Q(a){return h[a.getUTCMonth()]}function R(a){return e[+(a.getUTCHours()>=12)]}function S(a){return 1+~~(a.getUTCMonth()/3)}return t.x=w(c,t),t.X=w(d,t),t.c=w(b,t),u.x=w(c,u),u.X=w(d,u),u.c=w(b,u),{format:function(a){var b=w(a+="",t);return b.toString=function(){return a},b},parse:function(a){var b=x(a+="",!1);return b.toString=function(){return a},b},utcFormat:function(a){var b=w(a+="",u);return b.toString=function(){return a},b},utcParse:function(a){var b=x(a+="",!0);return b.toString=function(){return a},b}}}var jz={"-":"",_:" ",0:"0"},jA=/^\s*\d+/,jB=/^%/,jC=/[\\^$*+?|[\]().{}]/g;function jD(a,b,c){var d=a<0?"-":"",e=(d?-a:a)+"",f=e.length;return d+(f<c?Array(c-f+1).join(b)+e:e)}function jE(a){return a.replace(jC,"\\$&")}function jF(a){return RegExp("^(?:"+a.map(jE).join("|")+")","i")}function jG(a){return new Map(a.map((a,b)=>[a.toLowerCase(),b]))}function jH(a,b,c){var d=jA.exec(b.slice(c,c+1));return d?(a.w=+d[0],c+d[0].length):-1}function jI(a,b,c){var d=jA.exec(b.slice(c,c+1));return d?(a.u=+d[0],c+d[0].length):-1}function jJ(a,b,c){var d=jA.exec(b.slice(c,c+2));return d?(a.U=+d[0],c+d[0].length):-1}function jK(a,b,c){var d=jA.exec(b.slice(c,c+2));return d?(a.V=+d[0],c+d[0].length):-1}function jL(a,b,c){var d=jA.exec(b.slice(c,c+2));return d?(a.W=+d[0],c+d[0].length):-1}function jM(a,b,c){var d=jA.exec(b.slice(c,c+4));return d?(a.y=+d[0],c+d[0].length):-1}function jN(a,b,c){var d=jA.exec(b.slice(c,c+2));return d?(a.y=+d[0]+(+d[0]>68?1900:2e3),c+d[0].length):-1}function jO(a,b,c){var d=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(b.slice(c,c+6));return d?(a.Z=d[1]?0:-(d[2]+(d[3]||"00")),c+d[0].length):-1}function jP(a,b,c){var d=jA.exec(b.slice(c,c+1));return d?(a.q=3*d[0]-3,c+d[0].length):-1}function jQ(a,b,c){var d=jA.exec(b.slice(c,c+2));return d?(a.m=d[0]-1,c+d[0].length):-1}function jR(a,b,c){var d=jA.exec(b.slice(c,c+2));return d?(a.d=+d[0],c+d[0].length):-1}function jS(a,b,c){var d=jA.exec(b.slice(c,c+3));return d?(a.m=0,a.d=+d[0],c+d[0].length):-1}function jT(a,b,c){var d=jA.exec(b.slice(c,c+2));return d?(a.H=+d[0],c+d[0].length):-1}function jU(a,b,c){var d=jA.exec(b.slice(c,c+2));return d?(a.M=+d[0],c+d[0].length):-1}function jV(a,b,c){var d=jA.exec(b.slice(c,c+2));return d?(a.S=+d[0],c+d[0].length):-1}function jW(a,b,c){var d=jA.exec(b.slice(c,c+3));return d?(a.L=+d[0],c+d[0].length):-1}function jX(a,b,c){var d=jA.exec(b.slice(c,c+6));return d?(a.L=Math.floor(d[0]/1e3),c+d[0].length):-1}function jY(a,b,c){var d=jB.exec(b.slice(c,c+1));return d?c+d[0].length:-1}function jZ(a,b,c){var d=jA.exec(b.slice(c));return d?(a.Q=+d[0],c+d[0].length):-1}function j$(a,b,c){var d=jA.exec(b.slice(c));return d?(a.s=+d[0],c+d[0].length):-1}function j_(a,b){return jD(a.getDate(),b,2)}function j0(a,b){return jD(a.getHours(),b,2)}function j1(a,b){return jD(a.getHours()%12||12,b,2)}function j2(a,b){return jD(1+jh.count(iS(a),a),b,3)}function j3(a,b){return jD(a.getMilliseconds(),b,3)}function j4(a,b){return j3(a,b)+"000"}function j5(a,b){return jD(a.getMonth()+1,b,2)}function j6(a,b){return jD(a.getMinutes(),b,2)}function j7(a,b){return jD(a.getSeconds(),b,2)}function j8(a){var b=a.getDay();return 0===b?7:b}function j9(a,b){return jD(i2.count(iS(a)-1,a),b,2)}function ka(a){var b=a.getDay();return b>=4||0===b?i6(a):i6.ceil(a)}function kb(a,b){return a=ka(a),jD(i6.count(iS(a),a)+(4===iS(a).getDay()),b,2)}function kc(a){return a.getDay()}function kd(a,b){return jD(i3.count(iS(a)-1,a),b,2)}function ke(a,b){return jD(a.getFullYear()%100,b,2)}function kf(a,b){return jD((a=ka(a)).getFullYear()%100,b,2)}function kg(a,b){return jD(a.getFullYear()%1e4,b,4)}function kh(a,b){var c=a.getDay();return jD((a=c>=4||0===c?i6(a):i6.ceil(a)).getFullYear()%1e4,b,4)}function ki(a){var b=a.getTimezoneOffset();return(b>0?"-":(b*=-1,"+"))+jD(b/60|0,"0",2)+jD(b%60,"0",2)}function kj(a,b){return jD(a.getUTCDate(),b,2)}function kk(a,b){return jD(a.getUTCHours(),b,2)}function kl(a,b){return jD(a.getUTCHours()%12||12,b,2)}function km(a,b){return jD(1+ji.count(iT(a),a),b,3)}function kn(a,b){return jD(a.getUTCMilliseconds(),b,3)}function ko(a,b){return kn(a,b)+"000"}function kp(a,b){return jD(a.getUTCMonth()+1,b,2)}function kq(a,b){return jD(a.getUTCMinutes(),b,2)}function kr(a,b){return jD(a.getUTCSeconds(),b,2)}function ks(a){var b=a.getUTCDay();return 0===b?7:b}function kt(a,b){return jD(ja.count(iT(a)-1,a),b,2)}function ku(a){var b=a.getUTCDay();return b>=4||0===b?je(a):je.ceil(a)}function kv(a,b){return a=ku(a),jD(je.count(iT(a),a)+(4===iT(a).getUTCDay()),b,2)}function kw(a){return a.getUTCDay()}function kx(a,b){return jD(jb.count(iT(a)-1,a),b,2)}function ky(a,b){return jD(a.getUTCFullYear()%100,b,2)}function kz(a,b){return jD((a=ku(a)).getUTCFullYear()%100,b,2)}function kA(a,b){return jD(a.getUTCFullYear()%1e4,b,4)}function kB(a,b){var c=a.getUTCDay();return jD((a=c>=4||0===c?je(a):je.ceil(a)).getUTCFullYear()%1e4,b,4)}function kC(){return"+0000"}function kD(){return"%"}function kE(a){return+a}function kF(a){return Math.floor(a/1e3)}function kG(a){return new Date(a)}function kH(a){return a instanceof Date?+a:+new Date(+a)}function kI(a,b,c,d,e,f,g,h,i,j){var k=hT(),l=k.invert,m=k.domain,n=j(".%L"),o=j(":%S"),p=j("%I:%M"),q=j("%I %p"),r=j("%a %d"),s=j("%b %d"),t=j("%B"),u=j("%Y");function v(a){return(i(a)<a?n:h(a)<a?o:g(a)<a?p:f(a)<a?q:d(a)<a?e(a)<a?r:s:c(a)<a?t:u)(a)}return k.invert=function(a){return new Date(l(a))},k.domain=function(a){return arguments.length?m(Array.from(a,kH)):m().map(kG)},k.ticks=function(b){var c=m();return a(c[0],c[c.length-1],null==b?10:b)},k.tickFormat=function(a,b){return null==b?v:j(b)},k.nice=function(a){var c=m();return a&&"function"==typeof a.range||(a=b(c[0],c[c.length-1],null==a?10:a)),a?m(ie(c,a)):k},k.copy=function(){return hR(k,kI(a,b,c,d,e,f,g,h,i,j))},k}function kJ(){return gl.apply(kI(jt,ju,iS,iU,i2,jh,jk,jm,jo,ld).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function kK(){return gl.apply(kI(jr,js,iT,iV,ja,ji,jl,jn,jo,lf).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function kL(){var a,b,c,d,e,f=0,g=1,h=hM,i=!1;function j(b){return null==b||isNaN(b*=1)?e:h(0===c?.5:(b=(d(b)-a)*c,i?Math.max(0,Math.min(1,b)):b))}function k(a){return function(b){var c,d;return arguments.length?([c,d]=b,h=a(c,d),j):[h(0),h(1)]}}return j.domain=function(e){return arguments.length?([f,g]=e,a=d(f*=1),b=d(g*=1),c=a===b?0:1/(b-a),j):[f,g]},j.clamp=function(a){return arguments.length?(i=!!a,j):i},j.interpolator=function(a){return arguments.length?(h=a,j):h},j.range=k(hH),j.rangeRound=k(hI),j.unknown=function(a){return arguments.length?(e=a,j):e},function(e){return d=e,a=e(f),b=e(g),c=a===b?0:1/(b-a),j}}function kM(a,b){return b.domain(a.domain()).interpolator(a.interpolator()).clamp(a.clamp()).unknown(a.unknown())}function kN(){var a=ib(kL()(hM));return a.copy=function(){return kM(a,kN())},gm.apply(a,arguments)}function kO(){var a=ip(kL()).domain([1,10]);return a.copy=function(){return kM(a,kO()).base(a.base())},gm.apply(a,arguments)}function kP(){var a=it(kL());return a.copy=function(){return kM(a,kP()).constant(a.constant())},gm.apply(a,arguments)}function kQ(){var a=iy(kL());return a.copy=function(){return kM(a,kQ()).exponent(a.exponent())},gm.apply(a,arguments)}function kR(){return kQ.apply(null,arguments).exponent(.5)}function kS(){var a=[],b=hM;function c(c){if(null!=c&&!isNaN(c*=1))return b((gM(a,c,1)-1)/(a.length-1))}return c.domain=function(b){if(!arguments.length)return a.slice();for(let c of(a=[],b))null==c||isNaN(c*=1)||a.push(c);return a.sort(gE),c},c.interpolator=function(a){return arguments.length?(b=a,c):b},c.range=function(){return a.map((c,d)=>b(d/(a.length-1)))},c.quantiles=function(b){return Array.from({length:b+1},(c,d)=>iK(a,d/b))},c.copy=function(){return kS(b).domain(a)},gm.apply(c,arguments)}function kT(a,b){void 0===b&&(b=a,a=hH);for(var c=0,d=b.length-1,e=b[0],f=Array(d<0?0:d);c<d;)f[c]=a(e,e=b[++c]);return function(a){var b=Math.max(0,Math.min(d-1,Math.floor(a*=d)));return f[b](a-b)}}function kU(){var a,b,c,d,e,f,g,h=0,i=.5,j=1,k=1,l=hM,m=!1;function n(a){return isNaN(a*=1)?g:(a=.5+((a=+f(a))-b)*(k*a<k*b?d:e),l(m?Math.max(0,Math.min(1,a)):a))}function o(a){return function(b){var c,d,e;return arguments.length?([c,d,e]=b,l=kT(a,[c,d,e]),n):[l(0),l(.5),l(1)]}}return n.domain=function(g){return arguments.length?([h,i,j]=g,a=f(h*=1),b=f(i*=1),c=f(j*=1),d=a===b?0:.5/(b-a),e=b===c?0:.5/(c-b),k=b<a?-1:1,n):[h,i,j]},n.clamp=function(a){return arguments.length?(m=!!a,n):m},n.interpolator=function(a){return arguments.length?(l=a,n):l},n.range=o(hH),n.rangeRound=o(hI),n.unknown=function(a){return arguments.length?(g=a,n):g},function(g){return f=g,a=g(h),b=g(i),c=g(j),d=a===b?0:.5/(b-a),e=b===c?0:.5/(c-b),k=b<a?-1:1,n}}function kV(){var a=ib(kU()(hM));return a.copy=function(){return kM(a,kV())},gm.apply(a,arguments)}function kW(){var a=ip(kU()).domain([.1,1,10]);return a.copy=function(){return kM(a,kW()).base(a.base())},gm.apply(a,arguments)}function kX(){var a=it(kU());return a.copy=function(){return kM(a,kX()).constant(a.constant())},gm.apply(a,arguments)}function kY(){var a=iy(kU());return a.copy=function(){return kM(a,kY()).exponent(a.exponent())},gm.apply(a,arguments)}function kZ(){return kY.apply(null,arguments).exponent(.5)}(function a(a){return ld=(lc=jy(a)).format,le=lc.parse,lf=lc.utcFormat,lg=lc.utcParse})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),a.s(["scaleBand",()=>gu,"scaleDiverging",()=>kV,"scaleDivergingLog",()=>kW,"scaleDivergingPow",()=>kY,"scaleDivergingSqrt",()=>kZ,"scaleDivergingSymlog",()=>kX,"scaleIdentity",()=>id,"scaleImplicit",0,gs,"scaleLinear",()=>ic,"scaleLog",()=>iq,"scaleOrdinal",()=>gt,"scalePoint",()=>gw,"scalePow",()=>iz,"scaleQuantile",()=>iM,"scaleQuantize",()=>iN,"scaleRadial",()=>iD,"scaleSequential",()=>kN,"scaleSequentialLog",()=>kO,"scaleSequentialPow",()=>kQ,"scaleSequentialQuantile",()=>kS,"scaleSequentialSqrt",()=>kR,"scaleSequentialSymlog",()=>kP,"scaleSqrt",()=>iA,"scaleSymlog",()=>iu,"scaleThreshold",()=>iO,"scaleTime",()=>kJ,"scaleUtc",()=>kK,"tickFormat",()=>ia],98678),a.i(98678),a.s(["scaleBand",()=>gu,"scaleDiverging",()=>kV,"scaleDivergingLog",()=>kW,"scaleDivergingPow",()=>kY,"scaleDivergingSqrt",()=>kZ,"scaleDivergingSymlog",()=>kX,"scaleIdentity",()=>id,"scaleImplicit",0,gs,"scaleLinear",()=>ic,"scaleLog",()=>iq,"scaleOrdinal",()=>gt,"scalePoint",()=>gw,"scalePow",()=>iz,"scaleQuantile",()=>iM,"scaleQuantize",()=>iN,"scaleRadial",()=>iD,"scaleSequential",()=>kN,"scaleSequentialLog",()=>kO,"scaleSequentialPow",()=>kQ,"scaleSequentialQuantile",()=>kS,"scaleSequentialSqrt",()=>kR,"scaleSequentialSymlog",()=>kP,"scaleSqrt",()=>iA,"scaleSymlog",()=>iu,"scaleThreshold",()=>iO,"scaleTime",()=>kJ,"scaleUtc",()=>kK,"tickFormat",()=>ia],89051);var k$=a.i(89051),k_=a=>a.chartData,k0=bs([k_],a=>{var b=null!=a.chartData?a.chartData.length-1:0;return{chartData:a.chartData,computedData:a.computedData,dataEndIndex:b,dataStartIndex:0}}),k1=(a,b,c,d)=>d?k0(a):k_(a);function k2(a){if(Array.isArray(a)&&2===a.length){var[b,c]=a;if(eV(b)&&eV(c))return!0}return!1}function k3(a,b,c){return c?a:[Math.min(a[0],b[0]),Math.max(a[1],b[1])]}function k4(a,b){if(b&&"function"!=typeof a&&Array.isArray(a)&&2===a.length){var c,d,[e,f]=a;if(eV(e))c=e;else if("function"==typeof e)return;if(eV(f))d=f;else if("function"==typeof f)return;var g=[c,d];if(k2(g))return g}}function k5(a,b,c){if(c||null!=b){if("function"==typeof a&&null!=b)try{var d=a(b,c);if(k2(d))return k3(d,b,c)}catch(a){}if(Array.isArray(a)&&2===a.length){var e,f,[g,h]=a;if("auto"===g)null!=b&&(e=Math.min(...b));else if(cP(g))e=g;else if("function"==typeof g)try{null!=b&&(e=g(null==b?void 0:b[0]))}catch(a){}else if("string"==typeof g&&fb.test(g)){var i=fb.exec(g);if(null==i||null==i[1]||null==b)e=void 0;else{var j=+i[1];e=b[0]-j}}else e=null==b?void 0:b[0];if("auto"===h)null!=b&&(f=Math.max(...b));else if(cP(h))f=h;else if("function"==typeof h)try{null!=b&&(f=h(null==b?void 0:b[1]))}catch(a){}else if("string"==typeof h&&fc.test(h)){var k=fc.exec(h);if(null==k||null==k[1]||null==b)f=void 0;else{var l=+k[1];f=b[1]+l}}else f=null==b?void 0:b[1];var m=[e,f];if(k2(m))return null==b?m:k3(m,b,c)}}}var k6,k7,k8,k9,la,lb,lc,ld,le,lf,lg,lh,li,lj=1e9,lk={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ll=!0,lm="[DecimalError] ",ln=lm+"Invalid argument: ",lo=lm+"Exponent out of range: ",lp=Math.floor,lq=Math.pow,lr=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ls=1e7,lt=7,lu=0x1fffffffffffff,lv=lp(1286742750677284.5),lw={};function lx(a,b){var c,d,e,f,g,h,i,j,k=a.constructor,l=k.precision;if(!a.s||!b.s)return b.s||(b=new k(a)),ll?lH(b,l):b;if(i=a.d,j=b.d,g=a.e,e=b.e,i=i.slice(),f=g-e){for(f<0?(d=i,f=-f,h=j.length):(d=j,e=g,h=i.length),f>(h=(g=Math.ceil(l/lt))>h?g+1:h+1)&&(f=h,d.length=1),d.reverse();f--;)d.push(0);d.reverse()}for((h=i.length)-(f=j.length)<0&&(f=h,d=j,j=i,i=d),c=0;f;)c=(i[--f]=i[f]+j[f]+c)/ls|0,i[f]%=ls;for(c&&(i.unshift(c),++e),h=i.length;0==i[--h];)i.pop();return b.d=i,b.e=e,ll?lH(b,l):b}function ly(a,b,c){if(a!==~~a||a<b||a>c)throw Error(ln+a)}function lz(a){var b,c,d,e=a.length-1,f="",g=a[0];if(e>0){for(f+=g,b=1;b<e;b++)(c=lt-(d=a[b]+"").length)&&(f+=lE(c)),f+=d;(c=lt-(d=(g=a[b])+"").length)&&(f+=lE(c))}else if(0===g)return"0";for(;g%10==0;)g/=10;return f+g}lw.absoluteValue=lw.abs=function(){var a=new this.constructor(this);return a.s&&(a.s=1),a},lw.comparedTo=lw.cmp=function(a){var b,c,d,e,f=this;if(a=new f.constructor(a),f.s!==a.s)return f.s||-a.s;if(f.e!==a.e)return f.e>a.e^f.s<0?1:-1;for(b=0,c=(d=f.d.length)<(e=a.d.length)?d:e;b<c;++b)if(f.d[b]!==a.d[b])return f.d[b]>a.d[b]^f.s<0?1:-1;return d===e?0:d>e^f.s<0?1:-1},lw.decimalPlaces=lw.dp=function(){var a=this,b=a.d.length-1,c=(b-a.e)*lt;if(b=a.d[b])for(;b%10==0;b/=10)c--;return c<0?0:c},lw.dividedBy=lw.div=function(a){return lA(this,new this.constructor(a))},lw.dividedToIntegerBy=lw.idiv=function(a){var b=this,c=b.constructor;return lH(lA(b,new c(a),0,1),c.precision)},lw.equals=lw.eq=function(a){return!this.cmp(a)},lw.exponent=function(){return lC(this)},lw.greaterThan=lw.gt=function(a){return this.cmp(a)>0},lw.greaterThanOrEqualTo=lw.gte=function(a){return this.cmp(a)>=0},lw.isInteger=lw.isint=function(){return this.e>this.d.length-2},lw.isNegative=lw.isneg=function(){return this.s<0},lw.isPositive=lw.ispos=function(){return this.s>0},lw.isZero=function(){return 0===this.s},lw.lessThan=lw.lt=function(a){return 0>this.cmp(a)},lw.lessThanOrEqualTo=lw.lte=function(a){return 1>this.cmp(a)},lw.logarithm=lw.log=function(a){var b,c=this,d=c.constructor,e=d.precision,f=e+5;if(void 0===a)a=new d(10);else if((a=new d(a)).s<1||a.eq(li))throw Error(lm+"NaN");if(c.s<1)throw Error(lm+(c.s?"NaN":"-Infinity"));return c.eq(li)?new d(0):(ll=!1,b=lA(lF(c,f),lF(a,f),f),ll=!0,lH(b,e))},lw.minus=lw.sub=function(a){var b=this;return a=new b.constructor(a),b.s==a.s?lI(b,a):lx(b,(a.s=-a.s,a))},lw.modulo=lw.mod=function(a){var b,c=this,d=c.constructor,e=d.precision;if(!(a=new d(a)).s)throw Error(lm+"NaN");return c.s?(ll=!1,b=lA(c,a,0,1).times(a),ll=!0,c.minus(b)):lH(new d(c),e)},lw.naturalExponential=lw.exp=function(){return lB(this)},lw.naturalLogarithm=lw.ln=function(){return lF(this)},lw.negated=lw.neg=function(){var a=new this.constructor(this);return a.s=-a.s||0,a},lw.plus=lw.add=function(a){var b=this;return a=new b.constructor(a),b.s==a.s?lx(b,a):lI(b,(a.s=-a.s,a))},lw.precision=lw.sd=function(a){var b,c,d,e=this;if(void 0!==a&&!!a!==a&&1!==a&&0!==a)throw Error(ln+a);if(b=lC(e)+1,c=(d=e.d.length-1)*lt+1,d=e.d[d]){for(;d%10==0;d/=10)c--;for(d=e.d[0];d>=10;d/=10)c++}return a&&b>c?b:c},lw.squareRoot=lw.sqrt=function(){var a,b,c,d,e,f,g,h=this,i=h.constructor;if(h.s<1){if(!h.s)return new i(0);throw Error(lm+"NaN")}for(a=lC(h),ll=!1,0==(e=Math.sqrt(+h))||e==1/0?(((b=lz(h.d)).length+a)%2==0&&(b+="0"),e=Math.sqrt(b),a=lp((a+1)/2)-(a<0||a%2),d=new i(b=e==1/0?"5e"+a:(b=e.toExponential()).slice(0,b.indexOf("e")+1)+a)):d=new i(e.toString()),e=g=(c=i.precision)+3;;)if(d=(f=d).plus(lA(h,f,g+2)).times(.5),lz(f.d).slice(0,g)===(b=lz(d.d)).slice(0,g)){if(b=b.slice(g-3,g+1),e==g&&"4999"==b){if(lH(f,c+1,0),f.times(f).eq(h)){d=f;break}}else if("9999"!=b)break;g+=4}return ll=!0,lH(d,c)},lw.times=lw.mul=function(a){var b,c,d,e,f,g,h,i,j,k=this,l=k.constructor,m=k.d,n=(a=new l(a)).d;if(!k.s||!a.s)return new l(0);for(a.s*=k.s,c=k.e+a.e,(i=m.length)<(j=n.length)&&(f=m,m=n,n=f,g=i,i=j,j=g),f=[],d=g=i+j;d--;)f.push(0);for(d=j;--d>=0;){for(b=0,e=i+d;e>d;)h=f[e]+n[d]*m[e-d-1]+b,f[e--]=h%ls|0,b=h/ls|0;f[e]=(f[e]+b)%ls|0}for(;!f[--g];)f.pop();return b?++c:f.shift(),a.d=f,a.e=c,ll?lH(a,l.precision):a},lw.toDecimalPlaces=lw.todp=function(a,b){var c=this,d=c.constructor;return(c=new d(c),void 0===a)?c:(ly(a,0,lj),void 0===b?b=d.rounding:ly(b,0,8),lH(c,a+lC(c)+1,b))},lw.toExponential=function(a,b){var c,d=this,e=d.constructor;return void 0===a?c=lJ(d,!0):(ly(a,0,lj),void 0===b?b=e.rounding:ly(b,0,8),c=lJ(d=lH(new e(d),a+1,b),!0,a+1)),c},lw.toFixed=function(a,b){var c,d,e=this,f=e.constructor;return void 0===a?lJ(e):(ly(a,0,lj),void 0===b?b=f.rounding:ly(b,0,8),c=lJ((d=lH(new f(e),a+lC(e)+1,b)).abs(),!1,a+lC(d)+1),e.isneg()&&!e.isZero()?"-"+c:c)},lw.toInteger=lw.toint=function(){var a=this,b=a.constructor;return lH(new b(a),lC(a)+1,b.rounding)},lw.toNumber=function(){return+this},lw.toPower=lw.pow=function(a){var b,c,d,e,f,g,h=this,i=h.constructor,j=12,k=+(a=new i(a));if(!a.s)return new i(li);if(!(h=new i(h)).s){if(a.s<1)throw Error(lm+"Infinity");return h}if(h.eq(li))return h;if(d=i.precision,a.eq(li))return lH(h,d);if(g=(b=a.e)>=(c=a.d.length-1),f=h.s,g){if((c=k<0?-k:k)<=lu){for(e=new i(li),b=Math.ceil(d/lt+4),ll=!1;c%2&&lK((e=e.times(h)).d,b),0!==(c=lp(c/2));)lK((h=h.times(h)).d,b);return ll=!0,a.s<0?new i(li).div(e):lH(e,d)}}else if(f<0)throw Error(lm+"NaN");return f=f<0&&1&a.d[Math.max(b,c)]?-1:1,h.s=1,ll=!1,e=a.times(lF(h,d+j)),ll=!0,(e=lB(e)).s=f,e},lw.toPrecision=function(a,b){var c,d,e=this,f=e.constructor;return void 0===a?(c=lC(e),d=lJ(e,c<=f.toExpNeg||c>=f.toExpPos)):(ly(a,1,lj),void 0===b?b=f.rounding:ly(b,0,8),c=lC(e=lH(new f(e),a,b)),d=lJ(e,a<=c||c<=f.toExpNeg,a)),d},lw.toSignificantDigits=lw.tosd=function(a,b){var c=this,d=c.constructor;return void 0===a?(a=d.precision,b=d.rounding):(ly(a,1,lj),void 0===b?b=d.rounding:ly(b,0,8)),lH(new d(c),a,b)},lw.toString=lw.valueOf=lw.val=lw.toJSON=lw[Symbol.for("nodejs.util.inspect.custom")]=function(){var a=this,b=lC(a),c=a.constructor;return lJ(a,b<=c.toExpNeg||b>=c.toExpPos)};var lA=function(){function a(a,b){var c,d=0,e=a.length;for(a=a.slice();e--;)c=a[e]*b+d,a[e]=c%ls|0,d=c/ls|0;return d&&a.unshift(d),a}function b(a,b,c,d){var e,f;if(c!=d)f=c>d?1:-1;else for(e=f=0;e<c;e++)if(a[e]!=b[e]){f=a[e]>b[e]?1:-1;break}return f}function c(a,b,c){for(var d=0;c--;)a[c]-=d,d=+(a[c]<b[c]),a[c]=d*ls+a[c]-b[c];for(;!a[0]&&a.length>1;)a.shift()}return function(d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z=d.constructor,A=d.s==e.s?1:-1,B=d.d,C=e.d;if(!d.s)return new z(d);if(!e.s)throw Error(lm+"Division by zero");for(j=0,i=d.e-e.e,x=C.length,v=B.length,o=(n=new z(A)).d=[];C[j]==(B[j]||0);)++j;if(C[j]>(B[j]||0)&&--i,(s=null==f?f=z.precision:g?f+(lC(d)-lC(e))+1:f)<0)return new z(0);if(s=s/lt+2|0,j=0,1==x)for(k=0,C=C[0],s++;(j<v||k)&&s--;j++)t=k*ls+(B[j]||0),o[j]=t/C|0,k=t%C|0;else{for((k=ls/(C[0]+1)|0)>1&&(C=a(C,k),B=a(B,k),x=C.length,v=B.length),u=x,q=(p=B.slice(0,x)).length;q<x;)p[q++]=0;(y=C.slice()).unshift(0),w=C[0],C[1]>=ls/2&&++w;do k=0,(h=b(C,p,x,q))<0?(r=p[0],x!=q&&(r=r*ls+(p[1]||0)),(k=r/w|0)>1?(k>=ls&&(k=ls-1),m=(l=a(C,k)).length,q=p.length,1==(h=b(l,p,m,q))&&(k--,c(l,x<m?y:C,m))):(0==k&&(h=k=1),l=C.slice()),(m=l.length)<q&&l.unshift(0),c(p,l,q),-1==h&&(q=p.length,(h=b(C,p,x,q))<1&&(k++,c(p,x<q?y:C,q))),q=p.length):0===h&&(k++,p=[0]),o[j++]=k,h&&p[0]?p[q++]=B[u]||0:(p=[B[u]],q=1);while((u++<v||void 0!==p[0])&&s--)}return o[0]||o.shift(),n.e=i,lH(n,g?f+lC(n)+1:f)}}();function lB(a,b){var c,d,e,f,g,h=0,i=0,j=a.constructor,k=j.precision;if(lC(a)>16)throw Error(lo+lC(a));if(!a.s)return new j(li);for(null==b?(ll=!1,g=k):g=b,f=new j(.03125);a.abs().gte(.1);)a=a.times(f),i+=5;for(g+=Math.log(lq(2,i))/Math.LN10*2+5|0,c=d=e=new j(li),j.precision=g;;){if(d=lH(d.times(a),g),c=c.times(++h),lz((f=e.plus(lA(d,c,g))).d).slice(0,g)===lz(e.d).slice(0,g)){for(;i--;)e=lH(e.times(e),g);return j.precision=k,null==b?(ll=!0,lH(e,k)):e}e=f}}function lC(a){for(var b=a.e*lt,c=a.d[0];c>=10;c/=10)b++;return b}function lD(a,b,c){if(b>a.LN10.sd())throw ll=!0,c&&(a.precision=c),Error(lm+"LN10 precision limit exceeded");return lH(new a(a.LN10),b)}function lE(a){for(var b="";a--;)b+="0";return b}function lF(a,b){var c,d,e,f,g,h,i,j,k,l=1,m=10,n=a,o=n.d,p=n.constructor,q=p.precision;if(n.s<1)throw Error(lm+(n.s?"NaN":"-Infinity"));if(n.eq(li))return new p(0);if(null==b?(ll=!1,j=q):j=b,n.eq(10))return null==b&&(ll=!0),lD(p,j);if(p.precision=j+=m,d=(c=lz(o)).charAt(0),!(15e14>Math.abs(f=lC(n))))return i=lD(p,j+2,q).times(f+""),n=lF(new p(d+"."+c.slice(1)),j-m).plus(i),p.precision=q,null==b?(ll=!0,lH(n,q)):n;for(;d<7&&1!=d||1==d&&c.charAt(1)>3;)d=(c=lz((n=n.times(a)).d)).charAt(0),l++;for(f=lC(n),d>1?(n=new p("0."+c),f++):n=new p(d+"."+c.slice(1)),h=g=n=lA(n.minus(li),n.plus(li),j),k=lH(n.times(n),j),e=3;;){if(g=lH(g.times(k),j),lz((i=h.plus(lA(g,new p(e),j))).d).slice(0,j)===lz(h.d).slice(0,j))return h=h.times(2),0!==f&&(h=h.plus(lD(p,j+2,q).times(f+""))),h=lA(h,new p(l),j),p.precision=q,null==b?(ll=!0,lH(h,q)):h;h=i,e+=2}}function lG(a,b){var c,d,e;for((c=b.indexOf("."))>-1&&(b=b.replace(".","")),(d=b.search(/e/i))>0?(c<0&&(c=d),c+=+b.slice(d+1),b=b.substring(0,d)):c<0&&(c=b.length),d=0;48===b.charCodeAt(d);)++d;for(e=b.length;48===b.charCodeAt(e-1);)--e;if(b=b.slice(d,e)){if(e-=d,a.e=lp((c=c-d-1)/lt),a.d=[],d=(c+1)%lt,c<0&&(d+=lt),d<e){for(d&&a.d.push(+b.slice(0,d)),e-=lt;d<e;)a.d.push(+b.slice(d,d+=lt));d=lt-(b=b.slice(d)).length}else d-=e;for(;d--;)b+="0";if(a.d.push(+b),ll&&(a.e>lv||a.e<-lv))throw Error(lo+c)}else a.s=0,a.e=0,a.d=[0];return a}function lH(a,b,c){var d,e,f,g,h,i,j,k,l=a.d;for(g=1,f=l[0];f>=10;f/=10)g++;if((d=b-g)<0)d+=lt,e=b,j=l[k=0];else{if((k=Math.ceil((d+1)/lt))>=(f=l.length))return a;for(g=1,j=f=l[k];f>=10;f/=10)g++;d%=lt,e=d-lt+g}if(void 0!==c&&(h=j/(f=lq(10,g-e-1))%10|0,i=b<0||void 0!==l[k+1]||j%f,i=c<4?(h||i)&&(0==c||c==(a.s<0?3:2)):h>5||5==h&&(4==c||i||6==c&&(d>0?e>0?j/lq(10,g-e):0:l[k-1])%10&1||c==(a.s<0?8:7))),b<1||!l[0])return i?(f=lC(a),l.length=1,b=b-f-1,l[0]=lq(10,(lt-b%lt)%lt),a.e=lp(-b/lt)||0):(l.length=1,l[0]=a.e=a.s=0),a;if(0==d?(l.length=k,f=1,k--):(l.length=k+1,f=lq(10,lt-d),l[k]=e>0?(j/lq(10,g-e)%lq(10,e)|0)*f:0),i)for(;;)if(0==k){(l[0]+=f)==ls&&(l[0]=1,++a.e);break}else{if(l[k]+=f,l[k]!=ls)break;l[k--]=0,f=1}for(d=l.length;0===l[--d];)l.pop();if(ll&&(a.e>lv||a.e<-lv))throw Error(lo+lC(a));return a}function lI(a,b){var c,d,e,f,g,h,i,j,k,l,m=a.constructor,n=m.precision;if(!a.s||!b.s)return b.s?b.s=-b.s:b=new m(a),ll?lH(b,n):b;if(i=a.d,l=b.d,d=b.e,j=a.e,i=i.slice(),g=j-d){for((k=g<0)?(c=i,g=-g,h=l.length):(c=l,d=j,h=i.length),g>(e=Math.max(Math.ceil(n/lt),h)+2)&&(g=e,c.length=1),c.reverse(),e=g;e--;)c.push(0);c.reverse()}else{for((k=(e=i.length)<(h=l.length))&&(h=e),e=0;e<h;e++)if(i[e]!=l[e]){k=i[e]<l[e];break}g=0}for(k&&(c=i,i=l,l=c,b.s=-b.s),h=i.length,e=l.length-h;e>0;--e)i[h++]=0;for(e=l.length;e>g;){if(i[--e]<l[e]){for(f=e;f&&0===i[--f];)i[f]=ls-1;--i[f],i[e]+=ls}i[e]-=l[e]}for(;0===i[--h];)i.pop();for(;0===i[0];i.shift())--d;return i[0]?(b.d=i,b.e=d,ll?lH(b,n):b):new m(0)}function lJ(a,b,c){var d,e=lC(a),f=lz(a.d),g=f.length;return b?(c&&(d=c-g)>0?f=f.charAt(0)+"."+f.slice(1)+lE(d):g>1&&(f=f.charAt(0)+"."+f.slice(1)),f=f+(e<0?"e":"e+")+e):e<0?(f="0."+lE(-e-1)+f,c&&(d=c-g)>0&&(f+=lE(d))):e>=g?(f+=lE(e+1-g),c&&(d=c-e-1)>0&&(f=f+"."+lE(d))):((d=e+1)<g&&(f=f.slice(0,d)+"."+f.slice(d)),c&&(d=c-g)>0&&(e+1===g&&(f+="."),f+=lE(d))),a.s<0?"-"+f:f}function lK(a,b){if(a.length>b)return a.length=b,!0}function lL(a){var b,c,d;function e(a){var b=this;if(!(b instanceof e))return new e(a);if(b.constructor=e,a instanceof e){b.s=a.s,b.e=a.e,b.d=(a=a.d)?a.slice():a;return}if("number"==typeof a){if(0*a!=0)throw Error(ln+a);if(a>0)b.s=1;else if(a<0)a=-a,b.s=-1;else{b.s=0,b.e=0,b.d=[0];return}if(a===~~a&&a<1e7){b.e=0,b.d=[a];return}return lG(b,a.toString())}if("string"!=typeof a)throw Error(ln+a);if(45===a.charCodeAt(0)?(a=a.slice(1),b.s=-1):b.s=1,lr.test(a))lG(b,a);else throw Error(ln+a)}if(e.prototype=lw,e.ROUND_UP=0,e.ROUND_DOWN=1,e.ROUND_CEIL=2,e.ROUND_FLOOR=3,e.ROUND_HALF_UP=4,e.ROUND_HALF_DOWN=5,e.ROUND_HALF_EVEN=6,e.ROUND_HALF_CEIL=7,e.ROUND_HALF_FLOOR=8,e.clone=lL,e.config=e.set=lM,void 0===a&&(a={}),a)for(b=0,d=["precision","rounding","toExpNeg","toExpPos","LN10"];b<d.length;)a.hasOwnProperty(c=d[b++])||(a[c]=this[c]);return e.config(a),e}function lM(a){if(!a||"object"!=typeof a)throw Error(lm+"Object expected");var b,c,d,e=["precision",1,lj,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(b=0;b<e.length;b+=3)if(void 0!==(d=a[c=e[b]]))if(lp(d)===d&&d>=e[b+1]&&d<=e[b+2])this[c]=d;else throw Error(ln+c+": "+d);if(void 0!==(d=a[c="LN10"]))if(d==Math.LN10)this[c]=new this(d);else throw Error(ln+c+": "+d);return this}var lh=lL(lk);li=new lh(1);let lN=lh;function lO(a){return 0===a?1:Math.floor(new lN(a).abs().log(10).toNumber())+1}function lP(a,b,c){for(var d=new lN(a),e=0,f=[];d.lt(b)&&e<1e5;)f.push(d.toNumber()),d=d.add(c),e++;return f}var lQ=a=>{var[b,c]=a,[d,e]=[b,c];return b>c&&([d,e]=[c,b]),[d,e]},lR=(a,b,c)=>{if(a.lte(0))return new lN(0);var d=lO(a.toNumber()),e=new lN(10).pow(d),f=a.div(e),g=1!==d?.05:.1,h=new lN(Math.ceil(f.div(g).toNumber())).add(c).mul(g).mul(e);return new lN(b?h.toNumber():Math.ceil(h.toNumber()))},lS=(a,b,c)=>{var d=new lN(1),e=new lN(a);if(!e.isint()&&c){var f=Math.abs(a);f<1?(d=new lN(10).pow(lO(a)-1),e=new lN(Math.floor(e.div(d).toNumber())).mul(d)):f>1&&(e=new lN(Math.floor(a)))}else 0===a?e=new lN(Math.floor((b-1)/2)):c||(e=new lN(Math.floor(a)));for(var g=Math.floor((b-1)/2),h=[],i=0;i<b;i++)h.push(e.add(new lN(i-g).mul(d)).toNumber());return h},lT=function(a,b,c,d){var e,f=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((b-a)/(c-1)))return{step:new lN(0),tickMin:new lN(0),tickMax:new lN(0)};var g=lR(new lN(b).sub(a).div(c-1),d,f),h=Math.ceil((e=a<=0&&b>=0?new lN(0):(e=new lN(a).add(b).div(2)).sub(new lN(e).mod(g))).sub(a).div(g).toNumber()),i=Math.ceil(new lN(b).sub(e).div(g).toNumber()),j=h+i+1;return j>c?lT(a,b,c,d,f+1):(j<c&&(i=b>0?i+(c-j):i,h=b>0?h:h+(c-j)),{step:g,tickMin:e.sub(new lN(h).mul(g)),tickMax:e.add(new lN(i).mul(g))})},lU=function(a){var[b,c]=a,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,e=!(arguments.length>2)||void 0===arguments[2]||arguments[2],f=Math.max(d,2),[g,h]=lQ([b,c]);if(g===-1/0||h===1/0){var i=h===1/0?[g,...Array(d-1).fill(1/0)]:[...Array(d-1).fill(-1/0),h];return b>c?i.reverse():i}if(g===h)return lS(g,d,e);var{step:j,tickMin:k,tickMax:l}=lT(g,h,f,e,0),m=lP(k,l.add(new lN(.1).mul(j)),j);return b>c?m.reverse():m},lV=function(a,b){var[c,d]=a,e=!(arguments.length>2)||void 0===arguments[2]||arguments[2],[f,g]=lQ([c,d]);if(f===-1/0||g===1/0)return[c,d];if(f===g)return[f];var h=Math.max(b,2),i=lR(new lN(g).sub(f).div(h-1),e,0),j=[...lP(new lN(f),new lN(g),i),g];return!1===e&&(j=j.map(a=>Math.round(a))),c>d?j.reverse():j},lW=a=>a.rootProps.barCategoryGap,lX=a=>a.rootProps.stackOffset,lY=a=>a.rootProps.reverseStackOrder,lZ=a=>a.options.chartName,l$=a=>a.rootProps.syncId,l_=a=>a.rootProps.syncMethod,l0=a=>a.options.eventEmitter;function l1(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function l2(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?l1(Object(c),!0).forEach(function(b){l3(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):l1(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function l3(a,b,c){return(b=l4(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function l4(a){var b=l5(a,"string");return"symbol"==typeof b?b:b+""}function l5(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var l6=Math.PI/180,l7=a=>180*a/Math.PI,l8=(a,b,c,d)=>({x:a+Math.cos(-l6*d)*c,y:b+Math.sin(-l6*d)*c}),l9=function(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(a-(c.left||0)-(c.right||0)),Math.abs(b-(c.top||0)-(c.bottom||0)))/2},ma=(a,b)=>{var{x:c,y:d}=a,{x:e,y:f}=b;return Math.sqrt((c-e)**2+(d-f)**2)},mb=(a,b)=>{var{x:c,y:d}=a,{cx:e,cy:f}=b,g=ma({x:c,y:d},{x:e,y:f});if(g<=0)return{radius:g,angle:0};var h=Math.acos((c-e)/g);return d>f&&(h=2*Math.PI-h),{radius:g,angle:l7(h),angleInRadian:h}},mc=a=>{var{startAngle:b,endAngle:c}=a,d=Math.min(Math.floor(b/360),Math.floor(c/360));return{startAngle:b-360*d,endAngle:c-360*d}},md=(a,b)=>{var{startAngle:c,endAngle:d}=b;return a+360*Math.min(Math.floor(c/360),Math.floor(d/360))},me=(a,b)=>{var c,{chartX:d,chartY:e}=a,{radius:f,angle:g}=mb({x:d,y:e},b),{innerRadius:h,outerRadius:i}=b;if(f<h||f>i||0===f)return null;var{startAngle:j,endAngle:k}=mc(b),l=g;if(j<=k){for(;l>k;)l-=360;for(;l<j;)l+=360;c=l>=j&&l<=k}else{for(;l>j;)l-=360;for(;l<k;)l+=360;c=l>=k&&l<=j}return c?l2(l2({},b),{},{radius:f,angle:md(l,b)}):null},mf={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},mg={allowDecimals:!1,allowDuplicatedCategory:!0,allowDataOverflow:!1,angle:0,angleAxisId:0,axisLine:!0,axisLineType:"polygon",cx:0,cy:0,hide:!1,includeHidden:!1,label:!1,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"auto",zIndex:mf.axis},mh={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,includeHidden:!1,hide:!1,label:!1,orientation:"right",radiusAxisId:0,reversed:!1,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,tickLine:!0,type:"auto",zIndex:mf.axis},mi=(a,b)=>{if(a&&b)return null!=a&&a.reversed?[b[1],b[0]]:b};function mj(a,b,c){return"auto"!==c?c:null!=a?e2(a,b)?"category":"number":void 0}function mk(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function ml(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?mk(Object(c),!0).forEach(function(b){mm(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):mk(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function mm(a,b,c){return(b=mn(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function mn(a){var b=mo(a,"string");return"symbol"==typeof b?b:b+""}function mo(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var mp={allowDataOverflow:mg.allowDataOverflow,allowDecimals:mg.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:mg.angleAxisId,includeHidden:!1,name:void 0,reversed:mg.reversed,scale:mg.scale,tick:mg.tick,tickCount:void 0,ticks:void 0,type:mg.type,unit:void 0},mq={allowDataOverflow:mh.allowDataOverflow,allowDecimals:mh.allowDecimals,allowDuplicatedCategory:mh.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:mh.radiusAxisId,includeHidden:mh.includeHidden,name:void 0,reversed:mh.reversed,scale:mh.scale,tick:mh.tick,tickCount:mh.tickCount,ticks:void 0,type:mh.type,unit:void 0},mr=bs([(a,b)=>{if(null!=b)return a.polarAxis.angleAxis[b]},gg],(a,b)=>{if(null!=a)return a;var c,d=null!=(c=mj(b,"angleAxis",mp.type))?c:"category";return ml(ml({},mp),{},{type:d})}),ms=bs([(a,b)=>a.polarAxis.radiusAxis[b],gg],(a,b)=>{if(null!=a)return a;var c,d=null!=(c=mj(b,"radiusAxis",mq.type))?c:"category";return ml(ml({},mq),{},{type:d})}),mt=a=>a.polarOptions,mu=bs([fi,fj,fw],l9),mv=bs([mt,mu],(a,b)=>{if(null!=a)return cT(a.innerRadius,b,0)}),mw=bs([mt,mu],(a,b)=>{if(null!=a)return cT(a.outerRadius,b,.8*b)}),mx=bs([mt],a=>{if(null==a)return[0,0];var{startAngle:b,endAngle:c}=a;return[b,c]});bs([mr,mx],mi);var my=bs([mu,mv,mw],(a,b,c)=>{if(null!=a&&null!=b&&null!=c)return[b,c]});bs([ms,my],mi);var mz=bs([gd,mt,mv,mw,fi,fj],(a,b,c,d,e,f)=>{if(("centric"===a||"radial"===a)&&null!=b&&null!=c&&null!=d){var{cx:g,cy:h,startAngle:i,endAngle:j}=b;return{cx:cT(g,e,e/2),cy:cT(h,f,f/2),innerRadius:c,outerRadius:d,startAngle:i,endAngle:j,clockWise:!1}}}),mA=(a,b)=>b,mB=(a,b,c)=>c;function mC(a){return null==a?void 0:a.id}function mD(a,b,c){var{chartData:d=[]}=b,{allowDuplicatedCategory:e,dataKey:f}=c,g=new Map;return a.forEach(a=>{var b,c=null!=(b=a.data)?b:d;if(null!=c&&0!==c.length){var h=mC(a);c.forEach((b,c)=>{var d,i=null==f||e?c:String(e0(b,f,null)),j=e0(b,a.dataKey,0);Object.assign(d=g.has(i)?g.get(i):{},{[h]:j}),g.set(i,d)})}}),Array.from(g.values())}function mE(a){return"stackId"in a&&null!=a.stackId&&null!=a.dataKey}var mF=(a,b)=>a===b||null!=a&&null!=b&&a[0]===b[0]&&a[1]===b[1];function mG(a,b){return!!(Array.isArray(a)&&Array.isArray(b))&&0===a.length&&0===b.length||a===b}function mH(a,b){if(a.length===b.length){for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0}return!1}var mI=a=>{var b=gd(a);return"horizontal"===b?"xAxis":"vertical"===b?"yAxis":"centric"===b?"angleAxis":"radiusAxis"},mJ=a=>a.tooltip.settings.axisId,mK=k$;function mL(a){if(a in mK)return mK[a]();var b="scale".concat(cY(a));if(b in mK)return mK[b]()}function mM(a){var b=a.ticks,c=a.bandwidth,d=a.range(),e=[Math.min(...d),Math.max(...d)];return{domain:()=>a.domain(),range:function(a){function b(){return a.apply(this,arguments)}return b.toString=function(){return a.toString()},b}(()=>e),rangeMin:()=>e[0],rangeMax:()=>e[1],isInRange(a){var b=e[0],c=e[1];return b<=c?a>=b&&a<=c:a>=c&&a<=b},bandwidth:c?()=>c.call(a):void 0,ticks:b?c=>b.call(a,c):void 0,map:(b,c)=>{var d=a(b);if(null!=d){if(a.bandwidth&&null!=c&&c.position){var e=a.bandwidth();switch(c.position){case"middle":d+=e/2;break;case"end":d+=e}}return d}}}}function mN(a,b,c){if("function"==typeof a)return mM(a.copy().domain(b).range(c));if(null!=a){var d=mL(a);if(null!=d)return d.domain(b).range(c),mM(d)}}var mO=(a,b)=>{if(null!=b)if("linear"!==a)return b;else{if(!k2(b)){for(var c,d,e=0;e<b.length;e++){var f=b[e];eV(f)&&((void 0===c||f<c)&&(c=f),(void 0===d||f>d)&&(d=f))}return void 0!==c&&void 0!==d?[c,d]:void 0}return b}};function mP(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function mQ(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?mP(Object(c),!0).forEach(function(b){mR(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):mP(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function mR(a,b,c){return(b=mS(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function mS(a){var b=mT(a,"string");return"symbol"==typeof b?b:b+""}function mT(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var mU=[0,"auto"],mV={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},mW=(a,b)=>a.cartesianAxis.xAxis[b],mX=(a,b)=>{var c=mW(a,b);return null==c?mV:c},mY={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:mU,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:fq},mZ=(a,b)=>a.cartesianAxis.yAxis[b],m$=(a,b)=>{var c=mZ(a,b);return null==c?mY:c},m_={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},m0=(a,b)=>{var c=a.cartesianAxis.zAxis[b];return null==c?m_:c},m1=(a,b,c)=>{switch(b){case"xAxis":return mX(a,c);case"yAxis":return m$(a,c);case"zAxis":return m0(a,c);case"angleAxis":return mr(a,c);case"radiusAxis":return ms(a,c);default:throw Error("Unexpected axis type: ".concat(b))}},m2=(a,b,c)=>{switch(b){case"xAxis":return mX(a,c);case"yAxis":return m$(a,c);default:throw Error("Unexpected axis type: ".concat(b))}},m3=(a,b,c)=>{switch(b){case"xAxis":return mX(a,c);case"yAxis":return m$(a,c);case"angleAxis":return mr(a,c);case"radiusAxis":return ms(a,c);default:throw Error("Unexpected axis type: ".concat(b))}},m4=a=>a.graphicalItems.cartesianItems.some(a=>"bar"===a.type)||a.graphicalItems.polarItems.some(a=>"radialBar"===a.type);function m5(a,b){return c=>{switch(a){case"xAxis":return"xAxisId"in c&&c.xAxisId===b;case"yAxis":return"yAxisId"in c&&c.yAxisId===b;case"zAxis":return"zAxisId"in c&&c.zAxisId===b;case"angleAxis":return"angleAxisId"in c&&c.angleAxisId===b;case"radiusAxis":return"radiusAxisId"in c&&c.radiusAxisId===b;default:return!1}}}var m6=a=>a.graphicalItems.cartesianItems,m7=bs([mA,mB],m5),m8=(a,b,c)=>a.filter(c).filter(a=>(null==b?void 0:b.includeHidden)===!0||!a.hide),m9=bs([m6,m1,m7],m8,{memoizeOptions:{resultEqualityCheck:mG}}),na=bs([m9],a=>a.filter(a=>"area"===a.type||"bar"===a.type).filter(mE)),nb=a=>a.filter(a=>!("stackId"in a)||void 0===a.stackId),nc=bs([m9],nb),nd=a=>a.map(a=>a.data).filter(Boolean).flat(1),ne=bs([m9],nd,{memoizeOptions:{resultEqualityCheck:mG}}),nf=(a,b)=>{var{chartData:c=[],dataStartIndex:d,dataEndIndex:e}=b;return a.length>0?a:c.slice(d,e+1)},ng=bs([ne,k1],nf),nh=(a,b,c)=>(null==b?void 0:b.dataKey)!=null?a.map(a=>({value:e0(a,b.dataKey)})):c.length>0?c.map(a=>a.dataKey).flatMap(b=>a.map(a=>({value:e0(a,b)}))):a.map(a=>({value:a})),ni=bs([ng,m1,m9],nh);function nj(a,b){switch(a){case"xAxis":return"x"===b.direction;case"yAxis":return"y"===b.direction;default:return!1}}function nk(a){if(cQ(a)||a instanceof Date){var b=Number(a);if(eV(b))return b}}function nl(a){if(Array.isArray(a)){var b=[nk(a[0]),nk(a[1])];return k2(b)?b:void 0}var c=nk(a);if(null!=c)return[c,c]}function nm(a){return a.map(nk).filter(cZ)}function nn(a,b,c){return!c||"number"!=typeof b||cN(b)||!c.length?[]:nm(c.flatMap(c=>{var d,e,f=e0(a,c.dataKey);if(Array.isArray(f)?[d,e]=f:d=e=f,eV(d)&&eV(e))return[b-d,b+e]}))}var no=a=>{var b=mI(a),c=mJ(a);return m3(a,b,c)},np=bs([no],a=>null==a?void 0:a.dataKey),nq=bs([na,k1,no],mD),nr=(a,b,c,d)=>{var e={};return Object.fromEntries(Object.entries(b.reduce((a,b)=>{if(null==b.stackId)return a;var c=a[b.stackId];return null==c&&(c=[]),c.push(b),a[b.stackId]=c,a},e)).map(b=>{var[e,f]=b,g=d?[...f].reverse():f;return[e,{stackedData:e6(a,g.map(mC),c),graphicalItems:g}]}))},ns=bs([nq,na,lX,lY],nr),nt=(a,b,c,d)=>{var{dataStartIndex:e,dataEndIndex:f}=b;if(null==d&&"zAxis"!==c){var g=fa(a,e,f);if(null==g||0!==g[0]||0!==g[1])return g}},nu=bs([m1],a=>a.allowDataOverflow),nv=a=>{var b;if(null==a||!("domain"in a))return mU;if(null!=a.domain)return a.domain;if("ticks"in a&&null!=a.ticks){if("number"===a.type){var c=nm(a.ticks);return[Math.min(...c),Math.max(...c)]}if("category"===a.type)return a.ticks.map(String)}return null!=(b=null==a?void 0:a.domain)?b:mU},nw=bs([m1],nv),nx=bs([nw,nu],k4),ny=bs([ns,k_,mA,nx],nt,{memoizeOptions:{resultEqualityCheck:mF}}),nz=a=>a.errorBars,nA=(a,b,c)=>a.flatMap(a=>b[a.id]).filter(Boolean).filter(a=>nj(c,a)),nB=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];var d=b.filter(Boolean);if(0!==d.length){var e=d.flat(),f=Math.min(...e),g=Math.max(...e);return[f,g]}},nC=(a,b,c,d,e)=>{var f,g;if(c.length>0&&a.forEach(a=>{c.forEach(c=>{var h,i,j=null==(h=d[c.id])?void 0:h.filter(a=>nj(e,a)),k=e0(a,null!=(i=b.dataKey)?i:c.dataKey),l=nn(a,k,j);if(l.length>=2){var m=Math.min(...l),n=Math.max(...l);(null==f||m<f)&&(f=m),(null==g||n>g)&&(g=n)}var o=nl(k);null!=o&&(f=null==f?o[0]:Math.min(f,o[0]),g=null==g?o[1]:Math.max(g,o[1]))})}),(null==b?void 0:b.dataKey)!=null&&a.forEach(a=>{var c=nl(e0(a,b.dataKey));null!=c&&(f=null==f?c[0]:Math.min(f,c[0]),g=null==g?c[1]:Math.max(g,c[1]))}),eV(f)&&eV(g))return[f,g]},nD=bs([ng,m1,nc,nz,mA],nC,{memoizeOptions:{resultEqualityCheck:mF}});function nE(a){var{value:b}=a;if(cQ(b)||b instanceof Date)return b}var nF=(a,b,c)=>{var d=a.map(nE).filter(a=>null!=a);return c&&(null==b.dataKey||b.allowDuplicatedCategory&&cU(d))?(0,gj.default)(0,a.length):b.allowDuplicatedCategory?d:Array.from(new Set(d))},nG=a=>a.referenceElements.dots,nH=(a,b,c)=>a.filter(a=>"extendDomain"===a.ifOverflow).filter(a=>"xAxis"===b?a.xAxisId===c:a.yAxisId===c),nI=bs([nG,mA,mB],nH),nJ=a=>a.referenceElements.areas,nK=bs([nJ,mA,mB],nH),nL=a=>a.referenceElements.lines,nM=bs([nL,mA,mB],nH),nN=(a,b)=>{if(null!=a){var c=nm(a.map(a=>"xAxis"===b?a.x:a.y));if(0!==c.length)return[Math.min(...c),Math.max(...c)]}},nO=bs(nI,mA,nN),nP=(a,b)=>{if(null!=a){var c=nm(a.flatMap(a=>["xAxis"===b?a.x1:a.y1,"xAxis"===b?a.x2:a.y2]));if(0!==c.length)return[Math.min(...c),Math.max(...c)]}},nQ=bs([nK,mA],nP);function nR(a){if(null!=a.x)return nm([a.x]);var b,c=null==(b=a.segment)?void 0:b.map(a=>a.x);return null==c||0===c.length?[]:nm(c)}function nS(a){if(null!=a.y)return nm([a.y]);var b,c=null==(b=a.segment)?void 0:b.map(a=>a.y);return null==c||0===c.length?[]:nm(c)}var nT=(a,b)=>{if(null!=a){var c=a.flatMap(a=>"xAxis"===b?nR(a):nS(a));if(0!==c.length)return[Math.min(...c),Math.max(...c)]}},nU=bs([nM,mA],nT),nV=bs(nO,nU,nQ,(a,b,c)=>nB(a,c,b)),nW=(a,b,c,d,e,f,g,h)=>null!=c?c:k5(b,"vertical"===g&&"xAxis"===h||"horizontal"===g&&"yAxis"===h?nB(d,f,e):nB(f,e),a.allowDataOverflow),nX=bs([m1,nw,nx,ny,nD,nV,gd,mA],nW,{memoizeOptions:{resultEqualityCheck:mF}}),nY=[0,1],nZ=(a,b,c,d,e,f,g)=>{if(null!=a&&null!=c&&0!==c.length||void 0!==g){var h,{dataKey:i,type:j}=a,k=e2(b,f);return k&&null==i?(0,gj.default)(0,null!=(h=null==c?void 0:c.length)?h:0):"category"===j?nF(d,a,k):"expand"===e?nY:g}},n$=bs([m1,gd,ng,ni,lX,mA,nX],nZ);function n_(a){return a in k$}var n0=(a,b,c)=>{if(null!=a){var{scale:d,type:e}=a;if("auto"===d)return"category"===e&&c&&(c.indexOf("LineChart")>=0||c.indexOf("AreaChart")>=0||c.indexOf("ComposedChart")>=0&&!b)?"point":"category"===e?"band":"linear";if("string"==typeof d){var f="scale".concat(cY(d));return n_(f)?f:"point"}}},n1=bs([m1,m4,lZ],n0);function n2(a,b,c,d){if(null!=c&&null!=d)return"function"==typeof a.scale?mN(a.scale,c,d):mN(b,c,d)}var n3=(a,b,c)=>{var d=nv(b);if("auto"===c||"linear"===c){if(null!=b&&b.tickCount&&Array.isArray(d)&&("auto"===d[0]||"auto"===d[1])&&k2(a))return lU(a,b.tickCount,b.allowDecimals);if(null!=b&&b.tickCount&&"number"===b.type&&k2(a))return lV(a,b.tickCount,b.allowDecimals)}},n4=bs([n$,m3,n1],n3),n5=(a,b,c,d)=>{if("angleAxis"!==d&&(null==a?void 0:a.type)==="number"&&k2(b)&&Array.isArray(c)&&c.length>0){var e,f;return[Math.min(b[0],null!=(e=c[0])?e:0),Math.max(b[1],null!=(f=c[c.length-1])?f:0)]}return b},n6=bs([m1,n$,n4,mA],n5),n7=bs(ni,m1,(a,b)=>{if(b&&"number"===b.type){var c=1/0,d=Array.from(nm(a.map(a=>a.value))).sort((a,b)=>a-b),e=d[0],f=d[d.length-1];if(null==e||null==f)return 1/0;var g=f-e;if(0===g)return 1/0;for(var h=0;h<d.length-1;h++){var i=d[h],j=d[h+1];if(null!=i&&null!=j){var k=j-i;c=Math.min(c,k)}}return c/g}}),n8=bs(n7,gd,lW,fw,(a,b,c,d,e)=>e,(a,b,c,d,e)=>{if(!eV(a))return 0;var f="vertical"===b?d.height:d.width;if("gap"===e)return a*f/2;if("no-gap"===e){var g=cT(c,a*f),h=a*f/2;return h-g-(h-g)/f*g}return 0}),n9=(a,b,c)=>{var d=mX(a,b);return null==d||"string"!=typeof d.padding?0:n8(a,"xAxis",b,c,d.padding)},oa=(a,b,c)=>{var d=m$(a,b);return null==d||"string"!=typeof d.padding?0:n8(a,"yAxis",b,c,d.padding)},ob=bs(mX,n9,(a,b)=>{if(null==a)return{left:0,right:0};var c,d,{padding:e}=a;return"string"==typeof e?{left:b,right:b}:{left:(null!=(c=e.left)?c:0)+b,right:(null!=(d=e.right)?d:0)+b}}),oc=bs(m$,oa,(a,b)=>{if(null==a)return{top:0,bottom:0};var c,d,{padding:e}=a;return"string"==typeof e?{top:b,bottom:b}:{top:(null!=(c=e.top)?c:0)+b,bottom:(null!=(d=e.bottom)?d:0)+b}}),od=bs([fw,ob,fD,fC,(a,b,c)=>c],(a,b,c,d,e)=>{var{padding:f}=d;return e?[f.left,c.width-f.right]:[a.left+b.left,a.left+a.width-b.right]}),oe=bs([fw,gd,oc,fD,fC,(a,b,c)=>c],(a,b,c,d,e,f)=>{var{padding:g}=e;return f?[d.height-g.bottom,g.top]:"horizontal"===b?[a.top+a.height-c.bottom,a.top+c.top]:[a.top+c.top,a.top+a.height-c.bottom]}),of=(a,b,c,d)=>{var e;switch(b){case"xAxis":return od(a,c,d);case"yAxis":return oe(a,c,d);case"zAxis":return null==(e=m0(a,c))?void 0:e.range;case"angleAxis":return mx(a);case"radiusAxis":return my(a,c);default:return}},og=bs([m1,of],mi),oh=bs([n1,n6],mO),oi=bs([m1,n1,oh,og],n2);function oj(a,b){return a.id<b.id?-1:+(a.id>b.id)}bs([m9,nz,mA],nA);var ok=(a,b)=>b,ol=(a,b,c)=>c,om=bs(fm,ok,ol,(a,b,c)=>a.filter(a=>a.orientation===b).filter(a=>a.mirror===c).sort(oj)),on=bs(fn,ok,ol,(a,b,c)=>a.filter(a=>a.orientation===b).filter(a=>a.mirror===c).sort(oj)),oo=(a,b)=>({width:a.width,height:b.height}),op=(a,b)=>({width:"number"==typeof b.width?b.width:fq,height:a.height}),oq=bs(fw,mX,oo),or=(a,b,c)=>{switch(b){case"top":return a.top;case"bottom":return c-a.bottom;default:return 0}},os=(a,b,c)=>{switch(b){case"left":return a.left;case"right":return c-a.right;default:return 0}},ot=bs(fj,fw,om,ok,ol,(a,b,c,d,e)=>{var f,g={};return c.forEach(c=>{var h=oo(b,c);null==f&&(f=or(b,d,a));var i="top"===d&&!e||"bottom"===d&&e;g[c.id]=f-Number(i)*h.height,f+=(i?-1:1)*h.height}),g}),ou=bs(fi,fw,on,ok,ol,(a,b,c,d,e)=>{var f,g={};return c.forEach(c=>{var h=op(b,c);null==f&&(f=os(b,d,a));var i="left"===d&&!e||"right"===d&&e;g[c.id]=f-Number(i)*h.width,f+=(i?-1:1)*h.width}),g}),ov=(a,b)=>{var c=mX(a,b);if(null!=c)return ot(a,c.orientation,c.mirror)},ow=bs([fw,mX,ov,(a,b)=>b],(a,b,c,d)=>{if(null!=b){var e=null==c?void 0:c[d];return null==e?{x:a.left,y:0}:{x:a.left,y:e}}}),ox=(a,b)=>{var c=m$(a,b);if(null!=c)return ou(a,c.orientation,c.mirror)},oy=bs([fw,m$,ox,(a,b)=>b],(a,b,c,d)=>{if(null!=b){var e=null==c?void 0:c[d];return null==e?{x:0,y:a.top}:{x:e,y:a.top}}}),oz=bs(fw,m$,(a,b)=>({width:"number"==typeof b.width?b.width:fq,height:a.height})),oA=(a,b,c,d)=>{if(null!=c){var{allowDuplicatedCategory:e,type:f,dataKey:g}=c,h=e2(a,d),i=b.map(a=>a.value);if(g&&h&&"category"===f&&e&&cU(i))return i}},oB=bs([gd,ni,m1,mA],oA),oC=(a,b,c,d)=>{if(null!=c&&null!=c.dataKey){var{type:e,scale:f}=c,g=e2(a,d);if(g&&("number"===e||"auto"!==f))return b.map(a=>a.value)}},oD=bs([gd,ni,m3,mA],oC),oE=bs([gd,m2,n1,oi,oB,oD,of,n4,mA],(a,b,c,d,e,f,g,h,i)=>{if(null!=b){var j=e2(a,i);return{angle:b.angle,interval:b.interval,minTickGap:b.minTickGap,orientation:b.orientation,tick:b.tick,tickCount:b.tickCount,tickFormatter:b.tickFormatter,ticks:b.ticks,type:b.type,unit:b.unit,axisType:i,categoricalDomain:f,duplicateDomain:e,isCategorical:j,niceTicks:h,range:g,realScaleType:c,scale:d}}}),oF=bs([gd,m3,n1,oi,n4,of,oB,oD,mA],(a,b,c,d,e,f,g,h,i)=>{if(null!=b&&null!=d){var j=e2(a,i),{type:k,ticks:l,tickCount:m}=b,n="scaleBand"===c&&"function"==typeof d.bandwidth?d.bandwidth()/2:2,o="category"===k&&d.bandwidth?d.bandwidth()/n:0;o="angleAxis"===i&&null!=f&&f.length>=2?2*cM(f[0]-f[1])*o:o;var p=l||e;return p?p.map((a,b)=>{var c=g?g.indexOf(a):a,e=d.map(c);return eV(e)?{index:b,coordinate:e+o,value:a,offset:o}:null}).filter(cZ):j&&h?h.map((a,b)=>{var c=d.map(a);return eV(c)?{coordinate:c+o,value:a,index:b,offset:o}:null}).filter(cZ):d.ticks?d.ticks(m).map((a,b)=>{var c=d.map(a);return eV(c)?{coordinate:c+o,value:a,index:b,offset:o}:null}).filter(cZ):d.domain().map((a,b)=>{var c=d.map(a);return eV(c)?{coordinate:c+o,value:g?g[a]:a,index:b,offset:o}:null}).filter(cZ)}}),oG=bs([gd,m3,oi,of,oB,oD,mA],(a,b,c,d,e,f,g)=>{if(null!=b&&null!=c&&null!=d&&d[0]!==d[1]){var h=e2(a,g),{tickCount:i}=b,j=0;return(j="angleAxis"===g&&(null==d?void 0:d.length)>=2?2*cM(d[0]-d[1])*j:j,h&&f)?f.map((a,b)=>{var d=c.map(a);return eV(d)?{coordinate:d+j,value:a,index:b,offset:j}:null}).filter(cZ):c.ticks?c.ticks(i).map((a,b)=>{var d=c.map(a);return eV(d)?{coordinate:d+j,value:a,index:b,offset:j}:null}).filter(cZ):c.domain().map((a,b)=>{var d=c.map(a);return eV(d)?{coordinate:d+j,value:e?e[a]:a,index:b,offset:j}:null}).filter(cZ)}}),oH=bs(m1,oi,(a,b)=>{if(null!=a&&null!=b)return mQ(mQ({},a),{},{scale:b})}),oI=bs([m1,n1,n$,og],n2);bs((a,b,c)=>m0(a,c),oI,(a,b)=>{if(null!=a&&null!=b)return mQ(mQ({},a),{},{scale:b})});var oJ=bs([gd,fm,fn],(a,b,c)=>{switch(a){case"horizontal":return b.some(a=>a.reversed)?"right-to-left":"left-to-right";case"vertical":return c.some(a=>a.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),oK=a=>a.options.defaultTooltipEventType,oL=a=>a.options.validateTooltipEventTypes;function oM(a,b,c){if(null==a)return b;var d=a?"axis":"item";return null==c?b:c.includes(d)?d:b}function oN(a,b){return oM(b,oK(a),oL(a))}function oO(a){return eE(b=>oN(b,a))}var oP=(a,b)=>{var c,d=Number(b);if(!cN(d)&&null!=b)return d>=0?null==a||null==(c=a[d])?void 0:c.value:void 0},oQ=a=>a.tooltip.settings;function oR(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function oS(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?oR(Object(c),!0).forEach(function(b){oT(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):oR(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function oT(a,b,c){return(b=oU(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function oU(a){var b=oV(a,"string");return"symbol"==typeof b?b:b+""}function oV(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function oW(a,b,c){return"axis"===b?"click"===c?a.axisInteraction.click:a.axisInteraction.hover:"click"===c?a.itemInteraction.click:a.itemInteraction.hover}function oX(a){return null!=a.index}var oY=(a,b,c,d)=>{if(null==b)return d5;var e=oW(a,b,c);if(null==e)return d5;if(e.active)return e;if(a.keyboardInteraction.active)return a.keyboardInteraction;if(a.syncInteraction.active&&null!=a.syncInteraction.index)return a.syncInteraction;var f=!0===a.settings.active;if(oX(e)){if(f)return oS(oS({},e),{},{active:!0})}else if(null!=d)return{active:!0,coordinate:void 0,dataKey:void 0,index:d,graphicalItemId:void 0};return oS(oS({},d5),{},{coordinate:e.coordinate})};function oZ(a){if("number"==typeof a)return Number.isFinite(a)?a:void 0;if(a instanceof Date){var b=a.valueOf();return Number.isFinite(b)?b:void 0}var c=Number(a);return Number.isFinite(c)?c:void 0}function o$(a,b){var c=oZ(a),d=b[0],e=b[1];if(void 0===c)return!1;var f=Math.min(d,e),g=Math.max(d,e);return c>=f&&c<=g}function o_(a,b,c){if(null==c||null==b)return!0;var d=e0(a,b);return!(null!=d&&k2(c))||o$(d,c)}var o0=(a,b,c,d)=>{var e=null==a?void 0:a.index;if(null==e)return null;var f=Number(e);if(!eV(f))return e;var g=0,h=Infinity;b.length>0&&(h=b.length-1);var i=Math.max(g,Math.min(f,h)),j=b[i];return null==j||o_(j,c,d)?String(i):null},o1=(a,b,c,d,e,f,g)=>{if(null!=f){var h=g[0],i=null==h?void 0:h.getPosition(f);if(null!=i)return i;var j=null==e?void 0:e[Number(f)];if(j)if("horizontal"===c)return{x:j.coordinate,y:(d.top+b)/2};else return{x:(d.left+a)/2,y:j.coordinate}}},o2=(a,b,c,d)=>{if("axis"===b)return a.tooltipItemPayloads;if(0===a.tooltipItemPayloads.length)return[];if(null==(e="hover"===c?a.itemInteraction.hover.graphicalItemId:a.itemInteraction.click.graphicalItemId)&&null!=d){var e,f=a.tooltipItemPayloads[0];return null!=f?[f]:[]}return a.tooltipItemPayloads.filter(a=>{var b;return(null==(b=a.settings)?void 0:b.graphicalItemId)===e})},o3=a=>a.options.tooltipPayloadSearcher,o4=a=>a.tooltip;function o5(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function o6(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?o5(Object(c),!0).forEach(function(b){o7(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):o5(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function o7(a,b,c){return(b=o8(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function o8(a){var b=o9(a,"string");return"symbol"==typeof b?b:b+""}function o9(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function pa(a,b){return null!=a?a:b}var pb=(a,b,c,d,e,f,g)=>{if(null!=b&&null!=f){var{chartData:h,computedData:i,dataStartIndex:j,dataEndIndex:k}=c,l=[];return a.reduce((a,c)=>{var l,m,n,{dataDefinedOnItem:o,settings:p}=c,q=pa(o,h),r=Array.isArray(q)?eU(q,j,k):q,s=null!=(l=null==p?void 0:p.dataKey)?l:d,t=null==p?void 0:p.nameKey;return Array.isArray(m=d&&Array.isArray(r)&&!Array.isArray(r[0])&&"axis"===g?cW(r,d,e):f(r,b,i,t))?m.forEach(b=>{var c=o6(o6({},p),{},{name:b.name,unit:b.unit,color:void 0,fill:void 0});a.push(fe({tooltipEntrySettings:c,dataKey:b.dataKey,payload:b.payload,value:e0(b.payload,b.dataKey),name:b.name}))}):a.push(fe({tooltipEntrySettings:p,dataKey:s,payload:m,value:e0(m,s),name:null!=(n=e0(m,t))?n:null==p?void 0:p.name})),a},l)}},pc=bs([no,m4,lZ],n0),pd=bs([a=>a.graphicalItems.cartesianItems,a=>a.graphicalItems.polarItems],(a,b)=>[...a,...b]),pe=bs([mI,mJ],m5),pf=bs([pd,no,pe],m8,{memoizeOptions:{resultEqualityCheck:mG}}),pg=bs([pf],a=>a.filter(mE)),ph=bs([pf],nd,{memoizeOptions:{resultEqualityCheck:mG}}),pi=bs([ph,k_],nf),pj=bs([pg,k_,no],mD),pk=bs([pi,no,pf],nh),pl=bs([no],nv),pm=bs([no],a=>a.allowDataOverflow),pn=bs([pl,pm],k4),po=bs([pf],a=>a.filter(mE)),pp=bs([pj,po,lX,lY],nr),pq=bs([pp,k_,mI,pn],nt),pr=bs([pf],nb),ps=bs([pi,no,pr,nz,mI],nC,{memoizeOptions:{resultEqualityCheck:mF}}),pt=bs([nG,mI,mJ],nH),pu=bs([pt,mI],nN),pv=bs([nJ,mI,mJ],nH),pw=bs([pv,mI],nP),px=bs([nL,mI,mJ],nH),py=bs([px,mI],nT),pz=bs([pu,py,pw],nB),pA=bs([no,pl,pn,pq,ps,pz,gd,mI],nW),pB=bs([no,gd,pi,pk,lX,mI,pA],nZ),pC=bs([pB,no,pc],n3),pD=bs([no,pB,pC,mI],n5),pE=a=>{var b=mI(a),c=mJ(a);return of(a,b,c,!1)},pF=bs([no,pE],mi),pG=bs([no,pc,pD,pF],n2),pH=bs([gd,pk,no,mI],oA),pI=bs([gd,pk,no,mI],oC),pJ=bs([gd,no,pc,pG,pE,pH,pI,mI],(a,b,c,d,e,f,g,h)=>{if(b){var{type:i}=b,j=e2(a,h);if(d){var k="scaleBand"===c&&d.bandwidth?d.bandwidth()/2:2,l="category"===i&&d.bandwidth?d.bandwidth()/k:0;return(l="angleAxis"===h&&null!=e&&(null==e?void 0:e.length)>=2?2*cM(e[0]-e[1])*l:l,j&&g)?g.map((a,b)=>{var c=d.map(a);return eV(c)?{coordinate:c+l,value:a,index:b,offset:l}:null}).filter(cZ):d.domain().map((a,b)=>{var c=d.map(a);return eV(c)?{coordinate:c+l,value:f?f[a]:a,index:b,offset:l}:null}).filter(cZ)}}}),pK=bs([oK,oL,oQ],(a,b,c)=>oM(c.shared,a,b)),pL=a=>a.tooltip.settings.trigger,pM=a=>a.tooltip.settings.defaultIndex,pN=bs([o4,pK,pL,pM],oY),pO=bs([pN,pi,np,pB],o0),pP=bs([pJ,pO],oP),pQ=bs([pN],a=>{if(a)return a.dataKey});bs([pN],a=>{if(a)return a.graphicalItemId});var pR=bs([o4,pK,pL,pM],o2),pS=bs([fi,fj,gd,fw,pJ,pM,pR],o1),pT=bs([pN,pS],(a,b)=>null!=a&&a.coordinate?a.coordinate:b),pU=bs([pN],a=>{var b;return null!=(b=null==a?void 0:a.active)&&b}),pV=bs([pR,pO,k_,np,pP,o3,pK],pb),pW=bs([pV],a=>{if(null!=a){var b=a.map(a=>a.payload).filter(a=>null!=a);return Array.from(new Set(b))}}),pX=eF;function pY(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function pZ(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?pY(Object(c),!0).forEach(function(b){p$(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):pY(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function p$(a,b,c){return(b=p_(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function p_(a){var b=p0(a,"string");return"symbol"==typeof b?b:b+""}function p0(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var p1=(a,b,c,d)=>{var e=b.find(a=>a&&a.index===c);if(e){if("horizontal"===a)return{x:e.coordinate,y:d.chartY};if("vertical"===a)return{x:d.chartX,y:e.coordinate}}return{x:0,y:0}},p2=(a,b,c,d)=>{var e=b.find(a=>a&&a.index===c);if(e){if("centric"===a){var f=e.coordinate,{radius:g}=d;return pZ(pZ(pZ({},d),l8(d.cx,d.cy,g,f)),{},{angle:f,radius:g})}var h=e.coordinate,{angle:i}=d;return pZ(pZ(pZ({},d),l8(d.cx,d.cy,h,i)),{},{angle:i,radius:h})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function p3(a,b){var{chartX:c,chartY:d}=a;return c>=b.left&&c<=b.left+b.width&&d>=b.top&&d<=b.top+b.height}var p4=(a,b,c,d,e)=>{var f=null!=(l=null==b?void 0:b.length)?l:0;if(f<=1||null==a)return 0;if("angleAxis"===d&&null!=e&&1e-6>=Math.abs(Math.abs(e[1]-e[0])-360))for(var g=0;g<f;g++){var h=g>0?null==(m=c[g-1])?void 0:m.coordinate:null==(n=c[f-1])?void 0:n.coordinate,i=null==(o=c[g])?void 0:o.coordinate,j=g>=f-1?null==(p=c[0])?void 0:p.coordinate:null==(q=c[g+1])?void 0:q.coordinate,k=void 0;if(null!=h&&null!=i&&null!=j)if(cM(i-h)!==cM(j-i)){var l,m,n,o,p,q,r,s=[];if(cM(j-i)===cM(e[1]-e[0])){k=j;var t=i+e[1]-e[0];s[0]=Math.min(t,(t+h)/2),s[1]=Math.max(t,(t+h)/2)}else{k=h;var u=j+e[1]-e[0];s[0]=Math.min(i,(u+i)/2),s[1]=Math.max(i,(u+i)/2)}var v=[Math.min(i,(k+i)/2),Math.max(i,(k+i)/2)];if(a>v[0]&&a<=v[1]||a>=s[0]&&a<=s[1])return null==(r=c[g])?void 0:r.index}else{var w,x=Math.min(h,j),y=Math.max(h,j);if(a>(x+i)/2&&a<=(y+i)/2)return null==(w=c[g])?void 0:w.index}}else if(b)for(var z=0;z<f;z++){var A=b[z];if(null!=A){var B=b[z+1],C=b[z-1];if(0===z&&null!=B&&a<=(A.coordinate+B.coordinate)/2||z===f-1&&null!=C&&a>(A.coordinate+C.coordinate)/2||z>0&&z<f-1&&null!=C&&null!=B&&a>(A.coordinate+C.coordinate)/2&&a<=(A.coordinate+B.coordinate)/2)return A.index}}return -1},p5=()=>eE(lZ),p6=(a,b)=>b,p7=(a,b,c)=>c,p8=(a,b,c,d)=>d,p9=bs(pJ,a=>(0,pX.default)(a,a=>a.coordinate)),qa=bs([o4,p6,p7,p8],oY),qb=bs([qa,pi,np,pB],o0),qc=(a,b,c)=>{if(null!=b){var d=o4(a);return"axis"===b?"hover"===c?d.axisInteraction.hover.dataKey:d.axisInteraction.click.dataKey:"hover"===c?d.itemInteraction.hover.dataKey:d.itemInteraction.click.dataKey}},qd=bs([o4,p6,p7,p8],o2),qe=bs([fi,fj,gd,fw,pJ,p8,qd],o1),qf=bs([qa,qe],(a,b)=>{var c;return null!=(c=a.coordinate)?c:b}),qg=bs([pJ,qb],oP),qh=bs([qd,qb,k_,np,qg,o3,p6],pb),qi=bs([qa,qb],(a,b)=>({isActive:a.active&&null!=b,activeIndex:b})),qj=(a,b,c,d,e,f,g)=>{if(a&&c&&d&&e&&p3(a,g)){var h=fg(a,b),i=p4(h,f,e,c,d),j=p1(b,e,i,a);return{activeIndex:String(i),activeCoordinate:j}}},qk=(a,b,c,d,e,f,g)=>{if(a&&d&&e&&f&&c){var h=me(a,c);if(h){var i=fh(h,b),j=p4(i,g,f,d,e),k=p2(b,f,j,h);return{activeIndex:String(j),activeCoordinate:k}}}},ql=bs([(a,b)=>b,gd,mz,mI,pF,pJ,p9,fw],(a,b,c,d,e,f,g,h)=>{if(a&&b&&d&&e&&f)return"horizontal"===b||"vertical"===b?qj(a,b,d,e,f,g,h):qk(a,b,c,d,e,f,g)}),qm=a=>{var b=a.currentTarget.getBoundingClientRect(),c=b.width/a.currentTarget.offsetWidth,d=b.height/a.currentTarget.offsetHeight;return{chartX:Math.round((a.clientX-b.left)/c),chartY:Math.round((a.clientY-b.top)/d)}},qn=bJ("mouseClick"),qo=cG();qo.startListening({actionCreator:qn,effect:(a,b)=>{var c=a.payload,d=ql(b.getState(),qm(c));(null==d?void 0:d.activeIndex)!=null&&b.dispatch(eg({activeIndex:d.activeIndex,activeDataKey:void 0,activeCoordinate:d.activeCoordinate}))}});var qp=bJ("mouseMove"),qq=cG(),qr=null;function qs(a,b){return b instanceof HTMLElement?"HTMLElement <".concat(b.tagName,' class="').concat(b.className,'">'):b===window?"global.window":"children"===a&&"object"==typeof b&&null!==b?"<<CHILDREN>>":b}function qt(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function qu(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?qt(Object(c),!0).forEach(function(b){qv(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):qt(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function qv(a,b,c){return(b=qw(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function qw(a){var b=qx(a,"string");return"symbol"==typeof b?b:b+""}function qx(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}qq.startListening({actionCreator:qp,effect:(a,b)=>{var c=a.payload;null!==qr&&cancelAnimationFrame(qr);var d=qm(c);qr=requestAnimationFrame(()=>{var a=b.getState();if("axis"===oN(a,a.tooltip.settings.shared)){var c=ql(a,d);(null==c?void 0:c.activeIndex)!=null?b.dispatch(ef({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):b.dispatch(ed())}qr=null})}});var qy=b2({name:"cartesianAxis",initialState:{xAxis:{},yAxis:{},zAxis:{}},reducers:{addXAxis:{reducer(a,b){a.xAxis[b.payload.id]=d4(b.payload)},prepare:bQ()},replaceXAxis:{reducer(a,b){var{prev:c,next:d}=b.payload;void 0!==a.xAxis[c.id]&&(c.id!==d.id&&delete a.xAxis[c.id],a.xAxis[d.id]=d4(d))},prepare:bQ()},removeXAxis:{reducer(a,b){delete a.xAxis[b.payload.id]},prepare:bQ()},addYAxis:{reducer(a,b){a.yAxis[b.payload.id]=d4(b.payload)},prepare:bQ()},replaceYAxis:{reducer(a,b){var{prev:c,next:d}=b.payload;void 0!==a.yAxis[c.id]&&(c.id!==d.id&&delete a.yAxis[c.id],a.yAxis[d.id]=d4(d))},prepare:bQ()},removeYAxis:{reducer(a,b){delete a.yAxis[b.payload.id]},prepare:bQ()},addZAxis:{reducer(a,b){a.zAxis[b.payload.id]=d4(b.payload)},prepare:bQ()},replaceZAxis:{reducer(a,b){var{prev:c,next:d}=b.payload;void 0!==a.zAxis[c.id]&&(c.id!==d.id&&delete a.zAxis[c.id],a.zAxis[d.id]=d4(d))},prepare:bQ()},removeZAxis:{reducer(a,b){delete a.zAxis[b.payload.id]},prepare:bQ()},updateYAxisWidth(a,b){var{id:c,width:d}=b.payload,e=a.yAxis[c];if(e){var f,g=e.widthHistory||[];if(3===g.length&&g[0]===g[2]&&d===g[1]&&d!==e.width&&1>=Math.abs(d-(null!=(f=g[0])?f:0)))return;var h=[...g,d].slice(-3);a.yAxis[c]=qu(qu({},e),{},{width:d,widthHistory:h})}}}}),{addXAxis:qz,replaceXAxis:qA,removeXAxis:qB,addYAxis:qC,replaceYAxis:qD,removeYAxis:qE,addZAxis:qF,replaceZAxis:qG,removeZAxis:qH,updateYAxisWidth:qI}=qy.actions,qJ=qy.reducer,qK=b2({name:"graphicalItems",initialState:{cartesianItems:[],polarItems:[]},reducers:{addCartesianGraphicalItem:{reducer(a,b){a.cartesianItems.push(d4(b.payload))},prepare:bQ()},replaceCartesianGraphicalItem:{reducer(a,b){var{prev:c,next:d}=b.payload,e=aZ(a).cartesianItems.indexOf(d4(c));e>-1&&(a.cartesianItems[e]=d4(d))},prepare:bQ()},removeCartesianGraphicalItem:{reducer(a,b){var c=aZ(a).cartesianItems.indexOf(d4(b.payload));c>-1&&a.cartesianItems.splice(c,1)},prepare:bQ()},addPolarGraphicalItem:{reducer(a,b){a.polarItems.push(d4(b.payload))},prepare:bQ()},removePolarGraphicalItem:{reducer(a,b){var c=aZ(a).polarItems.indexOf(d4(b.payload));c>-1&&a.polarItems.splice(c,1)},prepare:bQ()}}}),{addCartesianGraphicalItem:qL,replaceCartesianGraphicalItem:qM,removeCartesianGraphicalItem:qN,addPolarGraphicalItem:qO,removePolarGraphicalItem:qP}=qK.actions,qQ=qK.reducer,qR=b2({name:"referenceElements",initialState:{dots:[],areas:[],lines:[]},reducers:{addDot:(a,b)=>{a.dots.push(b.payload)},removeDot:(a,b)=>{var c=aZ(a).dots.findIndex(a=>a===b.payload);-1!==c&&a.dots.splice(c,1)},addArea:(a,b)=>{a.areas.push(b.payload)},removeArea:(a,b)=>{var c=aZ(a).areas.findIndex(a=>a===b.payload);-1!==c&&a.areas.splice(c,1)},addLine:(a,b)=>{a.lines.push(d4(b.payload))},removeLine:(a,b)=>{var c=aZ(a).lines.findIndex(a=>a===b.payload);-1!==c&&a.lines.splice(c,1)}}}),{addDot:qS,removeDot:qT,addArea:qU,removeArea:qV,addLine:qW,removeLine:qX}=qR.actions,qY=qR.reducer,qZ={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},q$=b2({name:"brush",initialState:qZ,reducers:{setBrushSettings:(a,b)=>null==b.payload?qZ:b.payload}}),{setBrushSettings:q_}=q$.actions,q0=q$.reducer,q1=b2({name:"legend",initialState:{settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},reducers:{setLegendSize(a,b){a.size.width=b.payload.width,a.size.height=b.payload.height},setLegendSettings(a,b){a.settings.align=b.payload.align,a.settings.layout=b.payload.layout,a.settings.verticalAlign=b.payload.verticalAlign,a.settings.itemSorter=b.payload.itemSorter},addLegendPayload:{reducer(a,b){a.payload.push(d4(b.payload))},prepare:bQ()},replaceLegendPayload:{reducer(a,b){var{prev:c,next:d}=b.payload,e=aZ(a).payload.indexOf(d4(c));e>-1&&(a.payload[e]=d4(d))},prepare:bQ()},removeLegendPayload:{reducer(a,b){var c=aZ(a).payload.indexOf(d4(b.payload));c>-1&&a.payload.splice(c,1)},prepare:bQ()}}}),{setLegendSize:q2,setLegendSettings:q3,addLegendPayload:q4,replaceLegendPayload:q5,removeLegendPayload:q6}=q1.actions,q7=q1.reducer,q8={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},q9=b2({name:"rootProps",initialState:q8,reducers:{updateOptions:(a,b)=>{var c;a.accessibilityLayer=b.payload.accessibilityLayer,a.barCategoryGap=b.payload.barCategoryGap,a.barGap=null!=(c=b.payload.barGap)?c:q8.barGap,a.barSize=b.payload.barSize,a.maxBarSize=b.payload.maxBarSize,a.stackOffset=b.payload.stackOffset,a.syncId=b.payload.syncId,a.syncMethod=b.payload.syncMethod,a.className=b.payload.className,a.baseValue=b.payload.baseValue,a.reverseStackOrder=b.payload.reverseStackOrder}}}),ra=q9.reducer,{updateOptions:rb}=q9.actions,rc=b2({name:"polarAxis",initialState:{radiusAxis:{},angleAxis:{}},reducers:{addRadiusAxis(a,b){a.radiusAxis[b.payload.id]=d4(b.payload)},removeRadiusAxis(a,b){delete a.radiusAxis[b.payload.id]},addAngleAxis(a,b){a.angleAxis[b.payload.id]=d4(b.payload)},removeAngleAxis(a,b){delete a.angleAxis[b.payload.id]}}}),{addRadiusAxis:rd,removeRadiusAxis:re,addAngleAxis:rf,removeAngleAxis:rg}=rc.actions,rh=rc.reducer,ri=b2({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(a,b)=>b.payload}}),{updatePolarOptions:rj}=ri.actions,rk=ri.reducer,rl=bJ("keyDown"),rm=bJ("focus"),rn=cG();rn.startListening({actionCreator:rl,effect:(a,b)=>{var c=b.getState();if(!1===c.rootProps.accessibilityLayer)return;var{keyboardInteraction:d}=c.tooltip,e=a.payload;if("ArrowRight"===e||"ArrowLeft"===e||"Enter"===e){var f=o0(d,pi(c),np(c),pB(c)),g=null==f?-1:Number(f);if(Number.isFinite(g)&&!(g<0)){var h=pJ(c);if("Enter"===e){var i=qe(c,"axis","hover",String(d.index));b.dispatch(ei({active:!d.active,activeIndex:d.index,activeCoordinate:i}));return}var j=g+("ArrowRight"===e?1:-1)*("left-to-right"===oJ(c)?1:-1);if(null!=h&&!(j>=h.length)&&!(j<0)){var k=qe(c,"axis","hover",String(j));b.dispatch(ei({active:!0,activeIndex:j.toString(),activeCoordinate:k}))}}}}}),rn.startListening({actionCreator:rm,effect:(a,b)=>{var c=b.getState();if(!1!==c.rootProps.accessibilityLayer){var{keyboardInteraction:d}=c.tooltip;if(!d.active&&null==d.index){var e="0",f=qe(c,"axis","hover",String(e));b.dispatch(ei({active:!0,activeIndex:e,activeCoordinate:f}))}}}});var ro=bJ("externalEvent"),rp=cG(),rq=new Map;rp.startListening({actionCreator:ro,effect:(a,b)=>{var{handler:c,reactEvent:d}=a.payload;if(null!=c){d.persist();var e=d.type,f=rq.get(e);void 0!==f&&cancelAnimationFrame(f);var g=requestAnimationFrame(()=>{try{var a=b.getState(),f={activeCoordinate:pT(a),activeDataKey:pQ(a),activeIndex:pO(a),activeLabel:pP(a),activeTooltipIndex:pO(a),isTooltipActive:pU(a)};c(f,d)}finally{rq.delete(e)}});rq.set(e,g)}}});var rr=bs([o4],a=>a.tooltipItemPayloads),rs=bs([rr,(a,b)=>b,(a,b,c)=>c],(a,b,c)=>{if(null!=b){var d=a.find(a=>a.settings.graphicalItemId===c);if(null!=d){var{getPosition:e}=d;if(null!=e)return e(b)}}}),rt=bJ("touchMove"),ru=cG();ru.startListening({actionCreator:rt,effect:(a,b)=>{var c=a.payload;if(null!=c.touches&&0!==c.touches.length){var d=b.getState(),e=oN(d,d.tooltip.settings.shared);if("axis"===e){var f=c.touches[0];if(null==f)return;var g=ql(d,qm({clientX:f.clientX,clientY:f.clientY,currentTarget:c.currentTarget}));(null==g?void 0:g.activeIndex)!=null&&b.dispatch(ef({activeIndex:g.activeIndex,activeDataKey:void 0,activeCoordinate:g.activeCoordinate}))}else if("item"===e){var h,i=c.touches[0];if(null==document.elementFromPoint||null==i)return;var j=document.elementFromPoint(i.clientX,i.clientY);if(!j||!j.getAttribute)return;var k=j.getAttribute(fo),l=null!=(h=j.getAttribute(fp))?h:void 0,m=pf(d).find(a=>a.id===l);if(null==k||null==m||null==l)return;var{dataKey:n}=m,o=rs(d,k,l);b.dispatch(eb({activeDataKey:n,activeIndex:k,activeCoordinate:o,activeGraphicalItemId:l}))}}}});var rv=b2({name:"errorBars",initialState:{},reducers:{addErrorBar:(a,b)=>{var{itemId:c,errorBar:d}=b.payload;a[c]||(a[c]=[]),a[c].push(d)},replaceErrorBar:(a,b)=>{var{itemId:c,prev:d,next:e}=b.payload;a[c]&&(a[c]=a[c].map(a=>a.dataKey===d.dataKey&&a.direction===d.direction?e:a))},removeErrorBar:(a,b)=>{var{itemId:c,errorBar:d}=b.payload;a[c]&&(a[c]=a[c].filter(a=>a.dataKey!==d.dataKey||a.direction!==d.direction))}}}),{addErrorBar:rw,replaceErrorBar:rx,removeErrorBar:ry}=rv.actions,rz=rv.reducer,rA={devToolsEnabled:!0,isSsr:!0};function rB(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function rC(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?rB(Object(c),!0).forEach(function(b){rD(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):rB(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function rD(a,b,c){return(b=rE(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function rE(a){var b=rF(a,"string");return"symbol"==typeof b?b:b+""}function rF(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var rG={},rH={zIndexMap:Object.values(mf).reduce((a,b)=>rC(rC({},a),{},{[b]:{element:void 0,panoramaElement:void 0,consumers:0}}),rG)},rI=new Set(Object.values(mf));function rJ(a){return rI.has(a)}var rK=b2({name:"zIndex",initialState:rH,reducers:{registerZIndexPortal:{reducer:(a,b)=>{var{zIndex:c}=b.payload;a.zIndexMap[c]?a.zIndexMap[c].consumers+=1:a.zIndexMap[c]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:bQ()},unregisterZIndexPortal:{reducer:(a,b)=>{var{zIndex:c}=b.payload;a.zIndexMap[c]&&(a.zIndexMap[c].consumers-=1,a.zIndexMap[c].consumers<=0&&!rJ(c)&&delete a.zIndexMap[c])},prepare:bQ()},registerZIndexPortalElement:{reducer:(a,b)=>{var{zIndex:c,element:d,isPanorama:e}=b.payload;a.zIndexMap[c]?e?a.zIndexMap[c].panoramaElement=d4(d):a.zIndexMap[c].element=d4(d):a.zIndexMap[c]={consumers:0,element:e?void 0:d4(d),panoramaElement:e?d4(d):void 0}},prepare:bQ()},unregisterZIndexPortalElement:{reducer:(a,b)=>{var{zIndex:c}=b.payload;a.zIndexMap[c]&&(b.payload.isPanorama?a.zIndexMap[c].panoramaElement=void 0:a.zIndexMap[c].element=void 0)},prepare:bQ()}}}),{registerZIndexPortal:rL,unregisterZIndexPortal:rM,registerZIndexPortalElement:rN,unregisterZIndexPortalElement:rO}=rK.actions,rP=bB({brush:q0,cartesianAxis:qJ,chartData:eo,errorBars:rz,graphicalItems:qQ,layout:eu,legend:q7,options:c1,polarAxis:rh,polarOptions:rk,referenceElements:qY,rootProps:ra,tooltip:ej,zIndex:rK.reducer}),rQ=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Chart";return bU({reducer:rP,preloadedState:a,middleware:a=>a({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes("es6")}).concat([qo.middleware,qq.middleware,rn.middleware,rp.middleware,ru.middleware]),enhancers:a=>{var b=a;return"function"==typeof a&&(b=a()),b.concat(bS({type:"raf"}))},devTools:rA.devToolsEnabled&&{serialize:{replacer:qs},name:"recharts-".concat(b)}})};function rR(a){var{preloadedState:b,children:c,reduxStoreName:d}=a,e=fB(),f=(0,c4.useRef)(null);if(e)return c;null==f.current&&(f.current=rQ(b,d));var g=ey;return c4.createElement(di,{context:g,store:f.current},c)}var rS=B,rT=a=>{var{chartData:b}=a,c=eA(),d=fB();return(0,rS.useEffect)(()=>d?()=>{}:(c(el(b)),()=>{c(el(void 0))}),[b,c,d]),null},rU=B,rV=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function rW(a,b){return null==a&&null==b||("number"==typeof a&&"number"==typeof b?a===b||a!=a&&b!=b:a===b)}function rX(a,b){for(var c of new Set([...Object.keys(a),...Object.keys(b)]))if(rV.has(c)){if(null==a[c]&&null==b[c])continue;if(!de(a[c],b[c]))return!1}else if(!rW(a[c],b[c]))return!1;return!0}function rY(a){var{layout:b,margin:c}=a,d=eA(),e=fB();return(0,rU.useEffect)(()=>{e||(d(er(b)),d(eq(c)))},[d,e,b,c]),null}var rZ=(0,rU.memo)(rY,rX),r$=B;function r_(a){var b=eA();return(0,r$.useEffect)(()=>{b(rb(a))},[b,a]),null}var r0=B,r1=B,r2=()=>{var a;return null==(a=eE(a=>a.rootProps.accessibilityLayer))||a},r3=B,r4=B,r5=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function r6(a){return"string"==typeof a&&r5.includes(a)}var r7=B,r8=new Set(["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"]);function r9(a){return"string"==typeof a&&r8.has(a)}function sa(a){return"string"==typeof a&&a.startsWith("data-")}function sb(a){if("object"!=typeof a||null===a)return{};var b={};for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(r9(c)||sa(c))&&(b[c]=a[c]);return b}function sc(a){return null==a?null:(0,r7.isValidElement)(a)&&"object"==typeof a.props&&null!==a.props?sb(a.props):"object"!=typeof a||Array.isArray(a)?null:sb(a)}function sd(a){var b={};for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(r9(c)||sa(c)||r6(c))&&(b[c]=a[c]);return b}function se(a){return null==a?null:(0,r4.isValidElement)(a)?sd(a.props):"object"!=typeof a||Array.isArray(a)?null:sd(a)}var sf=["children","width","height","viewBox","className","style","title","desc"];function sg(){return(sg=Object.assign.bind()).apply(null,arguments)}function sh(a,b){if(null==a)return{};var c,d,e=si(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function si(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}var sj=(0,r3.forwardRef)((a,b)=>{var{children:c,width:d,height:e,viewBox:f,className:g,style:h,title:i,desc:j}=a,k=sh(a,sf),l=f||{width:d,height:e,x:0,y:0},m=fF("recharts-surface",g);return r3.createElement("svg",sg({},sd(k),{className:m,width:d,height:e,style:h,viewBox:"".concat(l.x," ").concat(l.y," ").concat(l.width," ").concat(l.height),ref:b}),r3.createElement("title",null,i),r3.createElement("desc",null,j),c)}),sk=B,sl=bs(a=>a.zIndex.zIndexMap,(a,b)=>b,(a,b,c)=>c,(a,b,c)=>{if(null!=b){var d=a[b];if(null!=d)return c?d.panoramaElement:d.element}}),sm=bs(a=>a.zIndex.zIndexMap,a=>Array.from(new Set(Object.keys(a).map(a=>parseInt(a,10)).concat(Object.values(mf)))).sort((a,b)=>a-b),{memoizeOptions:{resultEqualityCheck:mH}});function sn(a){var{zIndex:b,isPanorama:c}=a,d=(0,sk.useRef)(null),e=eA();return(0,sk.useLayoutEffect)(()=>(d.current&&e(rN({zIndex:b,element:d.current,isPanorama:c})),()=>{e(rO({zIndex:b,isPanorama:c}))}),[e,b,c]),sk.createElement("g",{tabIndex:-1,ref:d})}function so(a){var{children:b,isPanorama:c}=a,d=eE(sm);if(!d||0===d.length)return b;var e=d.filter(a=>a<0),f=d.filter(a=>a>0);return sk.createElement(sk.Fragment,null,e.map(a=>sk.createElement(sn,{key:a,zIndex:a,isPanorama:c})),b,f.map(a=>sk.createElement(sn,{key:a,zIndex:a,isPanorama:c})))}var sp=["children"];function sq(a,b){if(null==a)return{};var c,d,e=sr(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function sr(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}function ss(){return(ss=Object.assign.bind()).apply(null,arguments)}var st={width:"100%",height:"100%",display:"block"},su=(0,r1.forwardRef)((a,b)=>{var c,d,e=ga(),f=gb(),g=r2();if(!eW(e)||!eW(f))return null;var{children:h,otherAttributes:i,title:j,desc:k}=a;return null!=i&&(c="number"==typeof i.tabIndex?i.tabIndex:g?0:void 0,d="string"==typeof i.role?i.role:g?"application":void 0),r1.createElement(sj,ss({},i,{title:j,desc:k,role:d,tabIndex:c,width:e,height:f,style:st,ref:b}),h)}),sv=a=>{var{children:b}=a,c=eE(fD);if(!c)return null;var{width:d,height:e,y:f,x:g}=c;return r1.createElement(sj,{width:d,height:e,x:g,y:f},b)},sw=(0,r1.forwardRef)((a,b)=>{var{children:c}=a,d=sq(a,sp);return fB()?r1.createElement(sv,null,r1.createElement(so,{isPanorama:!0},c)):r1.createElement(su,ss({ref:b},d),r1.createElement(so,{isPanorama:!1},c))}),sx=B,sy=B,sz=new(a.i(20259)).default,sA="recharts.syncEvent.tooltip",sB="recharts.syncEvent.brush";function sC(a){return a.tooltip.syncInteraction}var sD=["x","y"];function sE(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function sF(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?sE(Object(c),!0).forEach(function(b){sG(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):sE(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function sG(a,b,c){return(b=sH(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function sH(a){var b=sI(a,"string");return"symbol"==typeof b?b:b+""}function sI(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function sJ(a,b){if(null==a)return{};var c,d,e=sK(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function sK(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}function sL(){var a=eE(l$),b=eE(l0),c=eA(),d=eE(l_),e=eE(pJ),f=ge(),g=f7(),h=eE(a=>a.rootProps.className);(0,sy.useEffect)(()=>{if(null==a)return c$;var h=(h,i,j)=>{if(b!==j&&a===h){if("index"===d){if(g&&null!=i&&null!=(k=i.payload)&&k.coordinate&&i.payload.sourceViewBox){var k,l,m=i.payload.coordinate,{x:n,y:o}=m,p=sJ(m,sD),{x:q,y:r,width:s,height:t}=i.payload.sourceViewBox,u=sF(sF({},p),{},{x:g.x+(s?(n-q)/s:0)*g.width,y:g.y+(t?(o-r)/t:0)*g.height});c(sF(sF({},i),{},{payload:sF(sF({},i.payload),{},{coordinate:u})}))}else c(i);return}if(null!=e){if("function"==typeof d){var v=d(e,{activeTooltipIndex:null==i.payload.index?void 0:Number(i.payload.index),isTooltipActive:i.payload.active,activeIndex:null==i.payload.index?void 0:Number(i.payload.index),activeLabel:i.payload.label,activeDataKey:i.payload.dataKey,activeCoordinate:i.payload.coordinate});l=e[v]}else"value"===d&&(l=e.find(a=>String(a.value)===i.payload.label));var{coordinate:w}=i.payload;if(null==l||!1===i.payload.active||null==w||null==g)return void c(eh({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));var{x,y}=w,z=Math.min(x,g.x+g.width),A=Math.min(y,g.y+g.height),B={x:"horizontal"===f?l.coordinate:z,y:"horizontal"===f?A:l.coordinate},C=eh({active:i.payload.active,coordinate:B,dataKey:i.payload.dataKey,index:String(l.index),label:i.payload.label,sourceViewBox:i.payload.sourceViewBox,graphicalItemId:i.payload.graphicalItemId});c(C)}}};return sz.on(sA,h),()=>{sz.off(sA,h)}},[h,c,b,a,d,e,f,g])}function sM(){var a=eE(l$),b=eE(l0),c=eA();(0,sy.useEffect)(()=>{if(null==a)return c$;var d=(d,e,f)=>{b!==f&&a===d&&c(em(e))};return sz.on(sB,d),()=>{sz.off(sB,d)}},[c,b,a])}function sN(){var a=eA();(0,sy.useEffect)(()=>{a(c2())},[a]),sL(),sM()}function sO(a,b,c,d,e,f){var g=eE(c=>qc(c,a,b)),h=eE(l0),i=eE(l$),j=eE(l_),k=eE(sC),l=null==k?void 0:k.active,m=f7();(0,sy.useEffect)(()=>{if(!l&&null!=i&&null!=h){var a=eh({active:f,coordinate:c,dataKey:g,index:e,label:"number"==typeof d?String(d):d,sourceViewBox:m,graphicalItemId:void 0});sz.emit(sA,i,a,h)}},[l,c,g,e,d,h,i,j,f,m])}var sP=B;function sQ(){var a=eA(),[b,c]=(0,sP.useState)(null),d=eE(fk);return(0,sP.useEffect)(()=>{if(null!=b){var c=b.getBoundingClientRect(),e=c.width/b.offsetWidth;eV(e)&&e!==d&&a(et(e))}},[b,a,d]),c}var sR=B,sS=(0,sR.createContext)(null),sT=()=>(0,sR.useContext)(sS),sU=B,sV=(0,sU.createContext)(null),sW=()=>(0,sU.useContext)(sV);function sX(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function sY(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?sX(Object(c),!0).forEach(function(b){sZ(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):sX(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function sZ(a,b,c){return(b=s$(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function s$(a){var b=s_(a,"string");return"symbol"==typeof b?b:b+""}function s_(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function s0(){return(s0=Object.assign.bind()).apply(null,arguments)}var s1=()=>(sN(),null);function s2(a){if("number"==typeof a)return a;if("string"==typeof a){var b=parseFloat(a);if(!Number.isNaN(b))return b}return 0}var s3=(0,sx.forwardRef)((a,b)=>{var c,d,e=(0,sx.useRef)(null),[f,g]=(0,sx.useState)({containerWidth:s2(null==(c=a.style)?void 0:c.width),containerHeight:s2(null==(d=a.style)?void 0:d.height)}),h=(0,sx.useCallback)((a,b)=>{g(c=>{var d=Math.round(a),e=Math.round(b);return c.containerWidth===d&&c.containerHeight===e?c:{containerWidth:d,containerHeight:e}})},[]),i=(0,sx.useCallback)(a=>{if("function"==typeof b&&b(a),null!=a&&"u">typeof ResizeObserver){var{width:c,height:d}=a.getBoundingClientRect();h(c,d);var f=new ResizeObserver(a=>{var b=a[0];if(null!=b){var{width:c,height:d}=b.contentRect;h(c,d)}});f.observe(a),e.current=f}},[b,h]);return(0,sx.useEffect)(()=>()=>{var a=e.current;null!=a&&a.disconnect()},[h]),sx.createElement(sx.Fragment,null,sx.createElement(gi,{width:f.containerWidth,height:f.containerHeight}),sx.createElement("div",s0({ref:i},a)))}),s4=(0,sx.forwardRef)((a,b)=>{var{width:c,height:d}=a,[e,f]=(0,sx.useState)({containerWidth:s2(c),containerHeight:s2(d)}),g=(0,sx.useCallback)((a,b)=>{f(c=>{var d=Math.round(a),e=Math.round(b);return c.containerWidth===d&&c.containerHeight===e?c:{containerWidth:d,containerHeight:e}})},[]),h=(0,sx.useCallback)(a=>{if("function"==typeof b&&b(a),null!=a){var{width:c,height:d}=a.getBoundingClientRect();g(c,d)}},[b,g]);return sx.createElement(sx.Fragment,null,sx.createElement(gi,{width:e.containerWidth,height:e.containerHeight}),sx.createElement("div",s0({ref:h},a)))}),s5=(0,sx.forwardRef)((a,b)=>{var{width:c,height:d}=a;return sx.createElement(sx.Fragment,null,sx.createElement(gi,{width:c,height:d}),sx.createElement("div",s0({ref:b},a)))}),s6=(0,sx.forwardRef)((a,b)=>{var{width:c,height:d}=a;return"string"==typeof c||"string"==typeof d?sx.createElement(s4,s0({},a,{ref:b})):"number"==typeof c&&"number"==typeof d?sx.createElement(s5,s0({},a,{width:c,height:d,ref:b})):sx.createElement(sx.Fragment,null,sx.createElement(gi,{width:c,height:d}),sx.createElement("div",s0({ref:b},a)))});function s7(a){return a?s3:s6}var s8=(0,sx.forwardRef)((a,b)=>{var{children:c,className:d,height:e,onClick:f,onContextMenu:g,onDoubleClick:h,onMouseDown:i,onMouseEnter:j,onMouseLeave:k,onMouseMove:l,onMouseUp:m,onTouchEnd:n,onTouchMove:o,onTouchStart:p,style:q,width:r,responsive:s,dispatchTouchEvents:t=!0}=a,u=(0,sx.useRef)(null),v=eA(),[w,x]=(0,sx.useState)(null),[y,z]=(0,sx.useState)(null),A=sQ(),B=f3(),C=(null==B?void 0:B.width)>0?B.width:r,D=(null==B?void 0:B.height)>0?B.height:e,E=(0,sx.useCallback)(a=>{A(a),"function"==typeof b&&b(a),x(a),z(a),null!=a&&(u.current=a)},[A,b,x,z]),F=(0,sx.useCallback)(a=>{v(qn(a)),v(ro({handler:f,reactEvent:a}))},[v,f]),G=(0,sx.useCallback)(a=>{v(qp(a)),v(ro({handler:j,reactEvent:a}))},[v,j]),H=(0,sx.useCallback)(a=>{v(ed()),v(ro({handler:k,reactEvent:a}))},[v,k]),I=(0,sx.useCallback)(a=>{v(qp(a)),v(ro({handler:l,reactEvent:a}))},[v,l]),J=(0,sx.useCallback)(()=>{v(rm())},[v]),K=(0,sx.useCallback)(a=>{v(rl(a.key))},[v]),L=(0,sx.useCallback)(a=>{v(ro({handler:g,reactEvent:a}))},[v,g]),M=(0,sx.useCallback)(a=>{v(ro({handler:h,reactEvent:a}))},[v,h]),N=(0,sx.useCallback)(a=>{v(ro({handler:i,reactEvent:a}))},[v,i]),O=(0,sx.useCallback)(a=>{v(ro({handler:m,reactEvent:a}))},[v,m]),P=(0,sx.useCallback)(a=>{v(ro({handler:p,reactEvent:a}))},[v,p]),Q=(0,sx.useCallback)(a=>{t&&v(rt(a)),v(ro({handler:o,reactEvent:a}))},[v,t,o]),R=(0,sx.useCallback)(a=>{v(ro({handler:n,reactEvent:a}))},[v,n]),S=s7(s);return sx.createElement(sS.Provider,{value:w},sx.createElement(sV.Provider,{value:y},sx.createElement(S,{width:null!=C?C:null==q?void 0:q.width,height:null!=D?D:null==q?void 0:q.height,className:fF("recharts-wrapper",d),style:sY({position:"relative",cursor:"default",width:C,height:D},q),onClick:F,onContextMenu:L,onDoubleClick:M,onFocus:J,onKeyDown:K,onMouseDown:N,onMouseEnter:G,onMouseLeave:H,onMouseMove:I,onMouseUp:O,onTouchEnd:R,onTouchMove:Q,onTouchStart:P,ref:E},sx.createElement(s1,null),c)))}),s9=B,ta=bs([fw],a=>({top:a.top,bottom:a.bottom,left:a.left,right:a.right})),tb=bs([ta,fi,fj],(a,b,c)=>{if(a&&null!=b&&null!=c)return{x:a.left,y:a.top,width:Math.max(0,b-a.left-a.right),height:Math.max(0,c-a.top-a.bottom)}}),tc=()=>eE(tb),td=()=>eE(pW),te=(0,s9.createContext)(void 0),tf=a=>{var{children:b}=a,[c]=(0,s9.useState)("".concat(cS("recharts"),"-clip")),d=tc();if(null==d)return null;var{x:e,y:f,width:g,height:h}=d;return s9.createElement(te.Provider,{value:c},s9.createElement("defs",null,s9.createElement("clipPath",{id:c},s9.createElement("rect",{x:e,y:f,height:h,width:g}))),b)},tg=["width","height","responsive","children","className","style","compact","title","desc"];function th(a,b){if(null==a)return{};var c,d,e=ti(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function ti(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}var tj=(0,r0.forwardRef)((a,b)=>{var{width:c,height:d,responsive:e,children:f,className:g,style:h,compact:i,title:j,desc:k}=a,l=sb(th(a,tg));return i?r0.createElement(r0.Fragment,null,r0.createElement(gi,{width:c,height:d}),r0.createElement(sw,{otherAttributes:l,title:j,desc:k},f)):r0.createElement(s8,{className:g,style:h,width:c,height:d,responsive:null!=e&&e,onClick:a.onClick,onMouseLeave:a.onMouseLeave,onMouseEnter:a.onMouseEnter,onMouseMove:a.onMouseMove,onMouseDown:a.onMouseDown,onMouseUp:a.onMouseUp,onContextMenu:a.onContextMenu,onDoubleClick:a.onDoubleClick,onTouchStart:a.onTouchStart,onTouchMove:a.onTouchMove,onTouchEnd:a.onTouchEnd},r0.createElement(sw,{otherAttributes:l,title:j,desc:k,ref:b},r0.createElement(tf,null,f)))});function tk(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function tl(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?tk(Object(c),!0).forEach(function(b){tm(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):tk(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function tm(a,b,c){return(b=tn(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function tn(a){var b=to(a,"string");return"symbol"==typeof b?b:b+""}function to(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function tp(a,b){var c=tl({},a),d=b;return Object.keys(b).reduce((a,b)=>(void 0===a[b]&&void 0!==d[b]&&(a[b]=d[b]),a),c)}function tq(){return(tq=Object.assign.bind()).apply(null,arguments)}var tr={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:{top:5,right:5,bottom:5,left:5},responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},ts=(0,c3.forwardRef)(function(a,b){var c,d=tp(a.categoricalChartProps,tr),{chartName:e,defaultTooltipEventType:f,validateTooltipEventTypes:g,tooltipPayloadSearcher:h,categoricalChartProps:i}=a,j={chartName:e,defaultTooltipEventType:f,validateTooltipEventTypes:g,tooltipPayloadSearcher:h,eventEmitter:void 0};return c3.createElement(rR,{preloadedState:{options:j},reduxStoreName:null!=(c=i.id)?c:e},c3.createElement(rT,{chartData:i.data}),c3.createElement(rZ,{layout:d.layout,margin:d.margin}),c3.createElement(r_,{baseValue:d.baseValue,accessibilityLayer:d.accessibilityLayer,barCategoryGap:d.barCategoryGap,maxBarSize:d.maxBarSize,stackOffset:d.stackOffset,barGap:d.barGap,barSize:d.barSize,syncId:d.syncId,syncMethod:d.syncMethod,className:d.className,reverseStackOrder:d.reverseStackOrder}),c3.createElement(tj,tq({},d,{ref:b})))}),tt=["axis"],tu=(0,J.forwardRef)((a,b)=>J.createElement(ts,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:tt,tooltipPayloadSearcher:c_,categoricalChartProps:a,ref:b})),tv=B,tw=B,tx=["children","className"];function ty(){return(ty=Object.assign.bind()).apply(null,arguments)}function tz(a,b){if(null==a)return{};var c,d,e=tA(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function tA(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}var tB=tw.forwardRef((a,b)=>{var{children:c,className:d}=a,e=tz(a,tx),f=fF("recharts-layer",d);return tw.createElement("g",ty({className:f},sd(e),{ref:b}),c)}),tC=B,tD=a.i(8382),tE=B,tF=B;function tG(a,b,c){return(b=tH(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function tH(a){var b=tI(a,"string");return"symbol"==typeof b?b:b+""}function tI(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}class tJ{constructor(a){tG(this,"cache",new Map),this.maxSize=a}get(a){var b=this.cache.get(a);return void 0!==b&&(this.cache.delete(a),this.cache.set(a,b)),b}set(a,b){if(this.cache.has(a))this.cache.delete(a);else if(this.cache.size>=this.maxSize){var c=this.cache.keys().next().value;null!=c&&this.cache.delete(c)}this.cache.set(a,b)}clear(){this.cache.clear()}size(){return this.cache.size}}function tK(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function tL(a,b,c){return(b=tM(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function tM(a){var b=tN(a,"string");return"symbol"==typeof b?b:b+""}function tN(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var tO=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?tK(Object(c),!0).forEach(function(b){tL(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):tK(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}({},{cacheSize:2e3,enableCache:!0}),tP=new tJ(tO.cacheSize),tQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},tR="recharts_measurement_span";function tS(a,b){var c=b.fontSize||"",d=b.fontFamily||"",e=b.fontWeight||"",f=b.fontStyle||"",g=b.letterSpacing||"",h=b.textTransform||"";return"".concat(a,"|").concat(c,"|").concat(d,"|").concat(e,"|").concat(f,"|").concat(g,"|").concat(h)}var tT=(a,b)=>{try{var c=document.getElementById(tR);c||((c=document.createElement("span")).setAttribute("id",tR),c.setAttribute("aria-hidden","true"),document.body.appendChild(c)),Object.assign(c.style,tQ,b),c.textContent="".concat(a);var d=c.getBoundingClientRect();return{width:d.width,height:d.height}}catch(a){return{width:0,height:0}}},tU=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==a||rA.isSsr)return{width:0,height:0};if(!tO.enableCache)return tT(a,b);var c=tS(a,b),d=tP.get(c);if(d)return d;var e=tT(a,b);return tP.set(c,e),e};function tV(a,b,c){return(b=tW(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function tW(a){var b=tX(a,"string");return"symbol"==typeof b?b:b+""}function tX(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var tY=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,tZ=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,t$=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,t_=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,t0={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},t1=["cm","mm","pt","pc","in","Q","px"];function t2(a){return t1.includes(a)}var t3="NaN";function t4(a,b){return a*t0[b]}class t5{static parse(a){var b,[,c,d]=null!=(b=t_.exec(a))?b:[];return null==c?t5.NaN:new t5(parseFloat(c),null!=d?d:"")}constructor(a,b){this.num=a,this.unit=b,this.num=a,this.unit=b,cN(a)&&(this.unit=""),""===b||t$.test(b)||(this.num=NaN,this.unit=""),t2(b)&&(this.num=t4(a,b),this.unit="px")}add(a){return this.unit!==a.unit?new t5(NaN,""):new t5(this.num+a.num,this.unit)}subtract(a){return this.unit!==a.unit?new t5(NaN,""):new t5(this.num-a.num,this.unit)}multiply(a){return""!==this.unit&&""!==a.unit&&this.unit!==a.unit?new t5(NaN,""):new t5(this.num*a.num,this.unit||a.unit)}divide(a){return""!==this.unit&&""!==a.unit&&this.unit!==a.unit?new t5(NaN,""):new t5(this.num/a.num,this.unit||a.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return cN(this.num)}}function t6(a){if(null==a||a.includes(t3))return t3;for(var b=a;b.includes("*")||b.includes("/");){var c,[,d,e,f]=null!=(c=tY.exec(b))?c:[],g=t5.parse(null!=d?d:""),h=t5.parse(null!=f?f:""),i="*"===e?g.multiply(h):g.divide(h);if(i.isNaN())return t3;b=b.replace(tY,i.toString())}for(;b.includes("+")||/.-\d+(?:\.\d+)?/.test(b);){var j,[,k,l,m]=null!=(j=tZ.exec(b))?j:[],n=t5.parse(null!=k?k:""),o=t5.parse(null!=m?m:""),p="+"===l?n.add(o):n.subtract(o);if(p.isNaN())return t3;b=b.replace(tZ,p.toString())}return b}c=t5,tV(t5,"NaN",new c(NaN,""));var t7=/\(([^()]*)\)/;function t8(a){for(var b,c=a;null!=(b=t7.exec(c));){var[,d]=b;c=c.replace(t7,t6(d))}return c}function t9(a){var b=a.replace(/\s+/g,"");return t6(b=t8(b))}function ua(a){try{return t9(a)}catch(a){return t3}}function ub(a){var b=ua(a.slice(5,-1));return b===t3?"":b}var uc=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],ud=["dx","dy","angle","className","breakAll"];function ue(){return(ue=Object.assign.bind()).apply(null,arguments)}function uf(a,b){if(null==a)return{};var c,d,e=ug(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function ug(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}var uh=/[ \f\n\r\t\v\u2028\u2029]+/,ui=a=>{var{children:b,breakAll:c,style:d}=a;try{var e=[];cX(b)||(e=c?b.toString().split(""):b.toString().split(uh));var f=e.map(a=>({word:a,width:tU(a,d).width})),g=c?0:tU("",d).width;return{wordsWithComputedWidth:f,spaceWidth:g}}catch(a){return null}};function uj(a){return"start"===a||"middle"===a||"end"===a||"inherit"===a}var uk=(a,b,c,d)=>a.reduce((a,e)=>{var{word:f,width:g}=e,h=a[a.length-1];if(h&&null!=g&&(null==b||d||h.width+g+c<Number(b)))h.words.push(f),h.width+=g+c;else{var i={words:[f],width:g};a.push(i)}return a},[]),ul=a=>a.reduce((a,b)=>a.width>b.width?a:b),um="",un=(a,b,c,d,e,f,g,h)=>{var i=ui({breakAll:c,style:d,children:a.slice(0,b)+um});if(!i)return[!1,[]];var j=uk(i.wordsWithComputedWidth,f,g,h);return[j.length>e||ul(j).width>Number(f),j]},uo=(a,b,c,d,e)=>{var f,{maxLines:g,children:h,style:i,breakAll:j}=a,k=cP(g),l=String(h),m=uk(b,d,c,e);if(!k||e||!(m.length>g||ul(m).width>Number(d)))return m;for(var n=0,o=l.length-1,p=0;n<=o&&p<=l.length-1;){var q=Math.floor((n+o)/2),[r,s]=un(l,q-1,j,i,g,d,c,e),[t]=un(l,q,j,i,g,d,c,e);if(r||t||(n=q+1),r&&t&&(o=q-1),!r&&t){f=s;break}p++}return f||m},up=a=>[{words:cX(a)?[]:a.toString().split(uh),width:void 0}],uq=a=>{var{width:b,scaleToFit:c,children:d,style:e,breakAll:f,maxLines:g}=a;if((b||c)&&!rA.isSsr){var h,i=ui({breakAll:f,children:d,style:e});if(!i)return up(d);var{wordsWithComputedWidth:j,spaceWidth:k}=i;return h=j,uo({breakAll:f,children:d,maxLines:g,style:e},h,k,b,!!c)}return up(d)},ur="#808080",us={angle:0,breakAll:!1,capHeight:"0.71em",fill:ur,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},ut=(0,tF.forwardRef)((a,b)=>{var c,d=tp(a,us),{x:e,y:f,lineHeight:g,capHeight:h,fill:i,scaleToFit:j,textAnchor:k,verticalAnchor:l}=d,m=uf(d,uc),n=(0,tF.useMemo)(()=>uq({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:j,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,j,m.style,m.width]),{dx:o,dy:p,angle:q,className:r,breakAll:s}=m,t=uf(m,ud);if(!cQ(e)||!cQ(f)||0===n.length)return null;var u=Number(e)+(cP(o)?o:0),v=Number(f)+(cP(p)?p:0);if(!eV(u)||!eV(v))return null;switch(l){case"start":c=ub("calc(".concat(h,")"));break;case"middle":c=ub("calc(".concat((n.length-1)/2," * -").concat(g," + (").concat(h," / 2))"));break;default:c=ub("calc(".concat(n.length-1," * -").concat(g,")"))}var w=[],x=n[0];if(j&&null!=x){var y=x.width,{width:z}=m;w.push("scale(".concat(cP(z)&&cP(y)?z/y:1,")"))}return q&&w.push("rotate(".concat(q,", ").concat(u,", ").concat(v,")")),w.length&&(t.transform=w.join(" ")),tF.createElement("text",ue({},sd(t),{ref:b,x:u,y:v,className:fF("recharts-text",r),textAnchor:k,fill:i.includes("url")?ur:i}),n.map((a,b)=>{var d=a.words.join(s?"":" ");return tF.createElement("tspan",{x:u,dy:0===b?c:g,key:"".concat(d,"-").concat(b)},d)}))});ut.displayName="Text";var uu=B,uv=a.i(65421);function uw(a){var{zIndex:b,children:c}=a,d=gh()&&void 0!==b&&0!==b,e=fB(),f=eA();(0,uu.useLayoutEffect)(()=>d?(f(rL({zIndex:b})),()=>{f(rM({zIndex:b}))}):c$,[f,b,d]);var g=eE(a=>sl(a,b,e));return d?g?(0,uv.createPortal)(c,g):null:c}function ux(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function uy(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?ux(Object(c),!0).forEach(function(b){uz(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):ux(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function uz(a,b,c){return(b=uA(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function uA(a){var b=uB(a,"string");return"symbol"==typeof b?b:b+""}function uB(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var uC=a=>{var{viewBox:b,position:c,offset:d=0,parentViewBox:e,clamp:f}=a,{x:g,y:h,height:i,upperWidth:j,lowerWidth:k}=f6(b),l=g,m=g+(j-k)/2,n=(l+m)/2,o=(j+k)/2,p=l+j/2,q=i>=0?1:-1,r=q*d,s=q>0?"end":"start",t=q>0?"start":"end",u=j>=0?1:-1,v=u*d,w=u>0?"end":"start",x=u>0?"start":"end",y=e;if("top"===c){var z={x:l+j/2,y:h-r,horizontalAnchor:"middle",verticalAnchor:s};return f&&y&&(z.height=Math.max(h-y.y,0),z.width=j),z}if("bottom"===c){var A={x:m+k/2,y:h+i+r,horizontalAnchor:"middle",verticalAnchor:t};return f&&y&&(A.height=Math.max(y.y+y.height-(h+i),0),A.width=k),A}if("left"===c){var B={x:n-v,y:h+i/2,horizontalAnchor:w,verticalAnchor:"middle"};return f&&y&&(B.width=Math.max(B.x-y.x,0),B.height=i),B}if("right"===c){var C={x:n+o+v,y:h+i/2,horizontalAnchor:x,verticalAnchor:"middle"};return f&&y&&(C.width=Math.max(y.x+y.width-C.x,0),C.height=i),C}var D=f&&y?{width:o,height:i}:{};return"insideLeft"===c?uy({x:n+v,y:h+i/2,horizontalAnchor:x,verticalAnchor:"middle"},D):"insideRight"===c?uy({x:n+o-v,y:h+i/2,horizontalAnchor:w,verticalAnchor:"middle"},D):"insideTop"===c?uy({x:l+j/2,y:h+r,horizontalAnchor:"middle",verticalAnchor:t},D):"insideBottom"===c?uy({x:m+k/2,y:h+i-r,horizontalAnchor:"middle",verticalAnchor:s},D):"insideTopLeft"===c?uy({x:l+v,y:h+r,horizontalAnchor:x,verticalAnchor:t},D):"insideTopRight"===c?uy({x:l+j-v,y:h+r,horizontalAnchor:w,verticalAnchor:t},D):"insideBottomLeft"===c?uy({x:m+v,y:h+i-r,horizontalAnchor:x,verticalAnchor:s},D):"insideBottomRight"===c?uy({x:m+k-v,y:h+i-r,horizontalAnchor:w,verticalAnchor:s},D):c&&"object"==typeof c&&(cP(c.x)||cO(c.x))&&(cP(c.y)||cO(c.y))?uy({x:g+cT(c.x,o),y:h+cT(c.y,i),horizontalAnchor:"end",verticalAnchor:"end"},D):uy({x:p,y:h+i/2,horizontalAnchor:"middle",verticalAnchor:"middle"},D)},uD=["labelRef"],uE=["content"];function uF(a,b){if(null==a)return{};var c,d,e=uG(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function uG(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}function uH(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function uI(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?uH(Object(c),!0).forEach(function(b){uJ(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):uH(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function uJ(a,b,c){return(b=uK(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function uK(a){var b=uL(a,"string");return"symbol"==typeof b?b:b+""}function uL(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function uM(){return(uM=Object.assign.bind()).apply(null,arguments)}var uN=(0,tE.createContext)(null),uO=a=>{var{x:b,y:c,upperWidth:d,lowerWidth:e,width:f,height:g,children:h}=a,i=(0,tE.useMemo)(()=>({x:b,y:c,upperWidth:d,lowerWidth:e,width:f,height:g}),[b,c,d,e,f,g]);return tE.createElement(uN.Provider,{value:i},h)},uP=()=>{var a=(0,tE.useContext)(uN),b=f7();return a||(b?f6(b):void 0)},uQ=(0,tE.createContext)(null),uR=()=>{var a=(0,tE.useContext)(uQ),b=eE(mz);return a||b},uS=a=>{var{value:b,formatter:c}=a,d=cX(a.children)?b:a.children;return"function"==typeof c?c(d):d},uT=a=>null!=a&&"function"==typeof a,uU=(a,b)=>cM(b-a)*Math.min(Math.abs(b-a),360),uV=(a,b,c,d,e)=>{var f,g,{offset:h,className:i}=a,{cx:j,cy:k,innerRadius:l,outerRadius:m,startAngle:n,endAngle:o,clockWise:p}=e,q=(l+m)/2,r=uU(n,o),s=r>=0?1:-1;switch(b){case"insideStart":f=n+s*h,g=p;break;case"insideEnd":f=o-s*h,g=!p;break;case"end":f=o+s*h,g=p;break;default:throw Error("Unsupported position ".concat(b))}g=r<=0?g:!g;var t=l8(j,k,q,f),u=l8(j,k,q,f+(g?1:-1)*359),v="M".concat(t.x,",").concat(t.y,"\n    A").concat(q,",").concat(q,",0,1,").concat(+!g,",\n    ").concat(u.x,",").concat(u.y),w=cX(a.id)?cS("recharts-radial-line-"):a.id;return tE.createElement("text",uM({},d,{dominantBaseline:"central",className:fF("recharts-radial-bar-label",i)}),tE.createElement("defs",null,tE.createElement("path",{id:w,d:v})),tE.createElement("textPath",{xlinkHref:"#".concat(w)},c))},uW=(a,b,c)=>{var{cx:d,cy:e,innerRadius:f,outerRadius:g,startAngle:h,endAngle:i}=a,j=(h+i)/2;if("outside"===c){var{x:k,y:l}=l8(d,e,g+b,j);return{x:k,y:l,textAnchor:k>=d?"start":"end",verticalAnchor:"middle"}}if("center"===c)return{x:d,y:e,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===c)return{x:d,y:e,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===c)return{x:d,y:e,textAnchor:"middle",verticalAnchor:"end"};var{x:m,y:n}=l8(d,e,(f+g)/2,j);return{x:m,y:n,textAnchor:"middle",verticalAnchor:"middle"}},uX=a=>null!=a&&"cx"in a&&cP(a.cx),uY={angle:0,offset:5,zIndex:mf.label,position:"middle",textBreakAll:!1};function uZ(a){if(!uX(a))return a;var{cx:b,cy:c,outerRadius:d}=a,e=2*d;return{x:b-d,y:c-d,width:e,upperWidth:e,lowerWidth:e,height:e}}function u$(a){var b,c,d,e=tp(a,uY),{viewBox:f,parentViewBox:g,position:h,value:i,children:j,content:k,className:l="",textBreakAll:m,labelRef:n}=e,o=uR(),p=uP(),q="center"===h?p:null!=o?o:p,r=uZ(b=null==f?q:uX(f)?f:f6(f));if(!b||cX(i)&&cX(j)&&!(0,tE.isValidElement)(k)&&"function"!=typeof k)return null;var s=uI(uI({},e),{},{viewBox:b});if((0,tE.isValidElement)(k)){var{labelRef:t}=s,u=uF(s,uD);return(0,tE.cloneElement)(k,u)}if("function"==typeof k){var{content:v}=s,w=uF(s,uE);if(c=(0,tE.createElement)(k,w),(0,tE.isValidElement)(c))return c}else c=uS(e);var x=sd(e);if(uX(b)){if("insideStart"===h||"insideEnd"===h||"end"===h)return uV(e,h,c,x,b);d=uW(b,e.offset,e.position)}else{if(!r)return null;var y=uC({viewBox:r,position:h,offset:e.offset,parentViewBox:uX(g)?void 0:g,clamp:!0});d=uI(uI({x:y.x,y:y.y,textAnchor:y.horizontalAnchor,verticalAnchor:y.verticalAnchor},void 0!==y.width?{width:y.width}:{}),void 0!==y.height?{height:y.height}:{})}return tE.createElement(uw,{zIndex:e.zIndex},tE.createElement(ut,uM({ref:n,className:fF("recharts-label",l)},x,d,{textAnchor:uj(x.textAnchor)?x.textAnchor:d.textAnchor,breakAll:m}),c))}u$.displayName="Label";var u_=(a,b,c)=>{if(!a)return null;var d={viewBox:b,labelRef:c};return!0===a?tE.createElement(u$,uM({key:"label-implicit"},d)):cQ(a)?tE.createElement(u$,uM({key:"label-implicit",value:a},d)):(0,tE.isValidElement)(a)?a.type===u$?(0,tE.cloneElement)(a,uI({key:"label-implicit"},d)):tE.createElement(u$,uM({key:"label-implicit",content:a},d)):uT(a)?tE.createElement(u$,uM({key:"label-implicit",content:a},d)):a&&"object"==typeof a?tE.createElement(u$,uM({},a,{key:"label-implicit"},d)):null};function u0(a){var{label:b,labelRef:c}=a;return u_(b,uP(),c)||null}var u1=["valueAccessor"],u2=["dataKey","clockWise","id","textBreakAll","zIndex"];function u3(){return(u3=Object.assign.bind()).apply(null,arguments)}function u4(a,b){if(null==a)return{};var c,d,e=u5(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function u5(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}var u6=a=>Array.isArray(a.value)?(0,tD.default)(a.value):a.value,u7=(0,tC.createContext)(void 0),u8=u7.Provider,u9=(0,tC.createContext)(void 0);function va(){return(0,tC.useContext)(u7)}function vb(){return(0,tC.useContext)(u9)}function vc(a){var{valueAccessor:b=u6}=a,c=u4(a,u1),{dataKey:d,clockWise:e,id:f,textBreakAll:g,zIndex:h}=c,i=u4(c,u2),j=va(),k=vb(),l=j||k;return l&&l.length?tC.createElement(uw,{zIndex:null!=h?h:mf.label},tC.createElement(tB,{className:"recharts-label-list"},l.map((a,e)=>{var h,j=cX(d)?b(a,e):e0(a.payload,d),k=cX(f)?{}:{id:"".concat(f,"-").concat(e)};return tC.createElement(u$,u3({key:"label-".concat(e)},sd(a),i,k,{fill:null!=(h=c.fill)?h:a.fill,parentViewBox:a.parentViewBox,value:j,textBreakAll:g,viewBox:a.viewBox,index:e,zIndex:0}))}))):null}function vd(a){var{label:b}=a;return b?!0===b?tC.createElement(vc,{key:"labelList-implicit"}):tC.isValidElement(b)||uT(b)?tC.createElement(vc,{key:"labelList-implicit",content:b}):"object"==typeof b?tC.createElement(vc,u3({key:"labelList-implicit"},b,{type:String(b.type)})):null:null}u9.Provider,vc.displayName="LabelList";var ve=B,vf=B,vg=B,vh=a=>"radius"in a&&"startAngle"in a&&"endAngle"in a,vi=(a,b)=>{if(!a||"function"==typeof a||"boolean"==typeof a)return null;var c=a;if((0,vg.isValidElement)(a)&&(c=a.props),"object"!=typeof c&&"function"!=typeof c)return null;var d={};return Object.keys(c).forEach(a=>{r6(a)&&(d[a]=b||(b=>c[a](c,b)))}),d},vj=(a,b,c)=>d=>(a(b,c,d),null),vk=(a,b,c)=>{if(null===a||"object"!=typeof a&&"function"!=typeof a)return null;var d=null;return Object.keys(a).forEach(e=>{var f=a[e];r6(e)&&"function"==typeof f&&(d||(d={}),d[e]=vj(f,b,c))}),d};function vl(){return(vl=Object.assign.bind()).apply(null,arguments)}var vm=a=>{var{cx:b,cy:c,r:d,className:e}=a,f=fF("recharts-dot",e);return cP(b)&&cP(c)&&cP(d)?vf.createElement("circle",vl({},sb(a),vi(a),{className:f,cx:b,cy:c,r:d})):null},vn=(a.i(51844),a=>!a||"object"!=typeof a||!("clipDot"in a)||!!a.clipDot),vo=["points"];function vp(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function vq(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?vp(Object(c),!0).forEach(function(b){vr(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):vp(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function vr(a,b,c){return(b=vs(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function vs(a){var b=vt(a,"string");return"symbol"==typeof b?b:b+""}function vt(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function vu(){return(vu=Object.assign.bind()).apply(null,arguments)}function vv(a,b){if(null==a)return{};var c,d,e=vw(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function vw(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}function vx(a){var{option:b,dotProps:c,className:d}=a;if((0,ve.isValidElement)(b))return(0,ve.cloneElement)(b,c);if("function"==typeof b)return b(c);var e=fF(d,"boolean"!=typeof b?b.className:""),f=null!=c?c:{},{points:g}=f,h=vv(f,vo);return ve.createElement(vm,vu({},h,{className:e}))}function vy(a,b){return null!=a&&(!!b||1===a.length)}function vz(a){var{points:b,dot:c,className:d,dotClassName:e,dataKey:f,baseProps:g,needClip:h,clipPathId:i,zIndex:j=mf.scatter}=a;if(!vy(b,c))return null;var k=vn(c),l=se(c),m=b.map((a,d)=>{var h,i,j=vq(vq(vq({r:3},g),l),{},{index:d,cx:null!=(h=a.x)?h:void 0,cy:null!=(i=a.y)?i:void 0,dataKey:f,value:a.value,payload:a.payload,points:b});return ve.createElement(vx,{key:"dot-".concat(d),option:c,dotProps:j,className:e})}),n={};return h&&null!=i&&(n.clipPath="url(#clipPath-".concat(k?"":"dots-").concat(i,")")),ve.createElement(uw,{zIndex:j},ve.createElement(tB,vu({className:d},n),m))}var vA=B;function vB(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function vC(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?vB(Object(c),!0).forEach(function(b){vD(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):vB(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function vD(a,b,c){return(b=vE(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function vE(a){var b=vF(a,"string");return"symbol"==typeof b?b:b+""}function vF(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var vG=a=>{var b,{point:c,childIndex:d,mainColor:e,activeDot:f,dataKey:g,clipPath:h}=a;if(!1===f||null==c.x||null==c.y)return null;var i=vC(vC(vC({},{index:d,dataKey:g,cx:c.x,cy:c.y,r:4,fill:null!=e?e:"none",strokeWidth:2,stroke:"#fff",payload:c.payload,value:c.value}),sc(f)),vi(f));return b=(0,vA.isValidElement)(f)?(0,vA.cloneElement)(f,i):"function"==typeof f?f(i):vA.createElement(vm,i),vA.createElement(tB,{className:"recharts-active-dot",clipPath:h},b)};function vH(a){var{points:b,mainColor:c,activeDot:d,itemDataKey:e,clipPath:f,zIndex:g=mf.activeDot}=a,h=eE(pO),i=td();if(null==b||null==i)return null;var j=b.find(a=>i.includes(a.payload));return cX(j)?null:vA.createElement(uw,{zIndex:g},vA.createElement(vG,{point:j,childIndex:Number(h),mainColor:c,dataKey:e,activeDot:d,clipPath:f}))}var vI=B;function vJ(a){var{tooltipEntrySettings:b}=a,c=eA(),d=fB(),e=(0,vI.useRef)(null);return(0,vI.useLayoutEffect)(()=>{d||(null===e.current?c(d7(b)):e.current!==b&&c(d8({prev:e.current,next:b})),e.current=b)},[b,c,d]),(0,vI.useLayoutEffect)(()=>()=>{e.current&&(c(d9(e.current)),e.current=null)},[c]),null}var vK=B,vL=["children"];function vM(a,b){if(null==a)return{};var c,d,e=vN(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function vN(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}var vO={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},vP=(0,vK.createContext)(vO);function vQ(a){var{children:b}=a,c=vM(a,vL);return vK.createElement(vP.Provider,{value:c},b)}var vR=B;function vS(a,b){var c,d,e=eE(b=>mX(b,a)),f=eE(a=>m$(a,b)),g=null!=(c=null==e?void 0:e.allowDataOverflow)?c:mV.allowDataOverflow,h=null!=(d=null==f?void 0:f.allowDataOverflow)?d:mY.allowDataOverflow;return{needClip:g||h,needClipX:g,needClipY:h}}function vT(a){var{xAxisId:b,yAxisId:c,clipPathId:d}=a,e=tc(),{needClipX:f,needClipY:g,needClip:h}=vS(b,c);if(!h||!e)return null;var{x:i,y:j,width:k,height:l}=e;return vR.createElement("clipPath",{id:"clipPath-".concat(d)},vR.createElement("rect",{x:f?i:i-k/2,y:g?j:j-l/2,width:f?k:2*k,height:g?l:2*l}))}var vU=(a,b,c,d)=>oH(a,"xAxis",b,d),vV=(a,b,c,d)=>oG(a,"xAxis",b,d),vW=(a,b,c,d)=>oH(a,"yAxis",c,d),vX=(a,b,c,d)=>oG(a,"yAxis",c,d),vY=bs([gd,vU,vW,vV,vX],(a,b,c,d,e)=>e2(a,"xAxis")?fd(b,d,!1):fd(c,e,!1));function vZ(a){return"line"===a.type}var v$=bs([m6,(a,b,c,d,e)=>e],(a,b)=>a.filter(vZ).find(a=>a.id===b)),v_=bs([gd,vU,vW,vV,vX,v$,vY,k1],(a,b,c,d,e,f,g,h)=>{var i,{chartData:j,dataStartIndex:k,dataEndIndex:l}=h;if(null!=f&&null!=b&&null!=c&&null!=d&&null!=e&&0!==d.length&&0!==e.length&&null!=g&&("horizontal"===a||"vertical"===a)){var{dataKey:m,data:n}=f;if(null!=(i=null!=n&&n.length>0?n:null==j?void 0:j.slice(k,l+1)))return zB({layout:a,xAxis:b,yAxis:c,xAxisTicks:d,yAxisTicks:e,dataKey:m,bandSize:g,displayedData:i})}}),v0=B;function v1(a){var{legendPayload:b}=a,c=eA(),d=fB(),e=(0,v0.useRef)(null);return(0,v0.useLayoutEffect)(()=>{d||(null===e.current?c(q4(b)):e.current!==b&&c(q5({prev:e.current,next:b})),e.current=b)},[c,d,b]),(0,v0.useLayoutEffect)(()=>()=>{e.current&&(c(q6(e.current)),e.current=null)},[c]),null}var v2=B;function v3(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"animation-",c=(0,v2.useRef)(cS(b)),d=(0,v2.useRef)(a);return d.current!==a&&(c.current=cS(b),d.current=a),c.current}var v4=B,v5=B,v6=()=>{var[a]=v5.useState(()=>cS("uid-"));return a},v7=null!=(d=v5["useId".toString()])?d:v6;function v8(a,b){var c=v7();return b||(a?"".concat(a,"-").concat(c):c)}var v9=(0,v4.createContext)(void 0),wa=a=>{var{id:b,type:c,children:d}=a,e=v8("recharts-".concat(c),b);return v4.createElement(v9.Provider,{value:e},d(e))},wb=B,wc=a=>{var b=eA(),c=(0,wb.useRef)(null);return(0,wb.useLayoutEffect)(()=>{null===c.current?b(qL(a)):c.current!==a&&b(qM({prev:c.current,next:a})),c.current=a},[b,a]),(0,wb.useLayoutEffect)(()=>()=>{c.current&&(b(qN(c.current)),c.current=null)},[b]),null},wd=(0,wb.memo)(wc),we=B;function wf(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function wg(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?wf(Object(c),!0).forEach(function(b){wh(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):wf(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function wh(a,b,c){return(b=wi(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function wi(a){var b=wj(a,"string");return"symbol"==typeof b?b:b+""}function wj(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var wk=a=>a.replace(/([A-Z])/g,a=>"-".concat(a.toLowerCase())),wl=(a,b,c)=>a.map(a=>"".concat(wk(a)," ").concat(b,"ms ").concat(c)).join(","),wm=(a,b)=>[Object.keys(a),Object.keys(b)].reduce((a,b)=>a.filter(a=>b.includes(a))),wn=(a,b)=>Object.keys(b).reduce((c,d)=>wg(wg({},c),{},{[d]:a(d,b[d])}),{});function wo(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function wp(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?wo(Object(c),!0).forEach(function(b){wq(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):wo(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function wq(a,b,c){return(b=wr(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function wr(a){var b=ws(a,"string");return"symbol"==typeof b?b:b+""}function ws(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var wt=(a,b,c)=>a+(b-a)*c,wu=a=>{var{from:b,to:c}=a;return b!==c},wv=(a,b,c)=>{var d=wn((b,c)=>{if(wu(c)){var[d,e]=a(c.from,c.to,c.velocity);return wp(wp({},c),{},{from:d,velocity:e})}return c},b);return c<1?wn((a,b)=>wu(b)&&null!=d[a]?wp(wp({},b),{},{velocity:wt(b.velocity,d[a].velocity,c),from:wt(b.from,d[a].from,c)}):b,b):wv(a,d,c-1)};function ww(a,b,c,d,e,f){var g,h=d.reduce((c,d)=>wp(wp({},c),{},{[d]:{from:a[d],velocity:0,to:b[d]}}),{}),i=()=>wn((a,b)=>b.from,h),j=()=>!Object.values(h).filter(wu).length,k=null,l=d=>{g||(g=d);var m=(d-g)/c.dt;h=wv(c,h,m),e(wp(wp(wp({},a),b),i())),g=d,j()||(k=f.setTimeout(l))};return()=>(k=f.setTimeout(l),()=>{var a;null==(a=k)||a()})}function wx(a,b,c,d,e,f,g){var h,i=null,j=e.reduce((c,d)=>{var e=a[d],f=b[d];return null==e||null==f?c:wp(wp({},c),{},{[d]:[e,f]})},{}),k=e=>{h||(h=e);var l=(e-h)/d,m=wn((a,b)=>wt(...b,c(l)),j);if(f(wp(wp(wp({},a),b),m)),l<1)i=g.setTimeout(k);else{var n=wn((a,b)=>wt(...b,c(1)),j);f(wp(wp(wp({},a),b),n))}};return()=>(i=g.setTimeout(k),()=>{var a;null==(a=i)||a()})}let wy=(a,b,c,d,e,f)=>{var g=wm(a,b);return null==c?()=>(e(wp(wp({},a),b)),()=>{}):!0===c.isStepper?ww(a,b,c,g,e,f):wx(a,b,c,d,g,e,f)};var wz=1e-4,wA=(a,b)=>[0,3*a,3*b-6*a,3*a-3*b+1],wB=(a,b)=>a.map((a,c)=>a*b**c).reduce((a,b)=>a+b),wC=(a,b)=>c=>wB(wA(a,b),c),wD=(a,b)=>c=>wB([...wA(a,b).map((a,b)=>a*b).slice(1),0],c),wE=a=>{var b,c=a.split("(");if(2!==c.length||"cubic-bezier"!==c[0])return null;var d=null==(b=c[1])||null==(b=b.split(")")[0])?void 0:b.split(",");if(null==d||4!==d.length)return null;var e=d.map(a=>parseFloat(a));return[e[0],e[1],e[2],e[3]]},wF=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];if(1===b.length)switch(b[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:var d=wE(b[0]);if(d)return d}return 4===b.length?b:[0,0,1,1]},wG=(a,b,c,d)=>{var e=wC(a,c),f=wC(b,d),g=wD(a,c),h=a=>a>1?1:a<0?0:a,i=a=>{for(var b=a>1?1:a,c=b,d=0;d<8;++d){var i=e(c)-b,j=g(c);if(Math.abs(i-b)<wz||j<wz)break;c=h(c-i/j)}return f(c)};return i.isStepper=!1,i},wH=function(){return wG(...wF(...arguments))},wI=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{stiff:b=100,damping:c=8,dt:d=17}=a,e=(a,e,f)=>{var g=f*c,h=f+(-(a-e)*b-g)*d/1e3,i=f*d/1e3+a;return Math.abs(i-e)<wz&&Math.abs(h)<wz?[e,0]:[i,h]};return e.isStepper=!0,e.dt=d,e},wJ=a=>{if("string"==typeof a)switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return wH(a);case"spring":return wI();default:if("cubic-bezier"===a.split("(")[0])return wH(a)}return"function"==typeof a?a:null},wK=B;function wL(a){var b=()=>null,c=!1,d=null,e=f=>{if(!c){if(Array.isArray(f)){if(!f.length)return;var[g,...h]=f;if("number"==typeof g){d=a.setTimeout(e.bind(null,h),g);return}e(g),d=a.setTimeout(e.bind(null,h));return}"string"==typeof f&&b(f),"object"==typeof f&&b(f),"function"==typeof f&&f()}};return{stop:()=>{c=!0},start:a=>{c=!1,d&&(d(),d=null),e(a)},subscribe:a=>(b=a,()=>{b=()=>null}),getTimeoutController:()=>a}}class wM{setTimeout(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,c=performance.now(),d=null,e=f=>{f-c>=b?a(f):"function"==typeof requestAnimationFrame&&(d=requestAnimationFrame(e))};return d=requestAnimationFrame(e),()=>{null!=d&&cancelAnimationFrame(d)}}}function wN(){return wL(new wM)}var wO=(0,wK.createContext)(wN);function wP(a,b){var c=(0,wK.useContext)(wO);return(0,wK.useMemo)(()=>null!=b?b:c(a),[a,b,c])}var wQ={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},wR={t:0},wS={t:1};function wT(a){var b=tp(a,wQ),{isActive:c,canBegin:d,duration:e,easing:f,begin:g,onAnimationEnd:h,onAnimationStart:i,children:j}=b,k="auto"===c?!rA.isSsr:c,l=wP(b.animationId,b.animationManager),[m,n]=(0,we.useState)(k?wR:wS),o=(0,we.useRef)(null);return(0,we.useEffect)(()=>{k||n(wS)},[k]),(0,we.useEffect)(()=>{if(!k||!d)return c$;var a=wy(wR,wS,wJ(f),e,n,l.getTimeoutController()),b=()=>{o.current=a()};return l.start([i,g,b,e,h]),()=>{l.stop(),o.current&&o.current(),h()}},[k,d,e,f,g,i,h,l]),j(m.t)}function wU(a){var b=sc(a),c=3,d=2;if(null!=b){var{r:e,strokeWidth:f}=b,g=Number(e),h=Number(f);return(Number.isNaN(g)||g<0)&&(g=c),(Number.isNaN(h)||h<0)&&(h=d),{r:g,strokeWidth:h}}return{r:c,strokeWidth:d}}var wV=B,wW=a.i(1326),wX=B,wY=["radius"],wZ=["radius"];function w$(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function w_(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?w$(Object(c),!0).forEach(function(b){w0(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):w$(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function w0(a,b,c){return(b=w1(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function w1(a){var b=w2(a,"string");return"symbol"==typeof b?b:b+""}function w2(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function w3(){return(w3=Object.assign.bind()).apply(null,arguments)}function w4(a,b){if(null==a)return{};var c,d,e=w5(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function w5(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}function w6(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}var w7=(a,b,c,d,o)=>{var p=cK(c),q=cK(d),r=Math.min(Math.abs(p)/2,Math.abs(q)/2),s=q>=0?1:-1,t=p>=0?1:-1,u=+(q>=0&&p>=0||q<0&&p<0);if(r>0&&Array.isArray(o)){for(var v=[0,0,0,0],w=0,x=4;w<x;w++){var y,z,A=null!=(z=o[w])?z:0;v[w]=A>r?r:A}y=cL(e||(e=w6(["M",",",""])),a,b+s*v[0]),v[0]>0&&(y+=cL(f||(f=w6(["A ",",",",0,0,",",",",",""])),v[0],v[0],u,a+t*v[0],b)),y+=cL(g||(g=w6(["L ",",",""])),a+c-t*v[1],b),v[1]>0&&(y+=cL(h||(h=w6(["A ",",",",0,0,",",\n        ",",",""])),v[1],v[1],u,a+c,b+s*v[1])),y+=cL(i||(i=w6(["L ",",",""])),a+c,b+d-s*v[2]),v[2]>0&&(y+=cL(j||(j=w6(["A ",",",",0,0,",",\n        ",",",""])),v[2],v[2],u,a+c-t*v[2],b+d)),y+=cL(k||(k=w6(["L ",",",""])),a+t*v[3],b+d),v[3]>0&&(y+=cL(l||(l=w6(["A ",",",",0,0,",",\n        ",",",""])),v[3],v[3],u,a,b+d-s*v[3])),y+="Z"}else if(r>0&&o===+o&&o>0){var B=Math.min(r,o);y=cL(m||(m=w6(["M ",",","\n            A ",",",",0,0,",",",",","\n            L ",",","\n            A ",",",",0,0,",",",",","\n            L ",",","\n            A ",",",",0,0,",",",",","\n            L ",",","\n            A ",",",",0,0,",",",","," Z"])),a,b+s*B,B,B,u,a+t*B,b,a+c-t*B,b,B,B,u,a+c,b+s*B,a+c,b+d-s*B,B,B,u,a+c-t*B,b+d,a+t*B,b+d,B,B,u,a,b+d-s*B)}else y=cL(n||(n=w6(["M ",","," h "," v "," h "," Z"])),a,b,c,d,-c);return y},w8={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},w9=a=>{var b=tp(a,w8),c=(0,wX.useRef)(null),[d,e]=(0,wX.useState)(-1);(0,wX.useEffect)(()=>{if(c.current&&c.current.getTotalLength)try{var a=c.current.getTotalLength();a&&e(a)}catch(a){}},[]);var{x:f,y:g,width:h,height:i,radius:j,className:k}=b,{animationEasing:l,animationDuration:m,animationBegin:n,isAnimationActive:o,isUpdateAnimationActive:p}=b,q=(0,wX.useRef)(h),r=(0,wX.useRef)(i),s=(0,wX.useRef)(f),t=(0,wX.useRef)(g),u=v3((0,wX.useMemo)(()=>({x:f,y:g,width:h,height:i,radius:j}),[f,g,h,i,j]),"rectangle-");if(f!==+f||g!==+g||h!==+h||i!==+i||0===h||0===i)return null;var v=fF("recharts-rectangle",k);if(!p){var w=sd(b),{radius:x}=w,y=w4(w,wY);return wX.createElement("path",w3({},y,{x:cK(f),y:cK(g),width:cK(h),height:cK(i),radius:"number"==typeof j?j:void 0,className:v,d:w7(f,g,h,i,j)}))}var z=q.current,A=r.current,B=s.current,C=t.current,D="0px ".concat(-1===d?1:d,"px"),E="".concat(d,"px 0px"),F=wl(["strokeDasharray"],m,"string"==typeof l?l:w8.animationEasing);return wX.createElement(wT,{animationId:u,key:u,canBegin:d>0,duration:m,easing:l,isActive:p,begin:n},a=>{var d,e=cV(z,h,a),k=cV(A,i,a),l=cV(B,f,a),m=cV(C,g,a);c.current&&(q.current=e,r.current=k,s.current=l,t.current=m),d=o?a>0?{transition:F,strokeDasharray:E}:{strokeDasharray:D}:{strokeDasharray:E};var n=sd(b),{radius:p}=n,u=w4(n,wZ);return wX.createElement("path",w3({},u,{radius:"number"==typeof j?j:void 0,className:v,d:w7(l,m,e,k,j),ref:c,style:w_(w_({},d),b.style)}))})},xa=B;function xb(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function xc(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?xb(Object(c),!0).forEach(function(b){xd(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):xb(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function xd(a,b,c){return(b=xe(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function xe(a){var b=xf(a,"string");return"symbol"==typeof b?b:b+""}function xf(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function xg(){return(xg=Object.assign.bind()).apply(null,arguments)}function xh(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}var xi=(a,b,c,d,e)=>{var f=c-d;return cL(o||(o=xh(["M ",",",""])),a,b)+cL(p||(p=xh(["L ",",",""])),a+c,b)+cL(q||(q=xh(["L ",",",""])),a+c-f/2,b+e)+cL(r||(r=xh(["L ",",",""])),a+c-f/2-d,b+e)+cL(s||(s=xh(["L ",","," Z"])),a,b)},xj={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xk=a=>{var b=tp(a,xj),{x:c,y:d,upperWidth:e,lowerWidth:f,height:g,className:h}=b,{animationEasing:i,animationDuration:j,animationBegin:k,isUpdateAnimationActive:l}=b,m=(0,xa.useRef)(null),[n,o]=(0,xa.useState)(-1),p=(0,xa.useRef)(e),q=(0,xa.useRef)(f),r=(0,xa.useRef)(g),s=(0,xa.useRef)(c),t=(0,xa.useRef)(d),u=v3(a,"trapezoid-");if((0,xa.useEffect)(()=>{if(m.current&&m.current.getTotalLength)try{var a=m.current.getTotalLength();a&&o(a)}catch(a){}},[]),c!==+c||d!==+d||e!==+e||f!==+f||g!==+g||0===e&&0===f||0===g)return null;var v=fF("recharts-trapezoid",h);if(!l)return xa.createElement("g",null,xa.createElement("path",xg({},sd(b),{className:v,d:xi(c,d,e,f,g)})));var w=p.current,x=q.current,y=r.current,z=s.current,A=t.current,B="0px ".concat(-1===n?1:n,"px"),C="".concat(n,"px 0px"),D=wl(["strokeDasharray"],j,i);return xa.createElement(wT,{animationId:u,key:u,canBegin:n>0,duration:j,easing:i,isActive:l,begin:k},a=>{var h=cV(w,e,a),i=cV(x,f,a),j=cV(y,g,a),k=cV(z,c,a),l=cV(A,d,a);m.current&&(p.current=h,q.current=i,r.current=j,s.current=k,t.current=l);var n=a>0?{transition:D,strokeDasharray:C}:{strokeDasharray:B};return xa.createElement("path",xg({},sd(b),{className:v,d:xi(k,l,h,i,j),ref:m,style:xc(xc({},n),b.style)}))})},xl=B;function xm(){return(xm=Object.assign.bind()).apply(null,arguments)}function xn(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}var xo=(a,b)=>cM(b-a)*Math.min(Math.abs(b-a),359.999),xp=a=>{var{cx:b,cy:c,radius:d,angle:e,sign:f,isExternal:g,cornerRadius:h,cornerIsExternal:i}=a,j=h*(g?1:-1)+d,k=Math.asin(h/j)/l6,l=i?e:e+f*k,m=l8(b,c,j,l),n=l8(b,c,d,l),o=i?e-f*k:e;return{center:m,circleTangency:n,lineTangency:l8(b,c,j*Math.cos(k*l6),o),theta:k}},xq=a=>{var{cx:b,cy:c,innerRadius:d,outerRadius:e,startAngle:f,endAngle:g}=a,h=xo(f,g),i=f+h,j=l8(b,c,e,f),k=l8(b,c,e,i),l=cL(t||(t=xn(["M ",",","\n    A ",",",",0,\n    ",",",",\n    ",",","\n  "])),j.x,j.y,e,e,+(Math.abs(h)>180),+(f>i),k.x,k.y);if(d>0){var m=l8(b,c,d,f),n=l8(b,c,d,i);l+=cL(u||(u=xn(["L ",",","\n            A ",",",",0,\n            ",",",",\n            ",","," Z"])),n.x,n.y,d,d,+(Math.abs(h)>180),+(f<=i),m.x,m.y)}else l+=cL(v||(v=xn(["L ",","," Z"])),b,c);return l},xr=a=>{var{cx:b,cy:c,innerRadius:d,outerRadius:e,cornerRadius:f,forceCornerRadius:g,cornerIsExternal:h,startAngle:i,endAngle:j}=a,k=cM(j-i),{circleTangency:l,lineTangency:m,theta:n}=xp({cx:b,cy:c,radius:e,angle:i,sign:k,cornerRadius:f,cornerIsExternal:h}),{circleTangency:o,lineTangency:p,theta:q}=xp({cx:b,cy:c,radius:e,angle:j,sign:-k,cornerRadius:f,cornerIsExternal:h}),r=h?Math.abs(i-j):Math.abs(i-j)-n-q;if(r<0)return g?cL(w||(w=xn(["M ",",","\n        a",",",",0,0,1,",",0\n        a",",",",0,0,1,",",0\n      "])),m.x,m.y,f,f,2*f,f,f,-(2*f)):xq({cx:b,cy:c,innerRadius:d,outerRadius:e,startAngle:i,endAngle:j});var s=cL(x||(x=xn(["M ",",","\n    A",",",",0,0,",",",",","\n    A",",",",0,",",",",",",","\n    A",",",",0,0,",",",",","\n  "])),m.x,m.y,f,f,+(k<0),l.x,l.y,e,e,+(r>180),+(k<0),o.x,o.y,f,f,+(k<0),p.x,p.y);if(d>0){var{circleTangency:t,lineTangency:u,theta:v}=xp({cx:b,cy:c,radius:d,angle:i,sign:k,isExternal:!0,cornerRadius:f,cornerIsExternal:h}),{circleTangency:A,lineTangency:B,theta:C}=xp({cx:b,cy:c,radius:d,angle:j,sign:-k,isExternal:!0,cornerRadius:f,cornerIsExternal:h}),D=h?Math.abs(i-j):Math.abs(i-j)-v-C;if(D<0&&0===f)return"".concat(s,"L").concat(b,",").concat(c,"Z");s+=cL(y||(y=xn(["L",",","\n      A",",",",0,0,",",",",","\n      A",",",",0,",",",",",",","\n      A",",",",0,0,",",",",","Z"])),B.x,B.y,f,f,+(k<0),A.x,A.y,d,d,+(D>180),+(k>0),t.x,t.y,f,f,+(k<0),u.x,u.y)}else s+=cL(z||(z=xn(["L",",","Z"])),b,c);return s},xs={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},xt=a=>{var b,c=tp(a,xs),{cx:d,cy:e,innerRadius:f,outerRadius:g,cornerRadius:h,forceCornerRadius:i,cornerIsExternal:j,startAngle:k,endAngle:l,className:m}=c;if(g<f||k===l)return null;var n=fF("recharts-sector",m),o=g-f,p=cT(h,o,0,!0);return b=p>0&&360>Math.abs(k-l)?xr({cx:d,cy:e,innerRadius:f,outerRadius:g,cornerRadius:Math.min(p,o/2),forceCornerRadius:i,cornerIsExternal:j,startAngle:k,endAngle:l}):xq({cx:d,cy:e,innerRadius:f,outerRadius:g,startAngle:k,endAngle:l}),xl.createElement("path",xm({},sd(c),{className:n,d:b}))},xu=B;let xv=Math.PI,xw=2*xv,xx=1e-6,xy=xw-1e-6;function xz(a){this._+=a[0];for(let b=1,c=a.length;b<c;++b)this._+=arguments[b]+a[b]}function xA(a){let b=Math.floor(a);if(!(b>=0))throw Error(`invalid digits: ${a}`);if(b>15)return xz;let c=10**b;return function(a){this._+=a[0];for(let b=1,d=a.length;b<d;++b)this._+=Math.round(arguments[b]*c)/c+a[b]}}class xB{constructor(a){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==a?xz:xA(a)}moveTo(a,b){this._append`M${this._x0=this._x1=+a},${this._y0=this._y1=+b}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(a,b){this._append`L${this._x1=+a},${this._y1=+b}`}quadraticCurveTo(a,b,c,d){this._append`Q${+a},${+b},${this._x1=+c},${this._y1=+d}`}bezierCurveTo(a,b,c,d,e,f){this._append`C${+a},${+b},${+c},${+d},${this._x1=+e},${this._y1=+f}`}arcTo(a,b,c,d,e){if(a*=1,b*=1,c*=1,d*=1,(e*=1)<0)throw Error(`negative radius: ${e}`);let f=this._x1,g=this._y1,h=c-a,i=d-b,j=f-a,k=g-b,l=j*j+k*k;if(null===this._x1)this._append`M${this._x1=a},${this._y1=b}`;else if(l>xx)if(Math.abs(k*h-i*j)>xx&&e){let m=c-f,n=d-g,o=h*h+i*i,p=Math.sqrt(o),q=Math.sqrt(l),r=e*Math.tan((xv-Math.acos((o+l-(m*m+n*n))/(2*p*q)))/2),s=r/q,t=r/p;Math.abs(s-1)>xx&&this._append`L${a+s*j},${b+s*k}`,this._append`A${e},${e},0,0,${+(k*m>j*n)},${this._x1=a+t*h},${this._y1=b+t*i}`}else this._append`L${this._x1=a},${this._y1=b}`}arc(a,b,c,d,e,f){if(a*=1,b*=1,c*=1,f=!!f,c<0)throw Error(`negative radius: ${c}`);let g=c*Math.cos(d),h=c*Math.sin(d),i=a+g,j=b+h,k=1^f,l=f?d-e:e-d;null===this._x1?this._append`M${i},${j}`:(Math.abs(this._x1-i)>xx||Math.abs(this._y1-j)>xx)&&this._append`L${i},${j}`,c&&(l<0&&(l=l%xw+xw),l>xy?this._append`A${c},${c},0,1,${k},${a-g},${b-h}A${c},${c},0,1,${k},${this._x1=i},${this._y1=j}`:l>xx&&this._append`A${c},${c},0,${+(l>=xv)},${k},${this._x1=a+c*Math.cos(e)},${this._y1=b+c*Math.sin(e)}`)}rect(a,b,c,d){this._append`M${this._x0=this._x1=+a},${this._y0=this._y1=+b}h${c*=1}v${+d}h${-c}Z`}toString(){return this._}}function xC(a){let b=3;return a.digits=function(c){if(!arguments.length)return b;if(null==c)b=null;else{let a=Math.floor(c);if(!(a>=0))throw RangeError(`invalid digits: ${c}`);b=a}return a},()=>new xB(b)}xB.prototype;let xD=Math.cos,xE=Math.sin,xF=Math.sqrt,xG=Math.PI,xH=2*xG;xF(3);let xI={draw(a,b){let c=xF(b/xG);a.moveTo(c,0),a.arc(0,0,c,0,xH)}},xJ={draw(a,b){let c=xF(b/5)/2;a.moveTo(-3*c,-c),a.lineTo(-c,-c),a.lineTo(-c,-3*c),a.lineTo(c,-3*c),a.lineTo(c,-c),a.lineTo(3*c,-c),a.lineTo(3*c,c),a.lineTo(c,c),a.lineTo(c,3*c),a.lineTo(-c,3*c),a.lineTo(-c,c),a.lineTo(-3*c,c),a.closePath()}},xK=xF(1/3),xL=2*xK,xM={draw(a,b){let c=xF(b/xL),d=c*xK;a.moveTo(0,-c),a.lineTo(d,0),a.lineTo(0,c),a.lineTo(-d,0),a.closePath()}},xN={draw(a,b){let c=xF(b),d=-c/2;a.rect(d,d,c,c)}},xO=.8908130915292852,xP=xE(xG/10)/xE(7*xG/10),xQ=xE(xH/10)*xP,xR=-xD(xH/10)*xP,xS={draw(a,b){let c=xF(b*xO),d=xQ*c,e=xR*c;a.moveTo(0,-c),a.lineTo(d,e);for(let b=1;b<5;++b){let f=xH*b/5,g=xD(f),h=xE(f);a.lineTo(h*c,-g*c),a.lineTo(g*d-h*e,h*d+g*e)}a.closePath()}},xT=xF(3),xU={draw(a,b){let c=-xF(b/(3*xT));a.moveTo(0,2*c),a.lineTo(-xT*c,-c),a.lineTo(xT*c,-c),a.closePath()}};xF(3);let xV=-.5,xW=xF(3)/2,xX=1/xF(12),xY=(xX/2+1)*3,xZ={draw(a,b){let c=xF(b/xY),d=c/2,e=c*xX,f=d,g=c*xX+c,h=-f,i=g;a.moveTo(d,e),a.lineTo(f,g),a.lineTo(h,i),a.lineTo(xV*d-xW*e,xW*d+xV*e),a.lineTo(xV*f-xW*g,xW*f+xV*g),a.lineTo(xV*h-xW*i,xW*h+xV*i),a.lineTo(xV*d+xW*e,xV*e-xW*d),a.lineTo(xV*f+xW*g,xV*g-xW*f),a.lineTo(xV*h+xW*i,xV*i-xW*h),a.closePath()}};function x$(a,b){let c=null,d=xC(e);function e(){let e;if(c||(c=e=d()),a.apply(this,arguments).draw(c,+b.apply(this,arguments)),e)return c=null,e+""||null}return a="function"==typeof a?a:eM(a||xI),b="function"==typeof b?b:eM(void 0===b?64:+b),e.type=function(b){return arguments.length?(a="function"==typeof b?b:eM(b),e):a},e.size=function(a){return arguments.length?(b="function"==typeof a?a:eM(+a),e):b},e.context=function(a){return arguments.length?(c=null==a?null:a,e):c},e}var x_=["type","size","sizeType"];function x0(){return(x0=Object.assign.bind()).apply(null,arguments)}function x1(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function x2(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?x1(Object(c),!0).forEach(function(b){x3(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):x1(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function x3(a,b,c){return(b=x4(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function x4(a){var b=x5(a,"string");return"symbol"==typeof b?b:b+""}function x5(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function x6(a,b){if(null==a)return{};var c,d,e=x7(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function x7(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}var x8={symbolCircle:xI,symbolCross:xJ,symbolDiamond:xM,symbolSquare:xN,symbolStar:xS,symbolTriangle:xU,symbolWye:xZ},x9=Math.PI/180,ya=a=>x8["symbol".concat(cY(a))]||xI,yb=(a,b,c)=>{if("area"===b)return a;switch(c){case"cross":return 5*a*a/9;case"diamond":return .5*a*a/Math.sqrt(3);case"square":return a*a;case"star":var d=18*x9;return 1.25*a*a*(Math.tan(d)-Math.tan(2*d)*Math.tan(d)**2);case"triangle":return Math.sqrt(3)*a*a/4;case"wye":return(21-10*Math.sqrt(3))*a*a/8;default:return Math.PI*a*a/4}},yc=a=>{var{type:b="circle",size:c=64,sizeType:d="area"}=a,e=x2(x2({},x6(a,x_)),{},{type:b,size:c,sizeType:d}),f="circle";"string"==typeof b&&(f=b);var g=()=>{var a=ya(f),b=x$().type(a).size(yb(c,d,f))();if(null!==b)return b},{className:h,cx:i,cy:j}=e,k=sd(e);return cP(i)&&cP(j)&&cP(c)?xu.createElement("path",x0({},k,{className:fF("recharts-symbols",h),transform:"translate(".concat(i,", ").concat(j,")"),d:g()})):null};yc.registerSymbol=(a,b)=>{x8["symbol".concat(cY(a))]=b};var yd=B;function ye(a){this._context=a}function yf(a){return new ye(a)}function yg(a){return a[0]}function yh(a){return a[1]}function yi(a,b){var c=eM(!0),d=null,e=yf,f=null,g=xC(h);function h(h){var i,j,k,l=(h=eL(h)).length,m=!1;for(null==d&&(f=e(k=g())),i=0;i<=l;++i)!(i<l&&c(j=h[i],i,h))===m&&((m=!m)?f.lineStart():f.lineEnd()),m&&f.point(+a(j,i,h),+b(j,i,h));if(k)return f=null,k+""||null}return a="function"==typeof a?a:void 0===a?yg:eM(a),b="function"==typeof b?b:void 0===b?yh:eM(b),h.x=function(b){return arguments.length?(a="function"==typeof b?b:eM(+b),h):a},h.y=function(a){return arguments.length?(b="function"==typeof a?a:eM(+a),h):b},h.defined=function(a){return arguments.length?(c="function"==typeof a?a:eM(!!a),h):c},h.curve=function(a){return arguments.length?(e=a,null!=d&&(f=e(d)),h):e},h.context=function(a){return arguments.length?(null==a?d=f=null:f=e(d=a),h):d},h}function yj(a,b,c){var d=null,e=eM(!0),f=null,g=yf,h=null,i=xC(j);function j(j){var k,l,m,n,o,p=(j=eL(j)).length,q=!1,r=Array(p),s=Array(p);for(null==f&&(h=g(o=i())),k=0;k<=p;++k){if(!(k<p&&e(n=j[k],k,j))===q)if(q=!q)l=k,h.areaStart(),h.lineStart();else{for(h.lineEnd(),h.lineStart(),m=k-1;m>=l;--m)h.point(r[m],s[m]);h.lineEnd(),h.areaEnd()}q&&(r[k]=+a(n,k,j),s[k]=+b(n,k,j),h.point(d?+d(n,k,j):r[k],c?+c(n,k,j):s[k]))}if(o)return h=null,o+""||null}function k(){return yi().defined(e).curve(g).context(f)}return a="function"==typeof a?a:void 0===a?yg:eM(+a),b="function"==typeof b?b:void 0===b?eM(0):eM(+b),c="function"==typeof c?c:void 0===c?yh:eM(+c),j.x=function(b){return arguments.length?(a="function"==typeof b?b:eM(+b),d=null,j):a},j.x0=function(b){return arguments.length?(a="function"==typeof b?b:eM(+b),j):a},j.x1=function(a){return arguments.length?(d=null==a?null:"function"==typeof a?a:eM(+a),j):d},j.y=function(a){return arguments.length?(b="function"==typeof a?a:eM(+a),c=null,j):b},j.y0=function(a){return arguments.length?(b="function"==typeof a?a:eM(+a),j):b},j.y1=function(a){return arguments.length?(c=null==a?null:"function"==typeof a?a:eM(+a),j):c},j.lineX0=j.lineY0=function(){return k().x(a).y(b)},j.lineY1=function(){return k().x(a).y(c)},j.lineX1=function(){return k().x(d).y(b)},j.defined=function(a){return arguments.length?(e="function"==typeof a?a:eM(!!a),j):e},j.curve=function(a){return arguments.length?(g=a,null!=f&&(h=g(f)),j):g},j.context=function(a){return arguments.length?(null==a?f=h=null:h=g(f=a),j):f},j}function yk(){}function yl(a,b,c){a._context.bezierCurveTo((2*a._x0+a._x1)/3,(2*a._y0+a._y1)/3,(a._x0+2*a._x1)/3,(a._y0+2*a._y1)/3,(a._x0+4*a._x1+b)/6,(a._y0+4*a._y1+c)/6)}function ym(a){this._context=a}function yn(a){return new ym(a)}function yo(a){this._context=a}function yp(a){return new yo(a)}function yq(a){this._context=a}function yr(a){return new yq(a)}ye.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){switch(a*=1,b*=1,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;default:this._context.lineTo(a,b)}}},ym.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:yl(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){switch(a*=1,b*=1,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:yl(this,a,b)}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=b}},yo.prototype={areaStart:yk,areaEnd:yk,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(a,b){switch(a*=1,b*=1,this._point){case 0:this._point=1,this._x2=a,this._y2=b;break;case 1:this._point=2,this._x3=a,this._y3=b;break;case 2:this._point=3,this._x4=a,this._y4=b,this._context.moveTo((this._x0+4*this._x1+a)/6,(this._y0+4*this._y1+b)/6);break;default:yl(this,a,b)}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=b}},yq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){switch(a*=1,b*=1,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var c=(this._x0+4*this._x1+a)/6,d=(this._y0+4*this._y1+b)/6;this._line?this._context.lineTo(c,d):this._context.moveTo(c,d);break;case 3:this._point=4;default:yl(this,a,b)}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=b}};class ys{constructor(a,b){this._context=a,this._x=b}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(a,b){switch(a*=1,b*=1,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+a)/2,this._y0,this._x0,b,a,b):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+b)/2,a,this._y0,a,b)}this._x0=a,this._y0=b}}function yt(a){return new ys(a,!0)}function yu(a){return new ys(a,!1)}function yv(a){this._context=a}function yw(a){return new yv(a)}function yx(a){return a<0?-1:1}function yy(a,b,c){var d=a._x1-a._x0,e=b-a._x1,f=(a._y1-a._y0)/(d||e<0&&-0),g=(c-a._y1)/(e||d<0&&-0),h=(f*e+g*d)/(d+e);return(yx(f)+yx(g))*Math.min(Math.abs(f),Math.abs(g),.5*Math.abs(h))||0}function yz(a,b){var c=a._x1-a._x0;return c?(3*(a._y1-a._y0)/c-b)/2:b}function yA(a,b,c){var d=a._x0,e=a._y0,f=a._x1,g=a._y1,h=(f-d)/3;a._context.bezierCurveTo(d+h,e+h*b,f-h,g-h*c,f,g)}function yB(a){this._context=a}function yC(a){this._context=new yD(a)}function yD(a){this._context=a}function yE(a){return new yB(a)}function yF(a){return new yC(a)}function yG(a){this._context=a}function yH(a){var b,c,d=a.length-1,e=Array(d),f=Array(d),g=Array(d);for(e[0]=0,f[0]=2,g[0]=a[0]+2*a[1],b=1;b<d-1;++b)e[b]=1,f[b]=4,g[b]=4*a[b]+2*a[b+1];for(e[d-1]=2,f[d-1]=7,g[d-1]=8*a[d-1]+a[d],b=1;b<d;++b)c=e[b]/f[b-1],f[b]-=c,g[b]-=c*g[b-1];for(e[d-1]=g[d-1]/f[d-1],b=d-2;b>=0;--b)e[b]=(g[b]-e[b+1])/f[b];for(b=0,f[d-1]=(a[d]+e[d-1])/2;b<d-1;++b)f[b]=2*a[b+1]-e[b+1];return[e,f]}function yI(a){return new yG(a)}function yJ(a,b){this._context=a,this._t=b}function yK(){return(yK=Object.assign.bind()).apply(null,arguments)}function yL(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function yM(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?yL(Object(c),!0).forEach(function(b){yN(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):yL(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function yN(a,b,c){return(b=yO(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function yO(a){var b=yP(a,"string");return"symbol"==typeof b?b:b+""}function yP(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}yv.prototype={areaStart:yk,areaEnd:yk,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(a,b){a*=1,b*=1,this._point?this._context.lineTo(a,b):(this._point=1,this._context.moveTo(a,b))}},yB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:yA(this,this._t0,yz(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){var c=NaN;if(b*=1,(a*=1)!==this._x1||b!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;break;case 2:this._point=3,yA(this,yz(this,c=yy(this,a,b)),c);break;default:yA(this,this._t0,c=yy(this,a,b))}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=b,this._t0=c}}},(yC.prototype=Object.create(yB.prototype)).point=function(a,b){yB.prototype.point.call(this,b,a)},yD.prototype={moveTo:function(a,b){this._context.moveTo(b,a)},closePath:function(){this._context.closePath()},lineTo:function(a,b){this._context.lineTo(b,a)},bezierCurveTo:function(a,b,c,d,e,f){this._context.bezierCurveTo(b,a,d,c,f,e)}},yG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var a=this._x,b=this._y,c=a.length;if(c)if(this._line?this._context.lineTo(a[0],b[0]):this._context.moveTo(a[0],b[0]),2===c)this._context.lineTo(a[1],b[1]);else for(var d=yH(a),e=yH(b),f=0,g=1;g<c;++f,++g)this._context.bezierCurveTo(d[0][f],e[0][f],d[1][f],e[1][f],a[g],b[g]);(this._line||0!==this._line&&1===c)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(a,b){this._x.push(+a),this._y.push(+b)}},yJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(a,b){switch(a*=1,b*=1,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,b),this._context.lineTo(a,b);else{var c=this._x*(1-this._t)+a*this._t;this._context.lineTo(c,this._y),this._context.lineTo(c,b)}}this._x=a,this._y=b}};var yQ={curveBasisClosed:yp,curveBasisOpen:yr,curveBasis:yn,curveBumpX:yt,curveBumpY:yu,curveLinearClosed:yw,curveLinear:yf,curveMonotoneX:yE,curveMonotoneY:yF,curveNatural:yI,curveStep:function(a){return new yJ(a,.5)},curveStepAfter:function(a){return new yJ(a,1)},curveStepBefore:function(a){return new yJ(a,0)}},yR=a=>eV(a.x)&&eV(a.y),yS=a=>null!=a.base&&yR(a.base)&&yR(a),yT=a=>a.x,yU=a=>a.y,yV=(a,b)=>{if("function"==typeof a)return a;var c="curve".concat(cY(a));if(("curveMonotone"===c||"curveBump"===c)&&b){var d=yQ["".concat(c).concat("vertical"===b?"Y":"X")];if(d)return d}return yQ[c]||yf},yW=!1,yX="linear",yY=a=>{var b,{type:c=yX,points:d=[],baseLine:e,layout:f,connectNulls:g=yW}=a,h=yV(c,f),i=g?d.filter(yR):d;if(Array.isArray(e)){var j,k=d.map((a,b)=>yM(yM({},a),{},{base:e[b]}));return(j="vertical"===f?yj().y(yU).x1(yT).x0(a=>a.base.x):yj().x(yT).y1(yU).y0(a=>a.base.y)).defined(yS).curve(h)(g?k.filter(yS):k)}return(b="vertical"===f&&cP(e)?yj().y(yU).x1(yT).x0(e):cP(e)?yj().x(yT).y1(yU).y0(e):yi().x(yT).y(yU)).defined(yR).curve(h)(i)},yZ=a=>{var{className:b,points:c,path:d,pathRef:e}=a,f=ge();if((!c||!c.length)&&!d)return null;var g={type:a.type,points:a.points,baseLine:a.baseLine,layout:a.layout||f,connectNulls:a.connectNulls},h=c&&c.length?yY(g):d;return yd.createElement("path",yK({},sb(a),vi(a),{className:fF("recharts-curve",b),d:null===h?void 0:h,ref:e}))},y$=["option","shapeType","activeClassName"];function y_(a,b){if(null==a)return{};var c,d,e=y0(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function y0(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}function y1(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function y2(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?y1(Object(c),!0).forEach(function(b){y3(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):y1(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function y3(a,b,c){return(b=y4(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function y4(a){var b=y5(a,"string");return"symbol"==typeof b?b:b+""}function y5(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function y6(a,b){return y2(y2({},b),a)}function y7(a,b){return"symbols"===a}function y8(a){var{shapeType:b,elementProps:c}=a;switch(b){case"rectangle":return wV.createElement(w9,c);case"trapezoid":return wV.createElement(xk,c);case"sector":return wV.createElement(xt,c);case"symbols":if(y7(b,c))return wV.createElement(yc,c);break;case"curve":return wV.createElement(yZ,c);default:return null}}function y9(a){return(0,wV.isValidElement)(a)?a.props:a}function za(a){var b,{option:c,shapeType:d,activeClassName:e="recharts-active-shape"}=a,f=y_(a,y$);if((0,wV.isValidElement)(c))b=(0,wV.cloneElement)(c,y2(y2({},f),y9(c)));else if("function"==typeof c)b=c(f,f.index);else if((0,wW.default)(c)&&"boolean"!=typeof c){var g=y6(c,f);b=wV.createElement(y8,{shapeType:d,elementProps:g})}else{var h=f;b=wV.createElement(y8,{shapeType:d,elementProps:h})}return f.isActive?wV.createElement(tB,{className:e},b):b}var zb=["id"],zc=["type","layout","connectNulls","needClip","shape"],zd=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function ze(){return(ze=Object.assign.bind()).apply(null,arguments)}function zf(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function zg(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?zf(Object(c),!0).forEach(function(b){zh(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):zf(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function zh(a,b,c){return(b=zi(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function zi(a){var b=zj(a,"string");return"symbol"==typeof b?b:b+""}function zj(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function zk(a,b){if(null==a)return{};var c,d,e=zl(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function zl(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}var zm=a=>{var{dataKey:b,name:c,stroke:d,legendType:e,hide:f}=a;return[{inactive:f,dataKey:b,type:e,color:d,value:ff(c,b),payload:a}]},zn=tv.memo(a=>{var{dataKey:b,data:c,stroke:d,strokeWidth:e,fill:f,name:g,hide:h,unit:i,tooltipType:j,id:k}=a,l={dataDefinedOnItem:c,getPosition:c$,settings:{stroke:d,strokeWidth:e,fill:f,dataKey:b,nameKey:void 0,name:ff(g,b),hide:h,type:j,color:d,unit:i,graphicalItemId:k}};return tv.createElement(vJ,{tooltipEntrySettings:l})}),zo=(a,b)=>"".concat(b,"px ").concat(a-b,"px");function zp(a,b){for(var c=a.length%2!=0?[...a,0]:a,d=[],e=0;e<b;++e)d=[...d,...c];return d}var zq=(a,b,c)=>{var d=c.reduce((a,b)=>a+b);if(!d)return zo(b,a);for(var e=Math.floor(a/d),f=a%d,g=b-a,h=[],i=0,j=0;i<c.length;j+=null!=(k=c[i])?k:0,++i){var k,l=c[i];if(null!=l&&j+l>f){h=[...c.slice(0,i),f-j];break}}var m=h.length%2==0?[0,g]:[g];return[...zp(c,e),...h,...m].map(a=>"".concat(a,"px")).join(", ")};function zr(a){var{clipPathId:b,points:c,props:d}=a,{dot:e,dataKey:f,needClip:g}=d,{id:h}=d,i=sb(zk(d,zb));return tv.createElement(vz,{points:c,dot:e,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:f,baseProps:i,needClip:g,clipPathId:b})}function zs(a){var{showLabels:b,children:c,points:d}=a,e=(0,tv.useMemo)(()=>null==d?void 0:d.map(a=>{var b,c,d={x:null!=(b=a.x)?b:0,y:null!=(c=a.y)?c:0,width:0,lowerWidth:0,upperWidth:0,height:0};return zg(zg({},d),{},{value:a.value,payload:a.payload,viewBox:d,parentViewBox:void 0,fill:void 0})}),[d]);return tv.createElement(u8,{value:b?e:void 0},c)}function zt(a){var{clipPathId:b,pathRef:c,points:d,strokeDasharray:e,props:f}=a,{type:g,layout:h,connectNulls:i,needClip:j,shape:k}=f,l=zg(zg({},sd(zk(f,zc))),{},{fill:"none",className:"recharts-line-curve",clipPath:j?"url(#clipPath-".concat(b,")"):void 0,points:d,type:g,layout:h,connectNulls:i,strokeDasharray:null!=e?e:f.strokeDasharray});return tv.createElement(tv.Fragment,null,(null==d?void 0:d.length)>1&&tv.createElement(za,ze({shapeType:"curve",option:k},l,{pathRef:c})),tv.createElement(zr,{points:d,clipPathId:b,props:f}))}function zu(a){try{return a&&a.getTotalLength&&a.getTotalLength()||0}catch(a){return 0}}function zv(a){var{clipPathId:b,props:c,pathRef:d,previousPointsRef:e,longestAnimatedLengthRef:f}=a,{points:g,strokeDasharray:h,isAnimationActive:i,animationBegin:j,animationDuration:k,animationEasing:l,animateNewValues:m,width:n,height:o,onAnimationEnd:p,onAnimationStart:q}=c,r=e.current,s=v3(g,"recharts-line-"),t=(0,tv.useRef)(s),[u,v]=(0,tv.useState)(!1),w=!u,x=(0,tv.useCallback)(()=>{"function"==typeof p&&p(),v(!1)},[p]),y=(0,tv.useCallback)(()=>{"function"==typeof q&&q(),v(!0)},[q]),z=zu(d.current),A=(0,tv.useRef)(0);t.current!==s&&(A.current=f.current,t.current=s);var B=A.current;return tv.createElement(zs,{points:g,showLabels:w},c.children,tv.createElement(wT,{animationId:s,begin:j,duration:k,isActive:i,easing:l,onAnimationEnd:x,onAnimationStart:y,key:s},a=>{var j,k=Math.min(cV(B,z+B,a),z);if(j=i?h?zq(k,z,"".concat(h).split(/[,\s]+/gim).map(a=>parseFloat(a))):zo(z,k):null==h?void 0:String(h),a>0&&z>0&&(e.current=g,f.current=Math.max(f.current,k)),r){var l=r.length/g.length,p=1===a?g:g.map((b,c)=>{var d=Math.floor(c*l);if(r[d]){var e=r[d];return zg(zg({},b),{},{x:cV(e.x,b.x,a),y:cV(e.y,b.y,a)})}return m?zg(zg({},b),{},{x:cV(2*n,b.x,a),y:cV(o/2,b.y,a)}):zg(zg({},b),{},{x:b.x,y:b.y})});return e.current=p,tv.createElement(zt,{props:c,points:p,clipPathId:b,pathRef:d,strokeDasharray:j})}return tv.createElement(zt,{props:c,points:g,clipPathId:b,pathRef:d,strokeDasharray:j})}),tv.createElement(vd,{label:c.label}))}function zw(a){var{clipPathId:b,props:c}=a,d=(0,tv.useRef)(null),e=(0,tv.useRef)(0),f=(0,tv.useRef)(null);return tv.createElement(zv,{props:c,clipPathId:b,previousPointsRef:d,longestAnimatedLengthRef:e,pathRef:f})}var zx=(a,b)=>{var c,d;return{x:null!=(c=a.x)?c:void 0,y:null!=(d=a.y)?d:void 0,value:a.value,errorVal:e0(a.payload,b)}};class zy extends tv.Component{render(){var{hide:a,dot:b,points:c,className:d,xAxisId:e,yAxisId:f,top:g,left:h,width:i,height:j,id:k,needClip:l,zIndex:m}=this.props;if(a)return null;var n=fF("recharts-line",d),o=k,{r:p,strokeWidth:q}=wU(b),r=vn(b),s=2*p+q,t=l?"url(#clipPath-".concat(r?"":"dots-").concat(o,")"):void 0;return tv.createElement(uw,{zIndex:m},tv.createElement(tB,{className:n},l&&tv.createElement("defs",null,tv.createElement(vT,{clipPathId:o,xAxisId:e,yAxisId:f}),!r&&tv.createElement("clipPath",{id:"clipPath-dots-".concat(o)},tv.createElement("rect",{x:h-s/2,y:g-s/2,width:i+s,height:j+s}))),tv.createElement(vQ,{xAxisId:e,yAxisId:f,data:c,dataPointFormatter:zx,errorBarOffset:0},tv.createElement(zw,{props:this.props,clipPathId:o}))),tv.createElement(vH,{activeDot:this.props.activeDot,points:c,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:t}))}}var zz={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:mf.line,type:"linear"};function zA(a){var b=tp(a,zz),{activeDot:c,animateNewValues:d,animationBegin:e,animationDuration:f,animationEasing:g,connectNulls:h,dot:i,hide:j,isAnimationActive:k,label:l,legendType:m,xAxisId:n,yAxisId:o,id:p}=b,q=zk(b,zd),{needClip:r}=vS(n,o),s=tc(),t=ge(),u=fB(),v=eE(a=>v_(a,n,o,u,p));if("horizontal"!==t&&"vertical"!==t||null==v||null==s)return null;var{height:w,width:x,x:y,y:z}=s;return tv.createElement(zy,ze({},q,{id:p,connectNulls:h,dot:i,activeDot:c,animateNewValues:d,animationBegin:e,animationDuration:f,animationEasing:g,isAnimationActive:k,hide:j,label:l,legendType:m,xAxisId:n,yAxisId:o,points:v,layout:t,height:w,width:x,left:y,top:z,needClip:r}))}function zB(a){var{layout:b,xAxis:c,yAxis:d,xAxisTicks:e,yAxisTicks:f,dataKey:g,bandSize:h,displayedData:i}=a;return i.map((a,i)=>{var j=e0(a,g);if("horizontal"===b){var k=e7({axis:c,ticks:e,bandSize:h,entry:a,index:i}),l=cX(j)?null:d.scale.map(j);return{x:k,y:null!=l?l:null,value:j,payload:a}}var m=cX(j)?null:c.scale.map(j),n=e7({axis:d,ticks:f,bandSize:h,entry:a,index:i});return null==m||null==n?null:{x:m,y:n,value:j,payload:a}}).filter(Boolean)}function zC(a){var b=tp(a,zz),c=fB();return tv.createElement(wa,{id:b.id,type:"line"},a=>tv.createElement(tv.Fragment,null,tv.createElement(v1,{legendPayload:zm(b)}),tv.createElement(zn,{dataKey:b.dataKey,data:b.data,stroke:b.stroke,strokeWidth:b.strokeWidth,fill:b.fill,name:b.name,hide:b.hide,unit:b.unit,tooltipType:b.tooltipType,id:a}),tv.createElement(wd,{type:"line",id:a,data:b.data,xAxisId:b.xAxisId,yAxisId:b.yAxisId,zAxisId:0,dataKey:b.dataKey,hide:b.hide,isPanorama:c}),tv.createElement(zA,ze({},b,{id:a}))))}var zD=tv.memo(zC,rX);zD.displayName="Line";var zE=B,zF=B,zG=cI;function zH(a){return(a%180+180)%180}var zI=function(a){var{width:b,height:c}=a,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=zH(d)*Math.PI/180,f=Math.atan(c/b);return Math.abs(e>f&&e<Math.PI-f?c/Math.sin(e):b/Math.cos(e))};function zJ(a,b){if(b<1)return[];if(1===b)return a;for(var c=[],d=0;d<a.length;d+=b){var e=a[d];void 0!==e&&c.push(e)}return c}function zK(a,b,c){return zI({width:a.width+b.width,height:a.height+b.height},c)}function zL(a,b,c){var d="width"===c,{x:e,y:f,width:g,height:h}=a;return 1===b?{start:d?e:f,end:d?e+g:f+h}:{start:d?e+g:f+h,end:d?e:f}}function zM(a,b,c,d,e){if(a*b<a*d||a*b>a*e)return!1;var f=c();return a*(b-a*f/2-d)>=0&&a*(b+a*f/2-e)<=0}function zN(a,b){return zJ(a,b+1)}function zO(a,b,c,d,e){for(var f,g=(d||[]).slice(),{start:h,end:i}=b,j=0,k=1,l=h,m=function(){var b,f=null==d?void 0:d[j];if(void 0===f)return{v:zJ(d,k)};var g=j,m=()=>(void 0===b&&(b=c(f,g)),b),n=f.coordinate,o=0===j||zM(a,n,m,l,i);o||(j=0,l=h,k+=1),o&&(l=n+a*(m()/2+e),j+=k)};k<=g.length;)if(f=m())return f.v;return[]}function zP(a,b,c,d,e){var f=(d||[]).slice().length;if(0===f)return[];for(var{start:g,end:h}=b,i=1;i<=f;i++){for(var j,k=(f-1)%i,l=g,m=!0,n=function(){var b,f=d[o];if(null==f)return 0;var g=o,i=()=>(void 0===b&&(b=c(f,g)),b),j=f.coordinate,n=o===k||zM(a,j,i,l,h);if(!n)return m=!1,1;n&&(l=j+a*(i()/2+e))},o=k;o<f&&(0===(j=n())||1!==j);o+=i);if(m){for(var p=[],q=k;q<f;q+=i){var r=d[q];null!=r&&p.push(r)}return p}}return[]}function zQ(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function zR(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?zQ(Object(c),!0).forEach(function(b){zS(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):zQ(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function zS(a,b,c){return(b=zT(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function zT(a){var b=zU(a,"string");return"symbol"==typeof b?b:b+""}function zU(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function zV(a,b,c,d,e){for(var f=(d||[]).slice(),g=f.length,{start:h}=b,{end:i}=b,j=function(b){var d,j=f[b];if(null==j)return 1;var k=j,l=()=>(void 0===d&&(d=c(j,b)),d);if(b===g-1){var m=a*(k.coordinate+a*l()/2-i);f[b]=k=zR(zR({},k),{},{tickCoord:m>0?k.coordinate-m*a:k.coordinate})}else f[b]=k=zR(zR({},k),{},{tickCoord:k.coordinate});null!=k.tickCoord&&zM(a,k.tickCoord,l,h,i)&&(i=k.tickCoord-a*(l()/2+e),f[b]=zR(zR({},k),{},{isShow:!0}))},k=g-1;k>=0;k--)if(j(k))continue;return f}function zW(a,b,c,d,e,f){var g=(d||[]).slice(),h=g.length,{start:i,end:j}=b;if(f){var k=d[h-1];if(null!=k){var l=c(k,h-1),m=a*(k.coordinate+a*l/2-j);g[h-1]=k=zR(zR({},k),{},{tickCoord:m>0?k.coordinate-m*a:k.coordinate}),null!=k.tickCoord&&zM(a,k.tickCoord,()=>l,i,j)&&(j=k.tickCoord-a*(l/2+e),g[h-1]=zR(zR({},k),{},{isShow:!0}))}}for(var n=f?h-1:h,o=function(b){var d,f=g[b];if(null==f)return 1;var h=f,k=()=>(void 0===d&&(d=c(f,b)),d);if(0===b){var l=a*(h.coordinate-a*k()/2-i);g[b]=h=zR(zR({},h),{},{tickCoord:l<0?h.coordinate-l*a:h.coordinate})}else g[b]=h=zR(zR({},h),{},{tickCoord:h.coordinate});null!=h.tickCoord&&zM(a,h.tickCoord,k,i,j)&&(i=h.tickCoord+a*(k()/2+e),g[b]=zR(zR({},h),{},{isShow:!0}))},p=0;p<n;p++)if(o(p))continue;return g}function zX(a,b,c){var d,{tick:e,ticks:f,viewBox:g,minTickGap:h,orientation:i,interval:j,tickFormatter:k,unit:l,angle:m}=a;if(!f||!f.length||!e)return[];if(cP(j)||rA.isSsr)return null!=(d=zN(f,cP(j)?j:0))?d:[];var n=[],o="top"===i||"bottom"===i?"width":"height",p=l&&"width"===o?tU(l,{fontSize:b,letterSpacing:c}):{width:0,height:0},q=(a,d)=>{var e="function"==typeof k?k(a.value,d):a.value;return"width"===o?zK(tU(e,{fontSize:b,letterSpacing:c}),p,m):tU(e,{fontSize:b,letterSpacing:c})[o]},r=f[0],s=f[1],t=f.length>=2&&null!=r&&null!=s?cM(s.coordinate-r.coordinate):1,u=zL(g,t,o);return"equidistantPreserveStart"===j?zO(t,u,q,f,h):"equidistantPreserveEnd"===j?zP(t,u,q,f,h):(n="preserveStart"===j||"preserveStartEnd"===j?zW(t,u,q,f,h,"preserveStartEnd"===j):zV(t,u,q,f,h)).filter(a=>a.isShow)}var zY=a=>{var{ticks:b,label:c,labelGapWithTick:d=5,tickSize:e=0,tickMargin:f=0}=a,g=0;if(b){Array.from(b).forEach(a=>{if(a){var b=a.getBoundingClientRect();b.width>g&&(g=b.width)}});var h=c?c.getBoundingClientRect().width:0;return Math.round(g+(e+f)+h+(c?d:0))}return 0};function zZ(a){return a&&"object"==typeof a&&"className"in a&&"string"==typeof a.className?a.className:""}var z$=["axisLine","width","height","className","hide","ticks","axisType"];function z_(a,b){if(null==a)return{};var c,d,e=z0(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function z0(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}function z1(){return(z1=Object.assign.bind()).apply(null,arguments)}function z2(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function z3(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?z2(Object(c),!0).forEach(function(b){z4(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):z2(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function z4(a,b,c){return(b=z5(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function z5(a){var b=z6(a,"string");return"symbol"==typeof b?b:b+""}function z6(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var z7={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:mf.axis};function z8(a){var{x:b,y:c,width:d,height:e,orientation:f,mirror:g,axisLine:h,otherSvgProps:i}=a;if(!h)return null;var j=z3(z3(z3({},i),sb(h)),{},{fill:"none"});if("top"===f||"bottom"===f){var k=+("top"===f&&!g||"bottom"===f&&g);j=z3(z3({},j),{},{x1:b,y1:c+k*e,x2:b+d,y2:c+k*e})}else{var l=+("left"===f&&!g||"right"===f&&g);j=z3(z3({},j),{},{x1:b+l*d,y1:c,x2:b+l*d,y2:c+e})}return zF.createElement("line",z1({},j,{className:fF("recharts-cartesian-axis-line",(0,zG.default)(h,"className"))}))}function z9(a,b,c,d,e,f,g,h,i){var j,k,l,m,n,o,p=h?-1:1,q=a.tickSize||g,r=cP(a.tickCoord)?a.tickCoord:a.coordinate;switch(f){case"top":j=k=a.coordinate,o=(l=(m=c+!h*e)-p*q)-p*i,n=r;break;case"left":l=m=a.coordinate,n=(j=(k=b+!h*d)-p*q)-p*i,o=r;break;case"right":l=m=a.coordinate,n=(j=(k=b+h*d)+p*q)+p*i,o=r;break;default:j=k=a.coordinate,o=(l=(m=c+h*e)+p*q)+p*i,n=r}return{line:{x1:j,y1:l,x2:k,y2:m},tick:{x:n,y:o}}}function Aa(a,b){switch(a){case"left":return b?"start":"end";case"right":return b?"end":"start";default:return"middle"}}function Ab(a,b){switch(a){case"left":case"right":return"middle";case"top":return b?"start":"end";default:return b?"end":"start"}}function Ac(a){var b,{option:c,tickProps:d,value:e}=a,f=fF(d.className,"recharts-cartesian-axis-tick-value");if(zF.isValidElement(c))b=zF.cloneElement(c,z3(z3({},d),{},{className:f}));else if("function"==typeof c)b=c(z3(z3({},d),{},{className:f}));else{var g="recharts-cartesian-axis-tick-value";"boolean"!=typeof c&&(g=fF(g,zZ(c))),b=zF.createElement(ut,z1({},d,{className:g}),e)}return b}var Ad=(0,zF.forwardRef)((a,b)=>{var{ticks:c=[],tick:d,tickLine:e,stroke:f,tickFormatter:g,unit:h,padding:i,tickTextProps:j,orientation:k,mirror:l,x:m,y:n,width:o,height:p,tickSize:q,tickMargin:r,fontSize:s,letterSpacing:t,getTicksConfig:u,events:v,axisType:w}=a,x=zX(z3(z3({},u),{},{ticks:c}),s,t),y=Aa(k,l),z=Ab(k,l),A=sb(u),B=sc(d),C={};"object"==typeof e&&(C=e);var D=z3(z3({},A),{},{fill:"none"},C),E=x.map(a=>z3({entry:a},z9(a,m,n,o,p,k,q,l,r))),F=E.map(a=>{var{entry:b,line:c}=a;return zF.createElement(tB,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(b.value,"-").concat(b.coordinate,"-").concat(b.tickCoord)},e&&zF.createElement("line",z1({},D,c,{className:fF("recharts-cartesian-axis-tick-line",(0,zG.default)(e,"className"))})))}),G=E.map((a,b)=>{var c,e,{entry:k,tick:l}=a,m=z3(z3(z3(z3({verticalAnchor:z},A),{},{textAnchor:y,stroke:"none",fill:f},l),{},{index:b,payload:k,visibleTicksCount:x.length,tickFormatter:g,padding:i},j),{},{angle:null!=(c=null!=(e=null==j?void 0:j.angle)?e:A.angle)?c:0}),n=z3(z3({},m),B);return zF.createElement(tB,z1({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},vk(v,k,b)),d&&zF.createElement(Ac,{option:d,tickProps:n,value:"".concat("function"==typeof g?g(k.value,b):k.value).concat(h||"")}))});return zF.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(w,"-ticks")},G.length>0&&zF.createElement(uw,{zIndex:mf.label},zF.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(w,"-tick-labels"),ref:b},G)),F.length>0&&zF.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(w,"-tick-lines")},F))}),Ae=(0,zF.forwardRef)((a,b)=>{var{axisLine:c,width:d,height:e,className:f,hide:g,ticks:h,axisType:i}=a,j=z_(a,z$),[k,l]=(0,zF.useState)(""),[m,n]=(0,zF.useState)(""),o=(0,zF.useRef)(null);(0,zF.useImperativeHandle)(b,()=>({getCalculatedWidth:()=>{var b;return zY({ticks:o.current,label:null==(b=a.labelRef)?void 0:b.current,labelGapWithTick:5,tickSize:a.tickSize,tickMargin:a.tickMargin})}}));var p=(0,zF.useCallback)(a=>{if(a){var b=a.getElementsByClassName("recharts-cartesian-axis-tick-value");o.current=b;var c=b[0];if(c){var d=window.getComputedStyle(c),e=d.fontSize,f=d.letterSpacing;(e!==k||f!==m)&&(l(e),n(f))}}},[k,m]);return g||null!=d&&d<=0||null!=e&&e<=0?null:zF.createElement(uw,{zIndex:a.zIndex},zF.createElement(tB,{className:fF("recharts-cartesian-axis",f)},zF.createElement(z8,{x:a.x,y:a.y,width:d,height:e,orientation:a.orientation,mirror:a.mirror,axisLine:c,otherSvgProps:sb(a)}),zF.createElement(Ad,{ref:p,axisType:i,events:j,fontSize:k,getTicksConfig:a,height:a.height,letterSpacing:m,mirror:a.mirror,orientation:a.orientation,padding:a.padding,stroke:a.stroke,tick:a.tick,tickFormatter:a.tickFormatter,tickLine:a.tickLine,tickMargin:a.tickMargin,tickSize:a.tickSize,tickTextProps:a.tickTextProps,ticks:h,unit:a.unit,width:a.width,x:a.x,y:a.y}),zF.createElement(uO,{x:a.x,y:a.y,width:a.width,height:a.height,lowerWidth:a.width,upperWidth:a.width},zF.createElement(u0,{label:a.label,labelRef:a.labelRef}),a.children)))}),Af=zF.forwardRef((a,b)=>{var c=tp(a,z7);return zF.createElement(Ae,z1({},c,{ref:b}))});Af.displayName="CartesianAxis";var Ag=["domain","range"],Ah=["domain","range"];function Ai(a,b){if(null==a)return{};var c,d,e=Aj(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function Aj(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}function Ak(a,b){return a===b||!!(Array.isArray(a)&&2===a.length&&Array.isArray(b))&&2===b.length&&a[0]===b[0]&&a[1]===b[1]}function Al(a,b){if(a===b)return!0;var{domain:c,range:d}=a,e=Ai(a,Ag),{domain:f,range:g}=b,h=Ai(b,Ah);return!!Ak(c,f)&&!!Ak(d,g)&&rX(e,h)}var Am=["type"],An=["dangerouslySetInnerHTML","ticks","scale"],Ao=["id","scale"];function Ap(){return(Ap=Object.assign.bind()).apply(null,arguments)}function Aq(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function Ar(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?Aq(Object(c),!0).forEach(function(b){As(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):Aq(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function As(a,b,c){return(b=At(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function At(a){var b=Au(a,"string");return"symbol"==typeof b?b:b+""}function Au(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function Av(a,b){if(null==a)return{};var c,d,e=Aw(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function Aw(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}function Ax(a){var b=eA(),c=(0,zE.useRef)(null),d=gf(),{type:e}=a,f=Av(a,Am),g=mj(d,"xAxis",e),h=(0,zE.useMemo)(()=>{if(null!=g)return Ar(Ar({},f),{},{type:g})},[f,g]);return(0,zE.useLayoutEffect)(()=>{null!=h&&(null===c.current?b(qz(h)):c.current!==h&&b(qA({prev:c.current,next:h})),c.current=h)},[h,b]),(0,zE.useLayoutEffect)(()=>()=>{c.current&&(b(qB(c.current)),c.current=null)},[b]),null}var Ay=a=>{var{xAxisId:b,className:c}=a,d=eE(fy),e=fB(),f="xAxis",g=eE(a=>oF(a,f,b,e)),h=eE(a=>oq(a,b)),i=eE(a=>ow(a,b)),j=eE(a=>mW(a,b));if(null==h||null==i||null==j)return null;var{dangerouslySetInnerHTML:k,ticks:l,scale:m}=a,n=Av(a,An),{id:o,scale:p}=j,q=Av(j,Ao);return zE.createElement(Af,Ap({},n,q,{x:i.x,y:i.y,width:h.width,height:h.height,className:fF("recharts-".concat(f," ").concat(f),c),viewBox:d,ticks:g,axisType:f}))},Az={allowDataOverflow:mV.allowDataOverflow,allowDecimals:mV.allowDecimals,allowDuplicatedCategory:mV.allowDuplicatedCategory,angle:mV.angle,axisLine:z7.axisLine,height:mV.height,hide:!1,includeHidden:mV.includeHidden,interval:mV.interval,label:!1,minTickGap:mV.minTickGap,mirror:mV.mirror,orientation:mV.orientation,padding:mV.padding,reversed:mV.reversed,scale:mV.scale,tick:mV.tick,tickCount:mV.tickCount,tickLine:z7.tickLine,tickSize:z7.tickSize,type:mV.type,xAxisId:0},AA=a=>{var b=tp(a,Az);return zE.createElement(zE.Fragment,null,zE.createElement(Ax,{allowDataOverflow:b.allowDataOverflow,allowDecimals:b.allowDecimals,allowDuplicatedCategory:b.allowDuplicatedCategory,angle:b.angle,dataKey:b.dataKey,domain:b.domain,height:b.height,hide:b.hide,id:b.xAxisId,includeHidden:b.includeHidden,interval:b.interval,minTickGap:b.minTickGap,mirror:b.mirror,name:b.name,orientation:b.orientation,padding:b.padding,reversed:b.reversed,scale:b.scale,tick:b.tick,tickCount:b.tickCount,tickFormatter:b.tickFormatter,ticks:b.ticks,type:b.type,unit:b.unit}),zE.createElement(Ay,b))},AB=zE.memo(AA,Al);AB.displayName="XAxis";var AC=B,AD=["type"],AE=["dangerouslySetInnerHTML","ticks","scale"],AF=["id","scale"];function AG(){return(AG=Object.assign.bind()).apply(null,arguments)}function AH(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function AI(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?AH(Object(c),!0).forEach(function(b){AJ(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):AH(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function AJ(a,b,c){return(b=AK(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function AK(a){var b=AL(a,"string");return"symbol"==typeof b?b:b+""}function AL(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function AM(a,b){if(null==a)return{};var c,d,e=AN(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function AN(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}function AO(a){var b=eA(),c=(0,AC.useRef)(null),d=gf(),{type:e}=a,f=AM(a,AD),g=mj(d,"yAxis",e),h=(0,AC.useMemo)(()=>{if(null!=g)return AI(AI({},f),{},{type:g})},[g,f]);return(0,AC.useLayoutEffect)(()=>{null!=h&&(null===c.current?b(qC(h)):c.current!==h&&b(qD({prev:c.current,next:h})),c.current=h)},[h,b]),(0,AC.useLayoutEffect)(()=>()=>{c.current&&(b(qE(c.current)),c.current=null)},[b]),null}function AP(a){var{yAxisId:b,className:c,width:d,label:e}=a,f=(0,AC.useRef)(null),g=(0,AC.useRef)(null),h=eE(fy),i=fB(),j=eA(),k="yAxis",l=eE(a=>oz(a,b)),m=eE(a=>oy(a,b)),n=eE(a=>oF(a,k,b,i)),o=eE(a=>mZ(a,b));if((0,AC.useLayoutEffect)(()=>{if(!("auto"!==d||!l||uT(e)||(0,AC.isValidElement)(e))&&null!=o){var a=f.current;if(a){var c=a.getCalculatedWidth();Math.round(l.width)!==Math.round(c)&&j(qI({id:b,width:c}))}}},[n,l,j,e,b,d,o]),null==l||null==m||null==o)return null;var{dangerouslySetInnerHTML:p,ticks:q,scale:r}=a,s=AM(a,AE),{id:t,scale:u}=o,v=AM(o,AF);return AC.createElement(Af,AG({},s,v,{ref:f,labelRef:g,x:m.x,y:m.y,tickTextProps:"auto"===d?{width:void 0}:{width:d},width:l.width,height:l.height,className:fF("recharts-".concat(k," ").concat(k),c),viewBox:h,ticks:n,axisType:k}))}var AQ={allowDataOverflow:mY.allowDataOverflow,allowDecimals:mY.allowDecimals,allowDuplicatedCategory:mY.allowDuplicatedCategory,angle:mY.angle,axisLine:z7.axisLine,hide:!1,includeHidden:mY.includeHidden,interval:mY.interval,label:!1,minTickGap:mY.minTickGap,mirror:mY.mirror,orientation:mY.orientation,padding:mY.padding,reversed:mY.reversed,scale:mY.scale,tick:mY.tick,tickCount:mY.tickCount,tickLine:z7.tickLine,tickSize:z7.tickSize,type:mY.type,width:mY.width,yAxisId:0},AR=a=>{var b=tp(a,AQ);return AC.createElement(AC.Fragment,null,AC.createElement(AO,{interval:b.interval,id:b.yAxisId,scale:b.scale,type:b.type,domain:b.domain,allowDataOverflow:b.allowDataOverflow,dataKey:b.dataKey,allowDuplicatedCategory:b.allowDuplicatedCategory,allowDecimals:b.allowDecimals,tickCount:b.tickCount,padding:b.padding,includeHidden:b.includeHidden,reversed:b.reversed,ticks:b.ticks,width:b.width,orientation:b.orientation,mirror:b.mirror,hide:b.hide,unit:b.unit,name:b.name,angle:b.angle,minTickGap:b.minTickGap,tick:b.tick,tickFormatter:b.tickFormatter}),AC.createElement(AP,b))},AS=AC.memo(AR,Al);AS.displayName="YAxis";var AT=B,AU=["x1","y1","x2","y2","key"],AV=["offset"],AW=["xAxisId","yAxisId"],AX=["xAxisId","yAxisId"];function AY(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function AZ(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?AY(Object(c),!0).forEach(function(b){A$(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):AY(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function A$(a,b,c){return(b=A_(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function A_(a){var b=A0(a,"string");return"symbol"==typeof b?b:b+""}function A0(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function A1(){return(A1=Object.assign.bind()).apply(null,arguments)}function A2(a,b){if(null==a)return{};var c,d,e=A3(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function A3(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}var A4=a=>{var{fill:b}=a;if(!b||"none"===b)return null;var{fillOpacity:c,x:d,y:e,width:f,height:g,ry:h}=a;return AT.createElement("rect",{x:d,y:e,ry:h,width:f,height:g,stroke:"none",fill:b,fillOpacity:c,className:"recharts-cartesian-grid-bg"})};function A5(a){var{option:b,lineItemProps:c}=a;if(AT.isValidElement(b))d=AT.cloneElement(b,c);else if("function"==typeof b)d=b(c);else{var d,e,{x1:f,y1:g,x2:h,y2:i,key:j}=c,k=null!=(e=sb(A2(c,AU)))?e:{},{offset:l}=k,m=A2(k,AV);d=AT.createElement("line",A1({},m,{x1:f,y1:g,x2:h,y2:i,fill:"none",key:j}))}return d}function A6(a){var{x:b,width:c,horizontal:d=!0,horizontalPoints:e}=a;if(!d||!e||!e.length)return null;var{xAxisId:f,yAxisId:g}=a,h=A2(a,AW),i=e.map((a,e)=>{var f=AZ(AZ({},h),{},{x1:b,y1:a,x2:b+c,y2:a,key:"line-".concat(e),index:e});return AT.createElement(A5,{key:"line-".concat(e),option:d,lineItemProps:f})});return AT.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function A7(a){var{y:b,height:c,vertical:d=!0,verticalPoints:e}=a;if(!d||!e||!e.length)return null;var{xAxisId:f,yAxisId:g}=a,h=A2(a,AX),i=e.map((a,e)=>{var f=AZ(AZ({},h),{},{x1:a,y1:b,x2:a,y2:b+c,key:"line-".concat(e),index:e});return AT.createElement(A5,{option:d,lineItemProps:f,key:"line-".concat(e)})});return AT.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function A8(a){var{horizontalFill:b,fillOpacity:c,x:d,y:e,width:f,height:g,horizontalPoints:h,horizontal:i=!0}=a;if(!i||!b||!b.length||null==h)return null;var j=h.map(a=>Math.round(a+e-e)).sort((a,b)=>a-b);e!==j[0]&&j.unshift(0);var k=j.map((a,h)=>{var i=j[h+1],k=null==i?e+g-a:i-a;if(k<=0)return null;var l=h%b.length;return AT.createElement("rect",{key:"react-".concat(h),y:a,x:d,height:k,width:f,stroke:"none",fill:b[l],fillOpacity:c,className:"recharts-cartesian-grid-bg"})});return AT.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},k)}function A9(a){var{vertical:b=!0,verticalFill:c,fillOpacity:d,x:e,y:f,width:g,height:h,verticalPoints:i}=a;if(!b||!c||!c.length)return null;var j=i.map(a=>Math.round(a+e-e)).sort((a,b)=>a-b);e!==j[0]&&j.unshift(0);var k=j.map((a,b)=>{var i=j[b+1],k=null==i?e+g-a:i-a;if(k<=0)return null;var l=b%c.length;return AT.createElement("rect",{key:"react-".concat(b),x:a,y:f,width:k,height:h,stroke:"none",fill:c[l],fillOpacity:d,className:"recharts-cartesian-grid-bg"})});return AT.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},k)}var Ba=(a,b)=>{var{xAxis:c,width:d,height:e,offset:f}=a;return e3(zX(AZ(AZ(AZ({},z7),c),{},{ticks:e4(c,!0),viewBox:{x:0,y:0,width:d,height:e}})),f.left,f.left+f.width,b)},Bb=(a,b)=>{var{yAxis:c,width:d,height:e,offset:f}=a;return e3(zX(AZ(AZ(AZ({},z7),c),{},{ticks:e4(c,!0),viewBox:{x:0,y:0,width:d,height:e}})),f.top,f.top+f.height,b)},Bc={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:mf.grid};function Bd(a){var b=ga(),c=gb(),d=f9(),e=AZ(AZ({},tp(a,Bc)),{},{x:cP(a.x)?a.x:d.left,y:cP(a.y)?a.y:d.top,width:cP(a.width)?a.width:d.width,height:cP(a.height)?a.height:d.height}),{xAxisId:f,yAxisId:g,x:h,y:i,width:j,height:k,syncWithTicks:l,horizontalValues:m,verticalValues:n}=e,o=fB(),p=eE(a=>oE(a,"xAxis",f,o)),q=eE(a=>oE(a,"yAxis",g,o));if(!eW(j)||!eW(k)||!cP(h)||!cP(i))return null;var r=e.verticalCoordinatesGenerator||Ba,s=e.horizontalCoordinatesGenerator||Bb,{horizontalPoints:t,verticalPoints:u}=e;if((!t||!t.length)&&"function"==typeof s){var v=m&&m.length,w=s({yAxis:q?AZ(AZ({},q),{},{ticks:v?m:q.ticks}):void 0,width:null!=b?b:j,height:null!=c?c:k,offset:d},!!v||l);fJ(Array.isArray(w),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof w,"]")),Array.isArray(w)&&(t=w)}if((!u||!u.length)&&"function"==typeof r){var x=n&&n.length,y=r({xAxis:p?AZ(AZ({},p),{},{ticks:x?n:p.ticks}):void 0,width:null!=b?b:j,height:null!=c?c:k,offset:d},!!x||l);fJ(Array.isArray(y),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof y,"]")),Array.isArray(y)&&(u=y)}return AT.createElement(uw,{zIndex:e.zIndex},AT.createElement("g",{className:"recharts-cartesian-grid"},AT.createElement(A4,{fill:e.fill,fillOpacity:e.fillOpacity,x:e.x,y:e.y,width:e.width,height:e.height,ry:e.ry}),AT.createElement(A8,A1({},e,{horizontalPoints:t})),AT.createElement(A9,A1({},e,{verticalPoints:u})),AT.createElement(A6,A1({},e,{offset:d,horizontalPoints:t,xAxis:p,yAxis:q})),AT.createElement(A7,A1({},e,{offset:d,verticalPoints:u,xAxis:p,yAxis:q}))))}Bd.displayName="CartesianGrid";var Be=B,Bf=uv,Bg=B,Bh=eF;function Bi(){return(Bi=Object.assign.bind()).apply(null,arguments)}function Bj(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function Bk(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?Bj(Object(c),!0).forEach(function(b){Bl(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):Bj(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function Bl(a,b,c){return(b=Bm(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function Bm(a){var b=Bn(a,"string");return"symbol"==typeof b?b:b+""}function Bn(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function Bo(a){return Array.isArray(a)&&cQ(a[0])&&cQ(a[1])?a.join(" ~ "):a}var Bp=" : ",Bq={margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},Br={display:"block",paddingTop:4,paddingBottom:4,color:"#000"},Bs={},Bt=!1,Bu=a=>{var{separator:b=Bp,contentStyle:c,itemStyle:d,labelStyle:e=Bs,payload:f,formatter:g,itemSorter:h,wrapperClassName:i,labelClassName:j,label:k,labelFormatter:l,accessibilityLayer:m=Bt}=a,n=()=>{if(f&&f.length){var a={padding:0,margin:0},c=(h?(0,Bh.default)(f,h):f).map((a,c)=>{if("none"===a.type)return null;var e=a.formatter||g||Bo,{value:h,name:i}=a,j=h,k=i,l=e(h,i,a,c,f);if(Array.isArray(l))[j,k]=l;else{if(null==l)return null;j=l}var m=Bk(Bk({},Br),{},{color:a.color||Br.color},d);return Bg.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(c),style:m},cQ(k)?Bg.createElement("span",{className:"recharts-tooltip-item-name"},k):null,cQ(k)?Bg.createElement("span",{className:"recharts-tooltip-item-separator"},b):null,Bg.createElement("span",{className:"recharts-tooltip-item-value"},j),Bg.createElement("span",{className:"recharts-tooltip-item-unit"},a.unit||""))});return Bg.createElement("ul",{className:"recharts-tooltip-item-list",style:a},c)}return null},o=Bk(Bk({},Bq),c),p=Bk({margin:0},e),q=!cX(k),r=q?k:"",s=fF("recharts-default-tooltip",i),t=fF("recharts-tooltip-label",j);q&&l&&null!=f&&(r=l(k,f));var u=m?{role:"status","aria-live":"assertive"}:{};return Bg.createElement("div",Bi({className:s,style:o},u),Bg.createElement("p",{className:t,style:p},Bg.isValidElement(r)?r:"".concat(r)),n())},Bv=B,Bw="recharts-tooltip-wrapper",Bx={visibility:"hidden"};function By(a){var{coordinate:b,translateX:c,translateY:d}=a;return fF(Bw,{["".concat(Bw,"-right")]:cP(c)&&b&&cP(b.x)&&c>=b.x,["".concat(Bw,"-left")]:cP(c)&&b&&cP(b.x)&&c<b.x,["".concat(Bw,"-bottom")]:cP(d)&&b&&cP(b.y)&&d>=b.y,["".concat(Bw,"-top")]:cP(d)&&b&&cP(b.y)&&d<b.y})}function Bz(a){var{allowEscapeViewBox:b,coordinate:c,key:d,offset:e,position:f,reverseDirection:g,tooltipDimension:h,viewBox:i,viewBoxDimension:j}=a;if(f&&cP(f[d]))return f[d];var k=c[d]-h-(e>0?e:0),l=c[d]+e;if(b[d])return g[d]?k:l;var m=i[d];return null==m?0:g[d]?k<m?Math.max(l,m):Math.max(k,m):null==j?0:l+h>m+j?Math.max(k,m):Math.max(l,m)}function BA(a){var{translateX:b,translateY:c,useTranslate3d:d}=a;return{transform:d?"translate3d(".concat(b,"px, ").concat(c,"px, 0)"):"translate(".concat(b,"px, ").concat(c,"px)")}}function BB(a){var b,c,d,{allowEscapeViewBox:e,coordinate:f,offsetTop:g,offsetLeft:h,position:i,reverseDirection:j,tooltipBox:k,useTranslate3d:l,viewBox:m}=a;return{cssProperties:b=k.height>0&&k.width>0&&f?BA({translateX:c=Bz({allowEscapeViewBox:e,coordinate:f,key:"x",offset:h,position:i,reverseDirection:j,tooltipDimension:k.width,viewBox:m,viewBoxDimension:m.width}),translateY:d=Bz({allowEscapeViewBox:e,coordinate:f,key:"y",offset:g,position:i,reverseDirection:j,tooltipDimension:k.height,viewBox:m,viewBoxDimension:m.height}),useTranslate3d:l}):Bx,cssClasses:By({translateX:c,translateY:d,coordinate:f})}}function BC(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function BD(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?BC(Object(c),!0).forEach(function(b){BE(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):BC(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function BE(a,b,c){return(b=BF(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function BF(a){var b=BG(a,"string");return"symbol"==typeof b?b:b+""}function BG(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}class BH extends Bv.PureComponent{constructor(){super(...arguments),BE(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),BE(this,"handleKeyDown",a=>{if("Escape"===a.key){var b,c,d,e;this.setState({dismissed:!0,dismissedAtCoordinate:{x:null!=(b=null==(c=this.props.coordinate)?void 0:c.x)?b:0,y:null!=(d=null==(e=this.props.coordinate)?void 0:e.y)?d:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var a,b;this.state.dismissed&&((null==(a=this.props.coordinate)?void 0:a.x)!==this.state.dismissedAtCoordinate.x||(null==(b=this.props.coordinate)?void 0:b.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:a,allowEscapeViewBox:b,animationDuration:c,animationEasing:d,children:e,coordinate:f,hasPayload:g,isAnimationActive:h,offset:i,position:j,reverseDirection:k,useTranslate3d:l,viewBox:m,wrapperStyle:n,lastBoundingBox:o,innerRef:p,hasPortalFromProps:q}=this.props,{cssClasses:r,cssProperties:s}=BB({allowEscapeViewBox:b,coordinate:f,offsetLeft:"number"==typeof i?i:i.x,offsetTop:"number"==typeof i?i:i.y,position:j,reverseDirection:k,tooltipBox:{height:o.height,width:o.width},useTranslate3d:l,viewBox:m}),t=q?{}:BD(BD({transition:h&&a?"transform ".concat(c,"ms ").concat(d):void 0},s),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&g?"visible":"hidden",position:"absolute",top:0,left:0}),u=BD(BD({},t),{},{visibility:!this.state.dismissed&&a&&g?"visible":"hidden"},n);return Bv.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:r,style:u,ref:p},e)}}var BI=a.i(11238);function BJ(a,b,c){return!0===b?(0,BI.default)(a,c):"function"==typeof b?(0,BI.default)(a,b):a}var BK=B,BL=1;function BM(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[b,c]=(0,BK.useState)({height:0,left:0,top:0,width:0}),d=(0,BK.useCallback)(a=>{if(null!=a){var d=a.getBoundingClientRect(),e={height:d.height,left:d.left,top:d.top,width:d.width};(Math.abs(e.height-b.height)>BL||Math.abs(e.left-b.left)>BL||Math.abs(e.top-b.top)>BL||Math.abs(e.width-b.width)>BL)&&c({height:e.height,left:e.left,top:e.top,width:e.width})}},[b.width,b.height,b.top,b.left,...a]);return[b,d]}var BN=B,BO=B,BP=["x","y","top","left","width","height","className"];function BQ(){return(BQ=Object.assign.bind()).apply(null,arguments)}function BR(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function BS(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?BR(Object(c),!0).forEach(function(b){BT(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):BR(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function BT(a,b,c){return(b=BU(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function BU(a){var b=BV(a,"string");return"symbol"==typeof b?b:b+""}function BV(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function BW(a,b){if(null==a)return{};var c,d,e=BX(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function BX(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}var BY=(a,b,c,d,e,f)=>"M".concat(a,",").concat(e,"v").concat(d,"M").concat(f,",").concat(b,"h").concat(c),BZ=a=>{var{x:b=0,y:c=0,top:d=0,left:e=0,width:f=0,height:g=0,className:h}=a,i=BS({x:b,y:c,top:d,left:e,width:f,height:g},BW(a,BP));return cP(b)&&cP(c)&&cP(f)&&cP(g)&&cP(d)&&cP(e)?BO.createElement("path",BQ({},sd(i),{className:fF("recharts-cross",h),d:BY(b,c,f,g,d,e)})):null};function B$(a,b,c,d){var e=d/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===a?b.x-e:c.left+.5,y:"horizontal"===a?c.top+.5:b.y-e,width:"horizontal"===a?d:c.width-1,height:"horizontal"===a?c.height-1:d}}function B_(a){var{cx:b,cy:c,radius:d,startAngle:e,endAngle:f}=a;return{points:[l8(b,c,d,e),l8(b,c,d,f)],cx:b,cy:c,radius:d,startAngle:e,endAngle:f}}function B0(a,b,c){if("horizontal"===a)return[{x:b.x,y:c.top},{x:b.x,y:c.top+c.height}];if("vertical"===a)return[{x:c.left,y:b.y},{x:c.left+c.width,y:b.y}];if(vh(b)){if("centric"===a){var{cx:d,cy:e,innerRadius:f,outerRadius:g,angle:h}=b,i=l8(d,e,f,h),j=l8(d,e,g,h);return[{x:i.x,y:i.y},{x:j.x,y:j.y}]}return B_(b)}}function B1(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function B2(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?B1(Object(c),!0).forEach(function(b){B3(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):B1(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function B3(a,b,c){return(b=B4(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function B4(a){var b=B5(a,"string");return"symbol"==typeof b?b:b+""}function B5(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var B6=()=>eE(no),B7=()=>{var a=B6(),b=eE(pJ),c=eE(pG);return a&&c?fd(B2(B2({},a),{},{scale:c}),b):fd(void 0,b)};function B8(){return(B8=Object.assign.bind()).apply(null,arguments)}function B9(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function Ca(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?B9(Object(c),!0).forEach(function(b){Cb(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):B9(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function Cb(a,b,c){return(b=Cc(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function Cc(a){var b=Cd(a,"string");return"symbol"==typeof b?b:b+""}function Cd(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function Ce(a){var{cursor:b,cursorComp:c,cursorProps:d}=a;return(0,BN.isValidElement)(b)?(0,BN.cloneElement)(b,d):(0,BN.createElement)(c,d)}function Cf(a){var b,c,d,e,{coordinate:f,payload:g,index:h,offset:i,tooltipAxisBandSize:j,layout:k,cursor:l,tooltipEventType:m,chartName:n}=a,o=f,p=g,q=h;if(!l||!o||"ScatterChart"!==n&&"axis"!==m)return null;if("ScatterChart"===n)c=o,d=BZ,e=mf.cursorLine;else if("BarChart"===n)c=B$(k,o,i,j),d=w9,e=mf.cursorRectangle;else if("radial"===k&&vh(o)){var{cx:r,cy:s,radius:t,startAngle:u,endAngle:v}=B_(o);c={cx:r,cy:s,startAngle:u,endAngle:v,innerRadius:t,outerRadius:t},d=xt,e=mf.cursorLine}else c={points:B0(k,o,i)},d=yZ,e=mf.cursorLine;var w="object"==typeof l&&"className"in l?l.className:void 0,x=Ca(Ca(Ca(Ca({stroke:"#ccc",pointerEvents:"none"},i),c),sc(l)),{},{payload:p,payloadIndex:q,className:fF("recharts-tooltip-cursor",w)});return BN.createElement(uw,{zIndex:null!=(b=a.zIndex)?b:e},BN.createElement(Ce,{cursor:l,cursorComp:d,cursorProps:x}))}function Cg(a){var b=B7(),c=f9(),d=ge(),e=p5();return null==b||null==c||null==d||null==e?null:BN.createElement(Cf,B8({},a,{offset:c,layout:d,tooltipAxisBandSize:b,chartName:e}))}function Ch(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function Ci(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?Ch(Object(c),!0).forEach(function(b){Cj(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):Ch(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function Cj(a,b,c){return(b=Ck(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function Ck(a){var b=Cl(a,"string");return"symbol"==typeof b?b:b+""}function Cl(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function Cm(a){return a.dataKey}function Cn(a,b){return Be.isValidElement(a)?Be.cloneElement(a,b):"function"==typeof a?Be.createElement(a,b):Be.createElement(Bu,b)}var Co=[],Cp={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Cq(a){var b,c,d=tp(a,Cp),{active:e,allowEscapeViewBox:f,animationDuration:g,animationEasing:h,content:i,filterNull:j,isAnimationActive:k,offset:l,payloadUniqBy:m,position:n,reverseDirection:o,useTranslate3d:p,wrapperStyle:q,cursor:r,shared:s,trigger:t,defaultIndex:u,portal:v,axisId:w}=d,x=eA(),y="number"==typeof u?String(u):u;(0,Be.useEffect)(()=>{x(ea({shared:s,trigger:t,axisId:w,active:e,defaultIndex:y}))},[x,s,t,w,e,y]);var z=f7(),A=r2(),B=oO(s),{activeIndex:C,isActive:D}=null!=(b=eE(a=>qi(a,B,t,y)))?b:{},E=eE(a=>qh(a,B,t,y)),F=eE(a=>qg(a,B,t,y)),G=eE(a=>qf(a,B,t,y)),H=E,I=sT(),J=null!=(c=null!=e?e:D)&&c,[K,L]=BM([H,J]),M="axis"===B?F:void 0;sO(B,t,G,M,C,J);var N=null!=v?v:I;if(null==N||null==z||null==B)return null;var O=null!=H?H:Co;J||(O=Co),j&&O.length&&(O=BJ(O.filter(a=>null!=a.value&&(!0!==a.hide||d.includeHidden)),m,Cm));var P=O.length>0,Q=Be.createElement(BH,{allowEscapeViewBox:f,animationDuration:g,animationEasing:h,isAnimationActive:k,active:J,coordinate:G,hasPayload:P,offset:l,position:n,reverseDirection:o,useTranslate3d:p,viewBox:z,wrapperStyle:q,lastBoundingBox:K,innerRef:L,hasPortalFromProps:!!v},Cn(i,Ci(Ci({},d),{},{payload:O,label:M,active:J,activeIndex:C,coordinate:G,accessibilityLayer:A})));return Be.createElement(Be.Fragment,null,(0,Bf.createPortal)(Q,N),J&&Be.createElement(Cg,{cursor:r,tooltipEventType:B,coordinate:G,payload:O,index:C}))}var Cr=B,Cs=uv,Ct=B;function Cu(){return(Cu=Object.assign.bind()).apply(null,arguments)}function Cv(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function Cw(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?Cv(Object(c),!0).forEach(function(b){Cx(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):Cv(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function Cx(a,b,c){return(b=Cy(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function Cy(a){var b=Cz(a,"string");return"symbol"==typeof b?b:b+""}function Cz(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var CA=32,CB={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function CC(a){var b,{data:c,iconType:d,inactiveColor:e}=a,f=CA/2,g=CA/6,h=CA/3,i=c.inactive?e:c.color,j=null!=d?d:c.type;if("none"===j)return null;if("plainline"===j)return Ct.createElement("line",{strokeWidth:4,fill:"none",stroke:i,strokeDasharray:null==(b=c.payload)?void 0:b.strokeDasharray,x1:0,y1:f,x2:CA,y2:f,className:"recharts-legend-icon"});if("line"===j)return Ct.createElement("path",{strokeWidth:4,fill:"none",stroke:i,d:"M0,".concat(f,"h").concat(h,"\n            A").concat(g,",").concat(g,",0,1,1,").concat(2*h,",").concat(f,"\n            H").concat(CA,"M").concat(2*h,",").concat(f,"\n            A").concat(g,",").concat(g,",0,1,1,").concat(h,",").concat(f),className:"recharts-legend-icon"});if("rect"===j)return Ct.createElement("path",{stroke:"none",fill:i,d:"M0,".concat(CA/8,"h").concat(CA,"v").concat(3*CA/4,"h").concat(-CA,"z"),className:"recharts-legend-icon"});if(Ct.isValidElement(c.legendIcon)){var k=Cw({},c);return delete k.legendIcon,Ct.cloneElement(c.legendIcon,k)}return Ct.createElement(yc,{fill:i,cx:f,cy:f,size:CA,sizeType:"diameter",type:j})}function CD(a){var{payload:b,iconSize:c,layout:d,formatter:e,inactiveColor:f,iconType:g}=a,h={x:0,y:0,width:CA,height:CA},i={display:"horizontal"===d?"inline-block":"block",marginRight:10},j={display:"inline-block",verticalAlign:"middle",marginRight:4};return b.map((b,d)=>{var k=b.formatter||e,l=fF({"recharts-legend-item":!0,["legend-item-".concat(d)]:!0,inactive:b.inactive});if("none"===b.type)return null;var m=b.inactive?f:b.color,n=k?k(b.value,b,d):b.value;return Ct.createElement("li",Cu({className:l,style:i,key:"legend-item-".concat(d)},vk(a,b,d)),Ct.createElement(sj,{width:c,height:c,viewBox:h,style:j,"aria-label":"".concat(n," legend icon")},Ct.createElement(CC,{data:b,iconType:g,inactiveColor:f})),Ct.createElement("span",{className:"recharts-legend-item-text",style:{color:m}},n))})}var CE=a=>{var b=tp(a,CB),{payload:c,layout:d,align:e}=b;if(!c||!c.length)return null;var f={padding:0,margin:0,textAlign:"horizontal"===d?e:"left"};return Ct.createElement("ul",{className:"recharts-default-legend",style:f},Ct.createElement(CD,Cu({},b,{payload:c})))};function CF(){return eE(eI)}var CG=["contextPayload"];function CH(){return(CH=Object.assign.bind()).apply(null,arguments)}function CI(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function CJ(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?CI(Object(c),!0).forEach(function(b){CK(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):CI(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function CK(a,b,c){return(b=CL(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function CL(a){var b=CM(a,"string");return"symbol"==typeof b?b:b+""}function CM(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function CN(a,b){if(null==a)return{};var c,d,e=CO(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function CO(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}function CP(a){return a.value}function CQ(a){var{contextPayload:b}=a,c=CN(a,CG),d=BJ(b,a.payloadUniqBy,CP),e=CJ(CJ({},c),{},{payload:d});return Cr.isValidElement(a.content)?Cr.cloneElement(a.content,e):"function"==typeof a.content?Cr.createElement(a.content,e):Cr.createElement(CE,e)}function CR(a,b,c,d,e,f){var g,h,{layout:i,align:j,verticalAlign:k}=b;return a&&(void 0!==a.left&&null!==a.left||void 0!==a.right&&null!==a.right)||(g="center"===j&&"vertical"===i?{left:((d||0)-f.width)/2}:"right"===j?{right:c&&c.right||0}:{left:c&&c.left||0}),a&&(void 0!==a.top&&null!==a.top||void 0!==a.bottom&&null!==a.bottom)||(h="middle"===k?{top:((e||0)-f.height)/2}:"bottom"===k?{bottom:c&&c.bottom||0}:{top:c&&c.top||0}),CJ(CJ({},g),h)}function CS(a){var b=eA();return(0,Cr.useEffect)(()=>{b(q3(a))},[b,a]),null}function CT(a){var b=eA();return(0,Cr.useEffect)(()=>(b(q2(a)),()=>{b(q2({width:0,height:0}))}),[b,a]),null}function CU(a,b,c,d){return"vertical"===a&&null!=b?{height:b}:"horizontal"===a?{width:c||d}:null}var CV={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function CW(a){var b=tp(a,CV),c=CF(),d=sW(),e=gc(),{width:f,height:g,wrapperStyle:h,portal:i}=b,[j,k]=BM([c]),l=ga(),m=gb();if(null==l||null==m)return null;var n=l-((null==e?void 0:e.left)||0)-((null==e?void 0:e.right)||0),o=CU(b.layout,g,f,n),p=i?h:CJ(CJ({position:"absolute",width:(null==o?void 0:o.width)||f||"auto",height:(null==o?void 0:o.height)||g||"auto"},CR(h,b,e,l,m,j)),h),q=null!=i?i:d;if(null==q||null==c)return null;var r=Cr.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:k},Cr.createElement(CS,{layout:b.layout,align:b.align,verticalAlign:b.verticalAlign,itemSorter:b.itemSorter}),!i&&Cr.createElement(CT,{width:j.width,height:j.height}),Cr.createElement(CQ,CH({},b,o,{margin:e,chartWidth:l,chartHeight:m,contextPayload:c})));return(0,Cs.createPortal)(r,q)}CW.displayName="Legend";var CX=a.i(37999);function CY(){let[a,b]=(0,G.useState)([]),[c,d]=(0,G.useState)([]),[e,f]=(0,G.useState)(!0);(0,G.useEffect)(()=>{g()},[]);let g=async()=>{try{let a=(0,I.collection)(H.db,"players"),c=await (0,I.getDocs)(a),e=new Map(c.docs.map(a=>[a.id,{id:a.id,name:a.data().name,color:(0,CX.getPlayerColor)(a.data().name)}])),f=(0,I.collection)(H.db,"matches"),g=(0,I.query)(f,(0,I.orderBy)("date","asc")),h=(await (0,I.getDocs)(g)).docs.map(a=>({id:a.id,...a.data()})),i=new Map;c.docs.forEach(a=>{i.set(a.id,0)});let j=[],k={date:"Incio",matchIndex:0};e.forEach((a,b)=>{k[a.name]=0}),j.push(k),h.forEach((a,b)=>{a.results.forEach(a=>{let b=i.get(a.playerId)||0;i.set(a.playerId,b+a.points)});let c={date:a.date.toDate?a.date.toDate().toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"}):`Partida ${b+1}`,matchIndex:b+1};e.forEach((a,b)=>{c[a.name]=i.get(b)||0}),j.push(c)}),b(j),d(Array.from(e.values()))}catch(a){console.error("Erro ao carregar dados de evoluo:",a)}finally{f(!1)}};return e?(0,F.jsx)("div",{className:"bg-stone-900/50 border border-stone-800 rounded-xl p-8 mb-8",children:(0,F.jsxs)("div",{className:"text-center",children:[(0,F.jsx)("div",{className:"w-12 h-12 border-4 border-yellow-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,F.jsx)("p",{className:"text-stone-400",children:"Carregando evoluo dos pontos..."})]})}):a.length<=1?(0,F.jsx)("div",{className:"bg-stone-900/50 border border-stone-800 rounded-xl p-8 mb-8",children:(0,F.jsx)("p",{className:"text-stone-400 text-center",children:"Nenhuma partida registrada ainda. Adicione partidas para ver a evoluo dos pontos."})}):(0,F.jsxs)("div",{className:"bg-stone-900/50 border border-stone-800 rounded-xl p-6 mb-8 backdrop-blur-sm",children:[(0,F.jsx)("h3",{className:"text-2xl font-bold font-cinzel text-yellow-400 mb-6 text-center",children:" Evoluo dos Pontos"}),(0,F.jsx)(f5,{width:"100%",height:400,children:(0,F.jsxs)(tu,{data:a,margin:{top:5,right:30,left:20,bottom:5},children:[(0,F.jsx)(Bd,{strokeDasharray:"3 3",stroke:"#44403c"}),(0,F.jsx)(AB,{dataKey:"date",stroke:"#a8a29e",style:{fontSize:"12px"}}),(0,F.jsx)(AS,{stroke:"#a8a29e",style:{fontSize:"12px"},label:{value:"Pontos",angle:-90,position:"insideLeft",fill:"#a8a29e"}}),(0,F.jsx)(Cq,{contentStyle:{backgroundColor:"#1c1917",border:"1px solid #44403c",borderRadius:"8px",color:"#e7e5e4"}}),(0,F.jsx)(CW,{wrapperStyle:{paddingTop:"20px",fontSize:"14px"}}),c.map(a=>(0,F.jsx)(zD,{type:"monotone",dataKey:a.name,stroke:a.color,strokeWidth:3,dot:{fill:a.color,r:4},activeDot:{r:6}},a.id))]})})]})}var CZ=CX;function C$(){let[a,b]=(0,B.useState)([]),[c,d]=(0,B.useState)(!0);(0,B.useEffect)(()=>{e()},[]);let e=async()=>{try{let a=(0,D.collection)(C.db,"players"),c=(0,D.query)(a,(0,D.orderBy)("stats.points","desc")),d=(await (0,D.getDocs)(c)).docs.map(a=>({id:a.id,...a.data()}));b(d)}catch(a){console.error("Erro ao carregar jogadores:",a)}finally{d(!1)}};return c?(0,A.jsx)("section",{id:"classificacao",className:"min-h-screen bg-stone-950 text-stone-100 p-8 font-sans flex items-center justify-center",children:(0,A.jsxs)("div",{className:"text-center",children:[(0,A.jsx)("div",{className:"w-16 h-16 border-4 border-yellow-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,A.jsx)("p",{className:"text-stone-400",children:"Carregando classificao..."})]})}):(0,A.jsx)("section",{id:"classificacao",className:"min-h-screen bg-stone-950 text-stone-100 p-8 font-sans flex items-center",children:(0,A.jsxs)("div",{className:"max-w-5xl mx-auto w-full",children:[(0,A.jsxs)("div",{className:"text-center mb-12",children:[(0,A.jsx)("h2",{className:"text-4xl md:text-6xl font-bold font-cinzel text-transparent bg-clip-text bg-gradient-to-b from-yellow-200 to-yellow-600 mb-4",children:"Tabela de Classificao"}),(0,A.jsx)("p",{className:"text-stone-400 text-lg",children:"Quem dominar o imprio?"})]}),(0,A.jsx)(CY,{}),(0,A.jsx)("div",{className:"bg-stone-900/50 border border-stone-800 rounded-xl overflow-hidden backdrop-blur-sm",children:(0,A.jsx)("div",{className:"overflow-x-auto",children:(0,A.jsxs)("table",{className:"w-full",children:[(0,A.jsx)("thead",{className:"bg-stone-900/80 border-b border-stone-800",children:(0,A.jsxs)("tr",{children:[(0,A.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-stone-400 uppercase tracking-wider",children:"Posio"}),(0,A.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-stone-400 uppercase tracking-wider",children:"Jogador"}),(0,A.jsx)("th",{className:"px-6 py-4 text-center text-xs font-semibold text-stone-400 uppercase tracking-wider",children:"Pontos"}),(0,A.jsx)("th",{className:"px-6 py-4 text-center text-xs font-semibold text-stone-400 uppercase tracking-wider",children:"Vitrias"}),(0,A.jsx)("th",{className:"px-6 py-4 text-center text-xs font-semibold text-stone-400 uppercase tracking-wider",children:"Partidas"}),(0,A.jsx)("th",{className:"px-6 py-4 text-center text-xs font-semibold text-stone-400 uppercase tracking-wider",children:"Taxa de Vitria"})]})}),(0,A.jsx)("tbody",{className:"divide-y divide-stone-800",children:a.map((a,b)=>{let c=a.stats.matchesPlayed>0?(a.stats.wins/a.stats.matchesPlayed*100).toFixed(0):"0",d=0===b&&a.stats.points>0;return(0,A.jsxs)("tr",{className:"hover:bg-stone-800/50 transition-colors",children:[(0,A.jsx)("td",{className:"px-6 py-4",children:(0,A.jsxs)("div",{className:"flex items-center gap-2",children:[d&&(0,A.jsx)(E.Crown,{className:"w-5 h-5 text-yellow-500 animate-pulse"}),(0,A.jsxs)("span",{className:`text-2xl font-bold font-cinzel ${0===b?"text-yellow-500":1===b?"text-stone-300":2===b?"text-amber-700":"text-stone-500"}`,children:[b+1,""]})]})}),(0,A.jsx)("td",{className:"px-6 py-4",children:(0,A.jsxs)("div",{className:"flex items-center gap-3",children:[(0,A.jsx)("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:(0,CZ.getPlayerColor)(a.name)}}),(0,A.jsx)("img",{src:a.avatar_url,alt:a.name,className:"w-10 h-10 rounded-full ring-2 ring-yellow-700/50"}),(0,A.jsx)("span",{className:"font-semibold text-lg",children:a.name})]})}),(0,A.jsx)("td",{className:"px-6 py-4 text-center",children:(0,A.jsx)("span",{className:"text-2xl font-bold font-cinzel text-yellow-500",children:a.stats.points})}),(0,A.jsx)("td",{className:"px-6 py-4 text-center",children:(0,A.jsx)("span",{className:"text-lg font-semibold text-stone-300",children:a.stats.wins})}),(0,A.jsx)("td",{className:"px-6 py-4 text-center",children:(0,A.jsx)("span",{className:"text-lg text-stone-400",children:a.stats.matchesPlayed})}),(0,A.jsx)("td",{className:"px-6 py-4 text-center",children:(0,A.jsx)("div",{className:"flex items-center justify-center gap-1",children:(0,A.jsxs)("span",{className:"text-lg font-semibold text-stone-300",children:[c,"%"]})})})]},a.id)})})]})})})]})})}a.s(["default",()=>C$],16492)},55466,a=>{"use strict";let b=(0,a.i(86298).default)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);a.s(["Trophy",()=>b],55466)},71608,a=>{"use strict";var b=a.i(95300),c=a.i(60686),d=a.i(26356);a.i(45829);var e=a.i(55199);let f=(0,a.i(86298).default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var g=a.i(55466),h=a.i(37999);function i(){let[a,i]=(0,c.useState)([]),[j,k]=(0,c.useState)(!0);(0,c.useEffect)(()=>{l()},[]);let l=async()=>{try{let a=(0,e.collection)(d.db,"matches"),b=(0,e.query)(a,(0,e.orderBy)("date","desc")),c=await (0,e.getDocs)(b),f=(0,e.collection)(d.db,"players"),g=await (0,e.getDocs)(f),h=new Map(g.docs.map(a=>[a.id,a.data().name])),j=c.docs.map(a=>{let b=a.data();return{id:a.id,date:b.date,notes:b.notes,results:b.results.map(a=>({...a,playerName:h.get(a.playerId)||"Desconhecido"})).sort((a,b)=>a.rank-b.rank)}});i(j)}catch(a){console.error("Erro ao carregar partidas:",a)}finally{k(!1)}},m=a=>{if(!a)return"Data desconhecida";let b=a.toDate?a.toDate():new Date(a);return new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(b)},n=a=>{switch(a){case 1:return"";case 2:return"";case 3:return"";case 4:return"4";default:return""}};return j?(0,b.jsx)("section",{id:"partidas",className:"min-h-screen bg-stone-950 text-stone-100 p-8 font-sans flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 border-4 border-yellow-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-stone-400",children:"Carregando histrico..."})]})}):(0,b.jsx)("section",{id:"partidas",className:"min-h-screen bg-stone-950 text-stone-100 p-8 font-sans flex items-center",children:(0,b.jsxs)("div",{className:"max-w-4xl mx-auto w-full",children:[(0,b.jsxs)("div",{className:"text-center mb-12",children:[(0,b.jsx)("h2",{className:"text-4xl md:text-6xl font-bold font-cinzel text-transparent bg-clip-text bg-gradient-to-b from-yellow-200 to-yellow-600 mb-4",children:"Histrico de Partidas"}),(0,b.jsx)("p",{className:"text-stone-400 text-lg",children:"Todas as batalhas registradas"})]}),0===a.length?(0,b.jsxs)("div",{className:"text-center py-16 bg-stone-900/50 border border-stone-800 rounded-xl",children:[(0,b.jsx)(g.Trophy,{className:"w-16 h-16 text-stone-600 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-stone-400 text-lg mb-6",children:"Nenhuma partida registrada ainda."}),(0,b.jsx)("a",{href:"#adicionar",className:"inline-block px-6 py-3 bg-yellow-700 hover:bg-yellow-600 rounded-lg transition-colors font-semibold",children:"+ Adicionar Primeira Partida"})]}):(0,b.jsx)("div",{className:"space-y-6 max-h-[600px] overflow-y-auto pr-2 scrollbar-thin scrollbar-thumb-stone-700 scrollbar-track-stone-900",children:a.map(a=>(0,b.jsxs)("div",{className:"bg-stone-900/50 border border-stone-800 rounded-xl p-6 backdrop-blur-sm hover:border-yellow-700/50 transition-colors",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-stone-400 text-sm mb-4",children:[(0,b.jsx)(f,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:m(a.date)})]}),(0,b.jsx)("div",{className:"space-y-3",children:a.results.map((a,c)=>(0,b.jsxs)("div",{className:`flex items-center justify-between p-3 rounded-lg ${1===a.rank?"bg-yellow-900/20 border border-yellow-700/30":"bg-stone-800/30"}`,children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("span",{className:"text-2xl",children:n(a.rank)}),(0,b.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:(0,h.getPlayerColor)(a.playerName||"")}}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-semibold text-lg",children:a.playerName}),(0,b.jsxs)("p",{className:"text-xs text-stone-500",children:[a.rank," Lugar"]})]})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("p",{className:"text-2xl font-bold font-cinzel text-yellow-500",children:["+",a.points]}),(0,b.jsx)("p",{className:"text-xs text-stone-500",children:"pontos"})]})]},c))}),a.notes&&(0,b.jsx)("div",{className:"mt-4 pt-4 border-t border-stone-800",children:(0,b.jsxs)("p",{className:"text-sm text-stone-400 italic",children:[" ",a.notes]})})]},a.id))})]})})}a.s(["default",()=>i],71608)},35109,a=>{"use strict";var b=a.i(95300),c=a.i(60686),d=a.i(26356);a.i(45829);var e=a.i(55199),f=a.i(55466);function g(){let[a,g]=(0,c.useState)([]),[h,i]=(0,c.useState)([]),[j,k]=(0,c.useState)(new Date().toISOString().slice(0,16)),[l,m]=(0,c.useState)(""),[n,o]=(0,c.useState)(!1),[p,q]=(0,c.useState)(!1);(0,c.useEffect)(()=>{r()},[]);let r=async()=>{let a=(0,e.collection)(d.db,"players");g((await (0,e.getDocs)(a)).docs.map(a=>({id:a.id,...a.data()})))},s=a=>{if(h.find(b=>b.id===a.id))i(h.filter(b=>b.id!==a.id));else{if(h.length>=4)return void alert("Mximo de 4 jogadores por partida!");i([...h,{...a,rank:h.length+1}])}},t=(a,b)=>{let c=[...h],d="up"===b?a-1:a+1;d<0||d>=c.length||([c[a],c[d]]=[c[d],c[a]],c.forEach((a,b)=>a.rank=b+1),i(c))},u=a=>{switch(a){case 1:return 3;case 2:return 2;case 3:return 1;default:return 0}},v=async a=>{if(a.preventDefault(),h.length<3)return void alert("Selecione pelo menos 3 jogadores!");o(!0);try{let a={date:e.Timestamp.fromDate(new Date(j)),notes:l||null,results:h.map(a=>({playerId:a.id,rank:a.rank,points:u(a.rank)}))};for(let b of(await (0,e.addDoc)((0,e.collection)(d.db,"matches"),a),h)){let a=(0,e.doc)(d.db,"players",b.id),c=u(b.rank);await (0,e.updateDoc)(a,{"stats.points":(0,e.increment)(c),"stats.matchesPlayed":(0,e.increment)(1),"stats.wins":1===b.rank?(0,e.increment)(1):(0,e.increment)(0)})}q(!0),i([]),m(""),k(new Date().toISOString().slice(0,16)),setTimeout(()=>{q(!1),window.location.href="#classificacao",window.location.reload()},2e3)}catch(a){console.error("Erro ao adicionar partida:",a),alert("Erro ao adicionar partida. Tente novamente.")}finally{o(!1)}};return(0,b.jsx)("section",{id:"adicionar",className:"min-h-screen bg-stone-950 text-stone-100 p-8 font-sans flex items-center",children:(0,b.jsxs)("div",{className:"max-w-3xl mx-auto w-full",children:[(0,b.jsxs)("div",{className:"text-center mb-12",children:[(0,b.jsx)("h2",{className:"text-4xl md:text-6xl font-bold font-cinzel text-transparent bg-clip-text bg-gradient-to-b from-yellow-200 to-yellow-600 mb-4",children:"Adicionar Partida"}),(0,b.jsx)("p",{className:"text-stone-400 text-lg",children:"Registre os resultados da batalha"})]}),p?(0,b.jsxs)("div",{className:"bg-green-900/20 border border-green-700/50 rounded-xl p-8 text-center",children:[(0,b.jsx)(f.Trophy,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-2xl font-bold text-green-400 mb-2",children:"Partida Registrada!"}),(0,b.jsx)("p",{className:"text-stone-300",children:"Indo para a classificao..."})]}):(0,b.jsxs)("form",{onSubmit:v,className:"space-y-8",children:[(0,b.jsxs)("div",{className:"bg-stone-900/50 border border-stone-800 rounded-xl p-6",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-stone-400 mb-2 uppercase tracking-wider",children:" Data e Hora"}),(0,b.jsx)("input",{type:"datetime-local",value:j,onChange:a=>k(a.target.value),className:"w-full bg-stone-800 border border-stone-700 rounded-lg px-4 py-3 text-stone-100 focus:outline-none focus:ring-2 focus:ring-yellow-700",required:!0})]}),(0,b.jsxs)("div",{className:"bg-stone-900/50 border border-stone-800 rounded-xl p-6",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-stone-400 mb-4 uppercase tracking-wider",children:"Selecione os Jogadores (3-4)"}),(0,b.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:a.map(a=>{let c=h.find(b=>b.id===a.id);return(0,b.jsxs)("button",{type:"button",onClick:()=>s(a),className:`p-4 rounded-lg border-2 transition-all ${c?"border-yellow-700 bg-yellow-900/20":"border-stone-700 bg-stone-800/50 hover:border-stone-600"}`,children:[(0,b.jsx)("img",{src:a.avatar_url,alt:a.name,className:"w-12 h-12 rounded-full mx-auto mb-2"}),(0,b.jsx)("p",{className:"font-semibold text-center",children:a.name}),c&&(0,b.jsx)("p",{className:"text-xs text-yellow-500 text-center mt-1",children:"Selecionado"})]},a.id)})})]}),h.length>0&&(0,b.jsxs)("div",{className:"bg-stone-900/50 border border-stone-800 rounded-xl p-6",children:[(0,b.jsxs)("label",{className:"block text-sm font-semibold text-stone-400 mb-4 uppercase tracking-wider",children:["Ordem de Classificao (1 ao ",h.length,")"]}),(0,b.jsx)("div",{className:"space-y-3",children:h.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-stone-800/50 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,b.jsx)("button",{type:"button",onClick:()=>t(c,"up"),disabled:0===c,className:"text-stone-400 hover:text-stone-200 disabled:opacity-30",children:""}),(0,b.jsx)("button",{type:"button",onClick:()=>t(c,"down"),disabled:c===h.length-1,className:"text-stone-400 hover:text-stone-200 disabled:opacity-30",children:""})]}),(0,b.jsxs)("span",{className:"text-3xl font-bold font-cinzel text-yellow-500 w-12",children:[c+1,""]}),(0,b.jsx)("img",{src:a.avatar_url,alt:a.name,className:"w-10 h-10 rounded-full"}),(0,b.jsx)("span",{className:"font-semibold flex-1",children:a.name}),(0,b.jsxs)("span",{className:"text-yellow-500 font-bold",children:["+",u(c+1)," pts"]})]},a.id))})]}),(0,b.jsxs)("div",{className:"bg-stone-900/50 border border-stone-800 rounded-xl p-6",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-stone-400 mb-2 uppercase tracking-wider",children:"Observaes (Opcional)"}),(0,b.jsx)("textarea",{value:l,onChange:a=>m(a.target.value),placeholder:"Ex: Partida pica no mapa Black Forest...",className:"w-full bg-stone-800 border border-stone-700 rounded-lg px-4 py-3 text-stone-100 focus:outline-none focus:ring-2 focus:ring-yellow-700 resize-none",rows:3})]}),(0,b.jsx)("button",{type:"submit",disabled:n||h.length<3,className:"w-full px-6 py-4 bg-yellow-700 hover:bg-yellow-600 disabled:bg-stone-700 disabled:cursor-not-allowed rounded-lg transition-colors font-semibold text-lg",children:n?"Salvando...":" Registrar Partida"})]})]})})}a.s(["default",()=>g])},15946,a=>{"use strict";var b=a.i(95300),c=a.i(60686),d=a.i(15048),e=a.i(86298);let f=(0,e.default)("Scroll",[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]),g=(0,e.default)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);function h(){let[a,e]=(0,c.useState)("hero");(0,c.useEffect)(()=>{let a=()=>{let a=["hero","classificacao","partidas","adicionar"],b=window.scrollY+window.innerHeight/2;for(let c of a){let a=document.getElementById(c);if(a){let{offsetTop:d,offsetHeight:f}=a;if(b>=d&&b<d+f){e(c);break}}}};return window.addEventListener("scroll",a),()=>window.removeEventListener("scroll",a)},[]);let h=[{id:"hero",label:"Incio",icon:d.Crown},{id:"classificacao",label:"Classificao",icon:d.Crown},{id:"partidas",label:"Histrico",icon:f},{id:"adicionar",label:"Adicionar",icon:g}];return(0,b.jsx)("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-stone-950/95 backdrop-blur-md border-b border-stone-800",children:(0,b.jsx)("div",{className:"max-w-6xl mx-auto px-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,b.jsxs)("a",{href:"#hero",className:"flex items-center gap-2 group",children:[(0,b.jsx)(d.Crown,{className:"w-6 h-6 text-yellow-500 group-hover:text-yellow-400 transition-colors"}),(0,b.jsx)("span",{className:"font-bold font-cinzel text-lg text-yellow-500 group-hover:text-yellow-400 transition-colors hidden sm:block",children:"AOE4 Ranking"})]}),(0,b.jsx)("div",{className:"flex gap-1",children:h.map(c=>{let d=c.icon,e=a===c.id;return(0,b.jsxs)("a",{href:`#${c.id}`,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all ${e?"bg-yellow-700 text-stone-100":"text-stone-400 hover:text-stone-200 hover:bg-stone-800"}`,children:[(0,b.jsx)(d,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"hidden md:block font-semibold text-sm",children:c.label})]},c.id)})})]})})})}a.s(["default",()=>h],15946)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__a100d2cd._.js.map